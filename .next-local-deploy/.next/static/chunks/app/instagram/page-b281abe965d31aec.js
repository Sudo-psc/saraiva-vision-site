(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8777],{15239:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(54652),s=a.n(r)},16485:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(45105).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},20508:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(45105).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},45105:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(12115),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{color:i="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:c,children:d,...u}=a;return(0,r.createElement)("svg",{ref:l,...s,width:n,height:n,stroke:i,strokeWidth:c?24*Number(o)/Number(n):o,className:"lucide lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),...u},[...t.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...(Array.isArray(d)?d:[d])||[]])});return a.displayName="".concat(e),a}},54652:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return o},getImageProps:function(){return n}});let r=a(28140),s=a(75040),l=a(81356),i=r._(a(71124));function n(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let o=l.Image},56609:(e,t,a)=>{Promise.resolve().then(a.bind(a,66234))},66234:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var r=a(95155),s=a(12115),l=a(39885),i=a(67161),n=a(89559),o=a(85921),c=a(93499),d=a(20508),u=a(16485),m=a(15239);let x=e=>{let{maxPosts:t=4,layout:a="grid",showStats:x=!1,showCaption:p=!0,className:h=""}=e,[g,f]=(0,s.useState)([]),[y,b]=(0,s.useState)(!0),[v,w]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1),k=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||b(!0),w(null);let a=await fetch("/api/instagram?limit=".concat(t));if(!a.ok)throw Error("Failed to fetch: ".concat(a.status));let r=await a.json();if(r.success&&r.posts)f(r.posts);else throw Error("Invalid response format")}catch(e){console.error("Instagram fetch error:",e),w(e instanceof Error?e.message:"Failed to load posts")}finally{b(!1),N(!1)}},[t]);(0,s.useEffect)(()=>{k()},[k]);let A=async()=>{N(!0),await k(!0)},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return!e||e.length<=t?e:e.substring(0,t).trim()+"..."},M=e=>{e.permalink&&window.open(e.permalink,"_blank","noopener,noreferrer")};return y?(0,r.jsx)("section",{className:"py-12 bg-gray-50 ".concat(h),children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-6 md:px-8",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-6"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(t)].map((e,t)=>(0,r.jsx)("div",{className:"aspect-square bg-gray-300 rounded-xl"},t))})]})})}):v&&0===g.length?(0,r.jsx)("section",{className:"py-12 bg-gray-50 ".concat(h),children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-6 md:px-8 text-center",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[(0,r.jsx)(i.A,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao Carregar Posts"}),(0,r.jsx)("p",{className:"text-red-600 mb-4",children:v}),(0,r.jsx)("button",{onClick:A,className:"bg-red-600 hover:bg-red-700 text-white font-medium px-4 py-2 rounded-lg transition-colors",children:"Tentar Novamente"})]})})}):(0,r.jsx)("section",{className:"py-12 bg-gradient-to-br from-gray-50 to-blue-50 ".concat(h),children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 md:px-8",children:[(0,r.jsx)(l.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 rounded-lg",children:(0,r.jsx)(i.A,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Nos Siga no Instagram"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm md:text-base",children:"Acompanhe nossas novidades e dicas de sa\xfade ocular"})]})]}),(0,r.jsx)("button",{onClick:A,disabled:j,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-white rounded-lg transition-all disabled:opacity-50","aria-label":"Atualizar posts",children:(0,r.jsx)(n.A,{className:"w-5 h-5 ".concat(j?"animate-spin":"")})})]})}),(0,r.jsx)("div",{className:"grid ".concat("grid"===a?"grid-cols-2 md:grid-cols-4":"grid-cols-1 md:grid-cols-2"," gap-4"),children:g.map((e,t)=>(0,r.jsxs)(l.P.article,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1*t},className:"group relative bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>M(e),role:"button",tabIndex:0,onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),M(e))},"aria-label":"Post do Instagram: ".concat(e.caption?_(e.caption,50):"Sem legenda"),children:[(0,r.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-gray-100",children:[(0,r.jsx)(m.default,{src:"VIDEO"===e.media_type&&e.thumbnail_url?e.thumbnail_url:e.media_url||"/img/placeholder.svg",alt:e.caption?_(e.caption,100):"Post por ".concat(e.username),fill:!0,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 25vw, 300px",className:"object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"}),"VIDEO"===e.media_type&&(0,r.jsxs)("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-2 py-1 rounded-full text-xs font-medium backdrop-blur-sm flex items-center gap-1",children:[(0,r.jsx)(o.A,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"V\xcdDEO"})]}),"CAROUSEL_ALBUM"===e.media_type&&(0,r.jsx)("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-2 py-1 rounded-full text-xs font-medium backdrop-blur-sm",children:(0,r.jsx)("span",{children:"\xc1LBUM"})}),e.fallback&&(0,r.jsx)("div",{className:"absolute top-3 left-3 bg-orange-500/90 text-white px-2 py-1 rounded-full text-xs font-medium backdrop-blur-sm",children:"DEMO"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"}),(0,r.jsx)("div",{className:"absolute top-3 left-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,r.jsx)("div",{className:"bg-white/90 p-2 rounded-full shadow-lg backdrop-blur-sm",children:(0,r.jsx)(c.A,{className:"w-4 h-4 text-gray-700"})})})]}),(p||x)&&(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"w-4 h-4"}),(0,r.jsxs)("span",{className:"font-medium",children:["@",e.username||"saraivavision"]})]}),e.timestamp&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(u.A,{className:"w-4 h-4"}),(0,r.jsx)("time",{className:"text-xs",children:(e=>{if(!e)return"Recentemente";try{let t=new Date(e),a=new Date,r=Math.floor((a.getTime()-t.getTime())/864e5);if(0===r)return"Hoje";if(1===r)return"Ontem";if(r<7)return"".concat(r,"d atr\xe1s");if(r<30)return"".concat(Math.floor(r/7),"sem atr\xe1s");return"".concat(Math.floor(r/30),"m atr\xe1s")}catch(e){return"Recentemente"}})(e.timestamp)})]})]}),p&&e.caption&&(0,r.jsx)("p",{className:"text-gray-800 text-sm leading-relaxed line-clamp-2",children:_(e.caption,80)})]}),(0,r.jsx)("div",{className:"absolute inset-0 ring-2 ring-blue-500 ring-opacity-0 focus-within:ring-opacity-100 rounded-xl transition-all duration-200 pointer-events-none"})]},e.id))}),(0,r.jsx)(l.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-8",children:(0,r.jsxs)("a",{href:"https://instagram.com/saraivavision",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 hover:from-purple-600 hover:via-pink-600 hover:to-orange-600 text-white font-semibold px-6 py-3 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl",children:[(0,r.jsx)(i.A,{className:"w-5 h-5"}),"Seguir no Instagram",(0,r.jsx)(c.A,{className:"w-4 h-4"})]})})]})})}},67161:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(45105).A)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},83011:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=a(12115);function s(e,t){let a=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=a.current;e&&(a.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(a.current=l(e,r)),t&&(s.current=l(t,r))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let a=e(t);return"function"==typeof a?a:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},85921:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(45105).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},89559:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(45105).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},93499:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(45105).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])}},e=>{e.O(0,[9885,1356,8441,1255,7358],()=>e(e.s=56609)),_N_E=e.O()}]);