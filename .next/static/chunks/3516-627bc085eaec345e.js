(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3516],{19457:(e,t,a)=>{"use strict";a.d(t,{A:()=>eu});var r=a(37876),s=a(14232),o=a(50839),n=a(34846),i=a(79890),l=a(52958),c=a(43304),d=a(57009),m=a(18024),u=a(55194),p=a(21271),g=a(30449),h=a(78539),x=a(42743),f=a(15471),v=a(33616),b=a(79039),y=a(43279),j=a(96023),N=a(30965);let w=0,_={state:{toasts:[]},listeners:[],getState:()=>_.state,setState:e=>{"function"==typeof e?_.state=e(_.state):_.state={..._.state,...e},_.listeners.forEach(e=>e(_.state))},subscribe:e=>(_.listeners.push(e),()=>{_.listeners=_.listeners.filter(t=>t!==e)})},E=e=>{let{...t}=e,a=(w=(w+1)%Number.MAX_VALUE).toString(),r=()=>_.setState(e=>({...e,toasts:e.toasts.filter(e=>e.id!==a)}));return _.setState(e=>({...e,toasts:[{...t,id:a,dismiss:r},...e.toasts].slice(0,1)})),{id:a,dismiss:r,update:e=>_.setState(t=>({...t,toasts:t.toasts.map(t=>t.id===a?{...t,...e}:t)}))}},A={VALIDATION:"validation",NETWORK:"network",API:"api",RATE_LIMIT:"rate_limit",RECAPTCHA:"recaptcha",EMAIL_SERVICE:"email_service",UNKNOWN:"unknown"},k={LOW:"low",MEDIUM:"medium",HIGH:"high",CRITICAL:"critical"},C={"validation.name_required":{userMessage:"O nome \xe9 obrigat\xf3rio.",field:"name",severity:k.MEDIUM,recovery:"Por favor, insira seu nome completo.",ariaLabel:"Erro no campo nome: nome \xe9 obrigat\xf3rio",retryable:!1},"validation.name_too_short":{userMessage:"O nome deve ter pelo menos 3 caracteres.",field:"name",severity:k.LOW,recovery:"Por favor, insira seu nome completo.",ariaLabel:"Erro no campo nome: muito curto",retryable:!1},"validation.name_too_long":{userMessage:"O nome \xe9 muito longo.",field:"name",severity:k.LOW,recovery:"Use no m\xe1ximo 50 caracteres.",ariaLabel:"Erro no campo nome: muito longo",retryable:!1},"validation.name_invalid":{userMessage:"Nome cont\xe9m caracteres inv\xe1lidos.",field:"name",severity:k.LOW,recovery:"Use apenas letras e espa\xe7os.",ariaLabel:"Erro no campo nome: caracteres inv\xe1lidos",retryable:!1},"validation.invalid":{userMessage:"Valor inv\xe1lido.",field:"unknown",severity:k.LOW,recovery:"Verifique o valor inserido.",ariaLabel:"Erro de valida\xe7\xe3o: valor inv\xe1lido",retryable:!1},"validation.email_required":{userMessage:"O email \xe9 obrigat\xf3rio.",field:"email",severity:k.MEDIUM,recovery:"Por favor, insira um endere\xe7o de email v\xe1lido.",ariaLabel:"Erro no campo email: email \xe9 obrigat\xf3rio",retryable:!1},"validation.email_invalid":{userMessage:"Email inv\xe1lido.",field:"email",severity:k.LOW,recovery:"Verifique o formato do email (ex: nome@dominio.com).",ariaLabel:"Erro no campo email: formato inv\xe1lido",retryable:!1},"validation.email_too_long":{userMessage:"Email muito longo.",field:"email",severity:k.LOW,recovery:"Use no m\xe1ximo 100 caracteres.",ariaLabel:"Erro no campo email: muito longo",retryable:!1},"validation.phone_required":{userMessage:"O telefone \xe9 obrigat\xf3rio.",field:"phone",severity:k.MEDIUM,recovery:"Por favor, insira um n\xfamero de telefone v\xe1lido.",ariaLabel:"Erro no campo telefone: telefone \xe9 obrigat\xf3rio",retryable:!1},"validation.phone_invalid":{userMessage:"Telefone inv\xe1lido.",field:"phone",severity:k.LOW,recovery:"Insira um n\xfamero de telefone v\xe1lido com DDD.",ariaLabel:"Erro no campo telefone: formato inv\xe1lido",retryable:!1},"validation.message_required":{userMessage:"A mensagem \xe9 obrigat\xf3ria.",field:"message",severity:k.MEDIUM,recovery:"Por favor, descreva sua consulta ou d\xfavida.",ariaLabel:"Erro no campo mensagem: mensagem \xe9 obrigat\xf3ria",retryable:!1},"validation.message_too_short":{userMessage:"A mensagem \xe9 muito curta.",field:"message",severity:k.LOW,recovery:"A mensagem deve ter pelo menos 10 caracteres.",ariaLabel:"Erro no campo mensagem: muito curta",retryable:!1},"validation.message_too_long":{userMessage:"A mensagem \xe9 muito longa.",field:"message",severity:k.LOW,recovery:"Use no m\xe1ximo 2000 caracteres.",ariaLabel:"Erro no campo mensagem: muito longa",retryable:!1},"validation.message_contains_links":{userMessage:"Links n\xe3o s\xe3o permitidos na mensagem.",field:"message",severity:k.MEDIUM,recovery:"Remova qualquer link ou URL da mensagem.",ariaLabel:"Erro no campo mensagem: cont\xe9m links n\xe3o permitidos",retryable:!1},"validation.consent_required":{userMessage:"\xc9 necess\xe1rio aceitar os termos de privacidade.",field:"consent",severity:k.MEDIUM,recovery:"Marque a caixa de consentimento para continuar.",ariaLabel:"Erro no consentimento: aceita\xe7\xe3o dos termos \xe9 obrigat\xf3ria",retryable:!1},"network.offline":{userMessage:"Voc\xea est\xe1 offline.",severity:k.HIGH,recovery:"Verifique sua conex\xe3o com a internet e tente novamente.",ariaLabel:"Erro de conex\xe3o: sem conex\xe3o com a internet",retryable:!0,retryDelay:2e3,maxRetries:5},"network.timeout":{userMessage:"A conex\xe3o expirou.",severity:k.MEDIUM,recovery:"Tente novamente em alguns instantes.",ariaLabel:"Erro de conex\xe3o: tempo limite excedido",retryable:!0,retryDelay:1e3,maxRetries:3},"network.failed":{userMessage:"Falha na conex\xe3o.",severity:k.MEDIUM,recovery:"Verifique sua conex\xe3o e tente novamente.",ariaLabel:"Erro de conex\xe3o: falha na comunica\xe7\xe3o",retryable:!0,retryDelay:1500,maxRetries:3},"network.dns_error":{userMessage:"Erro de resolu\xe7\xe3o de DNS.",severity:k.HIGH,recovery:"Verifique sua conex\xe3o DNS ou tente novamente mais tarde.",ariaLabel:"Erro de conex\xe3o: problema de DNS",retryable:!0,retryDelay:3e3,maxRetries:2},"api.missing_token":{userMessage:"Token de verifica\xe7\xe3o ausente.",severity:k.HIGH,recovery:"Recarregue a p\xe1gina e tente novamente.",ariaLabel:"Erro de seguran\xe7a: token de verifica\xe7\xe3o ausente",retryable:!0,retryDelay:2e3,maxRetries:2},"api.recaptcha_failed":{userMessage:"Falha na verifica\xe7\xe3o de seguran\xe7a.",severity:k.HIGH,recovery:"Aguarde alguns instantes e tente novamente.",ariaLabel:"Erro de seguran\xe7a: falha na verifica\xe7\xe3o reCAPTCHA",retryable:!0,retryDelay:3e3,maxRetries:2},"api.missing_required_fields":{userMessage:"Campos obrigat\xf3rios n\xe3o preenchidos.",severity:k.MEDIUM,recovery:"Preencha todos os campos obrigat\xf3rios.",ariaLabel:"Erro de valida\xe7\xe3o: campos obrigat\xf3rios n\xe3o preenchidos",retryable:!1},"api.rate_limited":{userMessage:"Muitas tentativas. Aguarde um momento.",severity:k.MEDIUM,recovery:"Aguarde alguns minutos antes de tentar novamente.",ariaLabel:"Erro de limite: muitas tentativas realizadas",retryable:!0,retryDelay:6e4,maxRetries:1},"api.email_service_error":{userMessage:"Erro no servi\xe7o de email.",severity:k.HIGH,recovery:"Tente novamente mais tarde ou entre em contato por telefone.",ariaLabel:"Erro de servi\xe7o: falha no envio de email",retryable:!0,retryDelay:5e3,maxRetries:2},"api.server_error":{userMessage:"Erro interno do servidor.",severity:k.HIGH,recovery:"Tente novamente em alguns minutos.",ariaLabel:"Erro do servidor: erro interno",retryable:!0,retryDelay:1e4,maxRetries:2},"api.service_unavailable":{userMessage:"Servi\xe7o temporariamente indispon\xedvel.",severity:k.HIGH,recovery:"Tente novamente em alguns minutos ou entre em contato por telefone.",ariaLabel:"Erro de servi\xe7o: servi\xe7o indispon\xedvel",retryable:!0,retryDelay:15e3,maxRetries:1},"recaptcha.missing_token":{userMessage:"Verifica\xe7\xe3o de seguran\xe7a n\xe3o conclu\xedda.",severity:k.HIGH,recovery:"Recarregue a p\xe1gina e tente novamente.",ariaLabel:"Erro de seguran\xe7a: verifica\xe7\xe3o reCAPTCHA n\xe3o conclu\xedda",retryable:!0,retryDelay:2e3,maxRetries:2},"recaptcha.missing_secret":{userMessage:"Erro de configura\xe7\xe3o de seguran\xe7a.",severity:k.CRITICAL,recovery:"Entre em contato com o suporte t\xe9cnico.",ariaLabel:"Erro cr\xedtico: configura\xe7\xe3o de seguran\xe7a incorreta",retryable:!1},"recaptcha.verification_failed":{userMessage:"Falha na verifica\xe7\xe3o reCAPTCHA.",severity:k.HIGH,recovery:"Aguarde alguns instantes e tente novamente.",ariaLabel:"Erro de seguran\xe7a: falha na verifica\xe7\xe3o reCAPTCHA",retryable:!0,retryDelay:3e3,maxRetries:2},"recaptcha.low_score":{userMessage:"Verifica\xe7\xe3o de seguran\xe7a falhou.",severity:k.HIGH,recovery:"Tente novamente ou use outro navegador.",ariaLabel:"Erro de seguran\xe7a: pontua\xe7\xe3o baixa no reCAPTCHA",retryable:!0,retryDelay:5e3,maxRetries:1},"recaptcha.network_error":{userMessage:"Erro na verifica\xe7\xe3o de seguran\xe7a.",severity:k.MEDIUM,recovery:"Verifique sua conex\xe3o e tente novamente.",ariaLabel:"Erro de conex\xe3o: falha na verifica\xe7\xe3o de seguran\xe7a",retryable:!0,retryDelay:2e3,maxRetries:3},email_service_unavailable:{userMessage:"Servi\xe7o de email indispon\xedvel.",severity:k.HIGH,recovery:"Tente novamente mais tarde ou entre em contato por telefone.",ariaLabel:"Erro de servi\xe7o: servi\xe7o de email indispon\xedvel",retryable:!0,retryDelay:1e4,maxRetries:2},email_send_failed:{userMessage:"Falha ao enviar email.",severity:k.HIGH,recovery:"Tente novamente ou entre em contato diretamente.",ariaLabel:"Erro de envio: falha ao enviar email",retryable:!0,retryDelay:5e3,maxRetries:2},email_template_error:{userMessage:"Erro na formata\xe7\xe3o do email.",severity:k.MEDIUM,recovery:"Tente novamente. Se persistir, entre em contato por telefone.",ariaLabel:"Erro de formata\xe7\xe3o: problema no template de email",retryable:!0,retryDelay:2e3,maxRetries:1},unknown:{userMessage:"Ocorreu um erro inesperado.",severity:k.MEDIUM,recovery:"Tente novamente. Se o problema persistir, entre em contato conosco.",ariaLabel:"Erro desconhecido: ocorreu um problema inesperado",retryable:!0,retryDelay:3e3,maxRetries:2},timeout:{userMessage:"A opera\xe7\xe3o demorou mais que o esperado.",severity:k.MEDIUM,recovery:"Tente novamente com uma conex\xe3o mais est\xe1vel.",ariaLabel:"Erro de tempo: opera\xe7\xe3o demorou muito para completar",retryable:!0,retryDelay:2e3,maxRetries:2}};function I(e){if(!e)return{type:A.UNKNOWN,code:"unknown"};if("NetworkError"===e.name||"NETWORK_ERROR"===e.code)return{type:A.NETWORK,code:"network.failed"};if("TimeoutError"===e.name||"TIMEOUT_ERROR"===e.code)return{type:A.NETWORK,code:"network.timeout"};if("undefined"!=typeof navigator&&!navigator.onLine)return{type:A.NETWORK,code:"network.offline"};if(e.error)switch(e.error){case"missing_token":return{type:A.API,code:"api.missing_token"};case"recaptcha_failed":return{type:A.RECAPTCHA,code:"api.recaptcha_failed"};case"missing_required_fields":return{type:A.API,code:"api.missing_required_fields"};case"rate_limited":return{type:A.RATE_LIMIT,code:"api.rate_limited"};case"email_service_error":return{type:A.EMAIL_SERVICE,code:"api.email_service_error"};default:return{type:A.API,code:e.error}}if(e.field)return{type:A.VALIDATION,code:"validation.".concat(e.code||"invalid")};if(e.code)switch(e.code){case"missing_token":return{type:A.RECAPTCHA,code:"recaptcha.missing_token"};case"missing_secret":return{type:A.RECAPTCHA,code:"recaptcha.missing_secret"};case"verification_failed":return{type:A.RECAPTCHA,code:"recaptcha.verification_failed"};case"low_score":return{type:A.RECAPTCHA,code:"recaptcha.low_score"};case"network_error":return{type:A.RECAPTCHA,code:"recaptcha.network_error"};default:return{type:A.UNKNOWN,code:e.code}}return{type:A.UNKNOWN,code:"unknown"}}function D(e){let{type:t,code:a}=I(e);return{...C[a]||C.unknown,type:t,code:a,originalError:e}}let S={default:{maxAttempts:3,baseDelay:1e3,maxDelay:3e4,backoffFactor:2,jitterFactor:.1},network:{maxAttempts:5,baseDelay:2e3,maxDelay:6e4,backoffFactor:1.5,jitterFactor:.2},api:{maxAttempts:3,baseDelay:1500,maxDelay:45e3,backoffFactor:2,jitterFactor:.15},rateLimit:{maxAttempts:2,baseDelay:6e4,maxDelay:3e5,backoffFactor:2,jitterFactor:.1}};function M(e){let{type:t}=I(e),a=D(e);if(!1===a.retryable)return null;if(void 0!==a.maxRetries)return{maxAttempts:a.maxRetries,baseDelay:a.retryDelay||S.default.baseDelay,shouldRetry:()=>!1!==a.retryable};switch(t){case A.NETWORK:return{...S.network,shouldRetry:e=>"NetworkError"===e.name||"TimeoutError"===e.name};case A.RATE_LIMIT:return{...S.rateLimit,shouldRetry:e=>"rate_limited"===e.error};case A.API:return{...S.api,shouldRetry:e=>e.status>=500||"TimeoutError"===e.name};case A.EMAIL_SERVICE:return{...S.api,shouldRetry:e=>"email_service_error"===e.error||e.status>=500};case A.RECAPTCHA:return{maxAttempts:2,baseDelay:3e3,shouldRetry:e=>"missing_secret"!==e.code};default:return S.default}}async function R(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.config||S.default,s=a.maxAttempts||r.maxAttempts,o=a.shouldRetry||(()=>!0),n=a.onRetry||(()=>{}),i=a.errorType||"default",l=1;for(;l<=s;)try{let a=await e();return l>1&&L(t,{action:"retry_success",attempt:l,totalAttempts:s}),a}catch(a){if(t=a,l===s||!o(a))throw L(a,{action:"retry_failed",attempt:l,totalAttempts:s,finalFailure:!0}),a;let e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=a||S[t]||S.default,s=Math.min(r.baseDelay*Math.pow(r.backoffFactor,e-1),r.maxDelay),o=s*r.jitterFactor*Math.random();return Math.floor(Math.min(s+o,r.maxDelay))}(l,i,r);n({error:a,attempt:l,maxAttempts:s,delay:e,nextAttemptIn:e}),L(a,{action:"retry_attempt",attempt:l,totalAttempts:s,delay:e}),await new Promise(t=>setTimeout(t,e)),l++}throw t}async function T(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return R(()=>e(t),{...a,onRetry:e=>{O("Tentativa ".concat(e.attempt," de ").concat(e.maxAttempts,". ")+"Tentando novamente em ".concat(Math.ceil(e.delay/1e3)," segundos.")),a.onRetry&&a.onRetry(e)}})}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=I(e);return{timestamp:new Date().toISOString(),type:a.type,code:a.code,message:e.message||"Unknown error",context:t}}function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite";if("undefined"==typeof document)return;let a=document.getElementById("error-announcer");a||((a=document.createElement("div")).id="error-announcer",a.setAttribute("aria-live",t),a.setAttribute("aria-atomic","true"),a.style.position="absolute",a.style.left="-10000px",a.style.width="1px",a.style.height="1px",a.style.overflow="hidden",document.body.appendChild(a)),a.textContent="",setTimeout(()=>{a.textContent=e},100),setTimeout(()=>{a.textContent===e&&(a.textContent="")},1e4)}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=D(e),r=F(a.severity),s="".concat(r.label,": ").concat(a.userMessage);return a.field&&(s="Erro no campo ".concat(a.field,": ").concat(a.userMessage)),t.action&&(s="".concat(t.action,": ").concat(s)),O(s,[k.HIGH,k.CRITICAL].includes(a.severity)?"assertive":"polite"),s}function F(e){switch(e){case k.LOW:return{color:"yellow",icon:"⚠️",label:"Aten\xe7\xe3o",ariaLabel:"Aviso de aten\xe7\xe3o",role:"img"};case k.MEDIUM:return{color:"orange",icon:"\uD83D\uDD36",label:"Aviso",ariaLabel:"Aviso importante",role:"img"};case k.HIGH:return{color:"red",icon:"\uD83D\uDD34",label:"Erro",ariaLabel:"Erro cr\xedtico",role:"img"};case k.CRITICAL:return{color:"darkred",icon:"\uD83D\uDEA8",label:"Cr\xedtico",ariaLabel:"Erro cr\xedtico do sistema",role:"img"};default:return{color:"gray",icon:"❓",label:"Desconhecido",ariaLabel:"Erro desconhecido",role:"img"}}}let V={baseUrl:"/api",timeout:3e4};class H{handleStatusChange(e){this.online=e,this.listeners.forEach(t=>t(e))}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}isOnline(){return this.online}constructor(){this.online=navigator.onLine,this.listeners=[],window.addEventListener("online",()=>this.handleStatusChange(!0)),window.addEventListener("offline",()=>this.handleStatusChange(!1))}}let q=new H;async function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V.timeout,r=new AbortController,s=setTimeout(()=>r.abort(),a);try{let a=await fetch(e,{...t,signal:r.signal});if(clearTimeout(s),!a.ok){let e=await a.json().catch(()=>({}));throw{name:"ApiError",message:e.message||"HTTP ".concat(a.status),status:a.status,error:e.error||"api_error",details:e.details||null,response:a}}return a}catch(e){if(clearTimeout(s),"AbortError"===e.name)throw{name:"TimeoutError",message:"Request timeout",code:"NETWORK_ERROR"};if(!navigator.onLine)throw{name:"NetworkError",message:"No internet connection",code:"NETWORK_OFFLINE"};throw e}}async function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(V.baseUrl).concat(e),r={method:"GET",headers:{"Content-Type":"application/json",...t.headers},...t};try{return await R(async()=>{let e=await U(a,r);return await e.json()},{errorType:"api",onRetry:t=>{L(t.error,{endpoint:e,method:r.method,attempt:t.attempt,maxAttempts:t.maxAttempts})},shouldRetry:e=>{let t=I(e);return e.status&&e.status>=400&&e.status<500?429===e.status:["network","api","unknown"].includes(t.type)}})}catch(t){throw L(t,{endpoint:e,method:r.method,finalFailure:!0}),P(t,{action:"Falha na comunica\xe7\xe3o com o servidor"}),t}}async function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!q.isOnline()){let e={name:"NetworkError",message:"No internet connection",code:"NETWORK_OFFLINE"};throw P(e,{action:"Envio do formul\xe1rio"}),e}let a=["name","email","message","token"].filter(t=>!e[t]);if(a.length>0){let e={name:"ValidationError",message:"Missing required fields",field:a[0],code:"missing_required_fields"};throw P(e,{action:"Valida\xe7\xe3o do formul\xe1rio"}),e}let r={...e,timestamp:new Date().toISOString(),userAgent:"undefined"!=typeof navigator?navigator.userAgent:"unknown"},s=async()=>({success:!0,data:await G("/contact",{method:"POST",body:JSON.stringify(r)}),timestamp:new Date().toISOString()});try{var o;let a=await T(()=>s(),e,{errorType:"api",onRetry:a=>{L(a.error,{endpoint:"/contact",method:"POST",attempt:a.attempt,maxAttempts:a.maxAttempts,formData:W(e)}),t.onRetry&&t.onRetry(a)},shouldRetry:e=>{let t=M(e);return t&&t.shouldRetry(e)}});return o=t.attempt||1,O(o>1?"Sucesso na tentativa ".concat(o,". Formul\xe1rio enviado com \xeaxito."):"Formul\xe1rio enviado com sucesso.","polite"),a}catch(r){let a={...r,context:{endpoint:"/contact",method:"POST",timestamp:new Date().toISOString(),hasRecaptcha:!!e.token,formFields:Object.keys(e),attempt:t.attempt||1}};throw L(a,{formData:W(e),finalFailure:!0}),P(a,{action:"Envio do formul\xe1rio falhou"}),a}}function W(e){let t={...e};return delete t.token,t}let K={storeForRetry:e=>{try{let t=JSON.parse(localStorage.getItem("failedContactSubmissions")||"[]");t.push({...e,timestamp:new Date().toISOString(),retryCount:0});let a=t.slice(-5);return localStorage.setItem("failedContactSubmissions",JSON.stringify(a)),!0}catch(e){return console.error("Failed to store submission for retry:",e),!1}},retryFailedSubmissions:async()=>{try{let e=JSON.parse(localStorage.getItem("failedContactSubmissions")||"[]");if(0===e.length)return{success:!0,retried:0};let t=[],a=[];for(let r of e){if(r.retryCount>=3){a.push(r);continue}try{let{timestamp:e,retryCount:a,...s}=r;await z(s),t.push({success:!0,originalTimestamp:e})}catch(e){r.retryCount=(r.retryCount||0)+1,a.push(r),t.push({success:!1,originalTimestamp:r.timestamp,error:e.message})}}return localStorage.setItem("failedContactSubmissions",JSON.stringify(a)),{success:!0,retried:t.length,results:t}}catch(e){return L(e,{action:"retry_failed_submissions"}),{success:!1,error:e.message}}}};class B{loadFromStorage(){try{let e=localStorage.getItem("apiCache");if(e){let t=JSON.parse(e);this.cache=new Map(Object.entries(t))}}catch(e){console.warn("Failed to load API cache from storage:",e)}}saveToStorage(){try{let e=Object.fromEntries(this.cache);localStorage.setItem("apiCache",JSON.stringify(e))}catch(e){console.warn("Failed to save API cache to storage:",e)}}set(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5,r=Date.now()+a;this.cache.set(e,{data:t,expiry:r}),this.saveToStorage()}get(e){let t=this.cache.get(e);return t?Date.now()>t.expiry?(this.cache.delete(e),this.saveToStorage(),null):t.data:null}clear(){this.cache.clear(),this.saveToStorage()}constructor(){this.cache=new Map,this.loadFromStorage()}}new B;var $=a(19878),J=a(97842),X=a(66691);let Y=e=>{let{error:t,onRetry:a,onDismiss:o,className:n="",showRecoverySteps:i=!0,showContactInfo:c=!0,compact:m=!1,retryAttempt:p=0,maxRetries:g=3,isRetrying:h=!1,autoAnnounce:x=!0}=e,v=(0,s.useRef)(null),b=(0,s.useRef)(null);if(!t)return null;let y=D(t),j=function(e){let t=D(e),a=[];switch(a.push(t.recovery),t.type){case A.NETWORK:a.push("Verifique sua conex\xe3o Wi-Fi ou dados m\xf3veis."),a.push("Tente recarregar a p\xe1gina.");break;case A.RECAPTCHA:a.push("Limpe o cache e cookies do navegador."),a.push("Tente usar o modo an\xf4nimo do navegador.");break;case A.RATE_LIMIT:a.push("Aguarde alguns minutos antes de tentar novamente."),a.push("Se precisar de ajuda urgente, ligue diretamente para n\xf3s.");break;case A.EMAIL_SERVICE:a.push("Tente novamente em alguns minutos."),a.push("Entre em contato por telefone: +55 33 99860-1427");break;default:a.push("Se o problema persistir, entre em contato conosco.")}return a.filter(e=>e&&""!==e.trim())}(t),N=F(y.severity),w=function(e){let t=D(e);if(!1===t.retryable)return!1;let a=[A.CRITICAL],{type:r}=I(e);return!a.includes(r)&&t.severity!==k.CRITICAL}(t),_=M(t),E=a&&w&&_&&p<g;return((0,s.useEffect)(()=>{x&&t&&t!==b.current&&(P(t,{action:"Erro no formul\xe1rio",retryAttempt:p>0?p:void 0}),b.current=t)},[t,x,p]),(0,s.useEffect)(()=>{v.current&&!m&&v.current.focus()},[t,m]),m)?(0,r.jsx)("div",{ref:v,className:"p-3 rounded-lg border ".concat(n),style:{backgroundColor:"".concat(N.color,"10"),borderColor:"".concat(N.color,"30")},role:"alert","aria-live":"polite","aria-labelledby":"error-message",tabIndex:-1,children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-lg",role:N.role,"aria-label":N.ariaLabel,children:N.icon}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{id:"error-message",className:"text-sm font-medium text-gray-800",children:y.userMessage}),p>0&&(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Tentativa ",p," de ",g]}),E&&(0,r.jsxs)("button",{onClick:a,disabled:h,className:"mt-1 text-xs text-blue-600 hover:text-blue-800 disabled:text-gray-400 flex items-center gap-1","aria-describedby":"retry-description",children:[h?(0,r.jsx)(u.A,{size:12,className:"animate-spin"}):(0,r.jsx)($.A,{size:12}),h?"Tentando...":"Tentar novamente"]}),E&&(0,r.jsx)("span",{id:"retry-description",className:"sr-only",children:"Clique para tentar enviar o formul\xe1rio novamente"})]}),o&&(0,r.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 p-0.5","aria-label":"Fechar mensagem de erro",children:(0,r.jsx)(J.A,{size:14})})]})}):(0,r.jsxs)("div",{ref:v,className:"p-4 rounded-lg border ".concat(n),style:{backgroundColor:"".concat(N.color,"10"),borderColor:"".concat(N.color,"30")},role:"alert","aria-live":"assertive","aria-labelledby":"error-title","aria-describedby":"error-description",tabIndex:-1,children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("span",{className:"text-2xl",role:N.role,"aria-label":N.ariaLabel,children:N.icon})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h4",{id:"error-title",className:"text-lg font-semibold text-gray-800",children:N.label}),y.field&&(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:["Campo: ",y.field]}),p>0&&(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-100 text-orange-700",children:["Tentativa ",p,"/",g]})]}),(0,r.jsx)("p",{id:"error-description",className:"text-gray-700",children:y.userMessage}),y.ariaLabel&&(0,r.jsx)("span",{className:"sr-only",children:y.ariaLabel})]}),o&&(0,r.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 p-1","aria-label":"Fechar mensagem de erro",children:(0,r.jsx)(J.A,{size:18})})]}),i&&j.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h5",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[(0,r.jsx)(X.A,{size:14}),"O que voc\xea pode fazer:"]}),(0,r.jsx)("ul",{className:"space-y-1",children:j.map((e,t)=>(0,r.jsxs)("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-gray-400 mt-0.5",children:"•"}),(0,r.jsx)("span",{children:e})]},t))})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[E&&(0,r.jsxs)("button",{onClick:a,disabled:h,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm font-medium","aria-describedby":"retry-info",children:[h?(0,r.jsx)(u.A,{size:16,className:"animate-spin"}):(0,r.jsx)($.A,{size:16}),h?"Tentando...":"Tentar novamente"]}),E&&(0,r.jsx)("div",{id:"retry-info",className:"sr-only",children:_?"Tentativa ".concat(p+1," de ").concat(g,". ").concat(_.maxAttempts-p-1," tentativas restantes."):"Clique para tentar novamente"}),"network"===y.type&&(0,r.jsxs)("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm font-medium","aria-label":"Recarregar a p\xe1gina para tentar resolver problemas de conex\xe3o",children:[(0,r.jsx)(f.A,{size:16}),"Recarregar p\xe1gina"]})]}),c&&(0,r.jsxs)("div",{className:"border-t pt-3",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Se o problema persistir, entre em contato diretamente:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)("a",{href:"tel:+5533998601427",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800",children:[(0,r.jsx)(l.A,{size:16}),"+55 33 99860-1427"]}),(0,r.jsxs)("a",{href:"mailto:saraivavision@gmail.com",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800",children:[(0,r.jsx)(d.A,{size:16}),"saraivavision@gmail.com"]})]})]}),!1]})};var Q=a(51802),Z=a(81645);let ee={html:e=>"string"!=typeof e?"":e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").trim(),text:e=>"string"!=typeof e?"":ee.html(e).replace(/\0/g,"").replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"").trim().replace(/\s+/g," "),email:e=>"string"!=typeof e?"":e.trim().toLowerCase(),phone:e=>"string"!=typeof e?"":e.replace(/[^\d\s()\-+]/g,"").trim()};function et(e){if(10!==e.length&&11!==e.length)return!1;let t=e.substring(0,2);if(11>parseInt(t)||parseInt(t)>99)return!1;if(11===e.length)return"9"===e.charAt(2);if(10===e.length){let t=e.charAt(2);return t>="2"&&t<="8"}return!1}let ea=Q.Yj().min(1,"Telefone \xe9 obrigat\xf3rio").transform(ee.phone).refine(e=>{let t=e.replace(/\D/g,"");return!(t.length<10)&&!(t.length>13)&&(e.startsWith("+55")?(12===t.length||13===t.length)&&et(t.substring(2)):et(t))},{message:"Formato de telefone inv\xe1lido. Use: (11) 99999-9999 ou +55 11 99999-9999"}),er=Q.Ik({name:Q.Yj().min(1,"Nome \xe9 obrigat\xf3rio").min(2,"Nome deve ter pelo menos 2 caracteres").max(100,"Nome deve ter no m\xe1ximo 100 caracteres").transform(ee.text).refine(e=>e.length>=2,{message:"Nome deve ter pelo menos 2 caracteres ap\xf3s sanitiza\xe7\xe3o"}),email:Q.Yj().min(1,"Email \xe9 obrigat\xf3rio").transform(ee.email).refine(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),{message:"Formato de email inv\xe1lido"}).refine(e=>e.length<=254,{message:"Email deve ter no m\xe1ximo 254 caracteres"}),phone:ea,message:Q.Yj().min(1,"Mensagem \xe9 obrigat\xf3ria").min(10,"Mensagem deve ter pelo menos 10 caracteres").max(2e3,"Mensagem deve ter no m\xe1ximo 2000 caracteres").transform(ee.text).refine(e=>e.length>=10,{message:"Mensagem deve ter pelo menos 10 caracteres ap\xf3s sanitiza\xe7\xe3o"}),consent:Q.zM().refine(e=>!0===e,{message:"Voc\xea deve aceitar os termos de privacidade para continuar"}),honeypot:Q.Yj().optional().transform(ee.text).refine(e=>!e||0===e.length,{message:"Campo de seguran\xe7a detectou atividade suspeita"})}),es={REQUIRED_FIELD:"Este campo \xe9 obrigat\xf3rio",INVALID_EMAIL:"Por favor, insira um email v\xe1lido",INVALID_PHONE:"Por favor, insira um telefone v\xe1lido no formato brasileiro",MESSAGE_TOO_SHORT:"A mensagem deve ter pelo menos 10 caracteres",MESSAGE_TOO_LONG:"A mensagem deve ter no m\xe1ximo 2000 caracteres",NAME_TOO_SHORT:"O nome deve ter pelo menos 2 caracteres",NAME_TOO_LONG:"O nome deve ter no m\xe1ximo 100 caracteres",CONSENT_REQUIRED:"Voc\xea deve aceitar os termos de privacidade",SPAM_DETECTED:"Atividade suspeita detectada. Tente novamente.",VALIDATION_ERROR:"Por favor, verifique os dados informados"},eo=e=>{let t={};return e.errors.forEach(e=>{let a=e.path[0],r=e.code,s=e.message;switch(a){case"name":s.includes("pelo menos 2")?t[a]=es.NAME_TOO_SHORT:s.includes("m\xe1ximo 100")?t[a]=es.NAME_TOO_LONG:s.includes("obrigat\xf3rio")?t[a]=es.REQUIRED_FIELD:t[a]=s;break;case"email":"invalid_string"===r||s.includes("email inv\xe1lido")?t[a]=es.INVALID_EMAIL:s.includes("obrigat\xf3rio")?t[a]=es.REQUIRED_FIELD:t[a]=s;break;case"phone":s.includes("Formato de telefone inv\xe1lido")?t[a]=es.INVALID_PHONE:s.includes("obrigat\xf3rio")?t[a]=es.REQUIRED_FIELD:t[a]=s;break;case"message":s.includes("pelo menos 10")?t[a]=es.MESSAGE_TOO_SHORT:s.includes("m\xe1ximo 2000")?t[a]=es.MESSAGE_TOO_LONG:s.includes("obrigat\xf3rio")?t[a]=es.REQUIRED_FIELD:t[a]=s;break;case"consent":t[a]=es.CONSENT_REQUIRED;break;case"honeypot":t[a]=es.SPAM_DETECTED;break;default:t[a]=s||es.VALIDATION_ERROR}}),t},en=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let a=er.pick({[e]:!0}).parse({[e]:t});return{success:!0,value:a[e],error:null}}catch(t){if(t instanceof Z.G&&t.errors.find(t=>t.path[0]===e))return{success:!1,value:null,error:eo(t)[e]};return{success:!1,value:null,error:es.VALIDATION_ERROR}}};Q.Ik({message_type:Q.k5(["email","sms"],{errorMap:()=>({message:"Tipo de mensagem deve ser email ou sms"})}),recipient:Q.Yj().min(1,"Destinat\xe1rio \xe9 obrigat\xf3rio").transform(ee.email).refine(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),{message:"Email do destinat\xe1rio inv\xe1lido"}),subject:Q.Yj().min(1,"Assunto \xe9 obrigat\xf3rio").max(255,"Assunto deve ter no m\xe1ximo 255 caracteres").transform(ee.text),content:Q.Yj().min(1,"Conte\xfado \xe9 obrigat\xf3rio").transform(ee.html),template_data:Q.g1(Q.bz()).optional(),max_retries:Q.ai().int().min(0).max(10).default(3),send_after:Q.p6().optional().default(()=>new Date)});var ei=a(97355);class el{hasValidConsent(){try{let e=localStorage.getItem(this.consentKey);if(!e)return!1;let t=JSON.parse(e);return t.version===this.consentVersion&&t.timestamp&&!0===t.accepted&&this.isConsentStillValid(t.timestamp)}catch(e){return console.error("Error checking consent:",e),!1}}recordConsent(e){let t={version:this.consentVersion,timestamp:new Date().toISOString(),accepted:!0,purposes:e.purposes||[],ipHash:e.ipHash,userAgent:navigator.userAgent,...e};try{return localStorage.setItem(this.consentKey,JSON.stringify(t)),!0}catch(e){return console.error("Error recording consent:",e),!1}}withdrawConsent(){try{return localStorage.removeItem(this.consentKey),this.clearPersonalData(),!0}catch(e){return console.error("Error withdrawing consent:",e),!1}}getConsentDetails(){try{let e=localStorage.getItem(this.consentKey);return e?JSON.parse(e):null}catch(e){return console.error("Error getting consent details:",e),null}}isConsentStillValid(e){let t=new Date(e);return(new Date-t)/864e5<=365}clearPersonalData(){["contact_form_data","appointment_data","user_preferences"].forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.warn("Could not remove ".concat(e,":"),t)}})}getPrivacyNotice(){return{title:"Pol\xedtica de Privacidade e Prote\xe7\xe3o de Dados",content:"\n        <h3>Coleta e Uso de Dados Pessoais</h3>\n        <p>A Cl\xednica Saraiva Vision coleta seus dados pessoais para:</p>\n        <ul>\n          <li>Agendamento de consultas e procedimentos</li>\n          <li>Comunica\xe7\xe3o sobre servi\xe7os m\xe9dicos</li>\n          <li>Envio de lembretes de consultas</li>\n          <li>Melhoria dos nossos servi\xe7os</li>\n        </ul>\n\n        <h3>Base Legal (LGPD)</h3>\n        <p>O tratamento dos seus dados \xe9 baseado em:</p>\n        <ul>\n          <li>Consentimento expl\xedcito (Art. 7\xba, I da LGPD)</li>\n          <li>Execu\xe7\xe3o de contrato (Art. 7\xba, V da LGPD)</li>\n          <li>Cuidados de sa\xfade (Art. 11, II da LGPD)</li>\n        </ul>\n\n        <h3>Seus Direitos</h3>\n        <p>Voc\xea tem direito a:</p>\n        <ul>\n          <li>Confirma\xe7\xe3o da exist\xeancia de tratamento</li>\n          <li>Acesso aos dados</li>\n          <li>Corre\xe7\xe3o de dados incompletos ou inexatos</li>\n          <li>Anonimiza\xe7\xe3o ou elimina\xe7\xe3o de dados</li>\n          <li>Portabilidade dos dados</li>\n          <li>Revoga\xe7\xe3o do consentimento</li>\n        </ul>\n\n        <h3>Seguran\xe7a dos Dados</h3>\n        <p>Utilizamos criptografia e medidas de seguran\xe7a t\xe9cnicas e administrativas para proteger seus dados.</p>\n\n        <h3>Contato</h3>\n        <p>Para exercer seus direitos ou esclarecer d\xfavidas sobre privacidade:</p>\n        <p>Email: privacidade@saraivavision.com.br</p>\n        <p>Telefone: (11) 99999-9999</p>\n      ",lastUpdated:"2024-01-01"}}constructor(){this.consentKey="lgpd_consent",this.consentVersion="1.0"}}let ec=new el;a(69638);let ed=e=>{let{onConsentChange:t}=e,[a,o]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{ec.hasValidConsent()||o(!0)},[]);let d=async()=>{c(!0);try{let e=await em();ec.recordConsent({purposes:["appointment_scheduling","communication","service_improvement","marketing_communications"],ipHash:e,consentMethod:"banner_accept"})?(o(!1),null==t||t(!0)):alert("Erro ao registrar consentimento. Tente novamente.")}catch(e){console.error("Error recording consent:",e),alert("Erro ao registrar consentimento. Tente novamente.")}finally{c(!1)}};return a?(0,r.jsx)("div",{className:"consent-banner",role:"dialog","aria-labelledby":"consent-title",children:(0,r.jsxs)("div",{className:"consent-content",children:[(0,r.jsx)("div",{className:"consent-header",children:(0,r.jsx)("h3",{id:"consent-title",children:"\uD83D\uDD12 Prote\xe7\xe3o de Dados Pessoais"})}),(0,r.jsxs)("div",{className:"consent-body",children:[(0,r.jsx)("p",{children:"Utilizamos seus dados para oferecer a melhor experi\xeancia em nossos servi\xe7os m\xe9dicos. Ao continuar, voc\xea concorda com nossa pol\xedtica de privacidade em conformidade com a LGPD."}),n&&(0,r.jsxs)("div",{className:"consent-details",children:[(0,r.jsx)("h4",{children:"Como utilizamos seus dados:"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["\uD83D\uDCC5 ",(0,r.jsx)("strong",{children:"Agendamentos:"})," Para marcar e confirmar consultas"]}),(0,r.jsxs)("li",{children:["\uD83D\uDCE7 ",(0,r.jsx)("strong",{children:"Comunica\xe7\xe3o:"})," Lembretes e informa\xe7\xf5es importantes"]}),(0,r.jsxs)("li",{children:["\uD83D\uDCCA ",(0,r.jsx)("strong",{children:"Melhoria:"})," Aprimorar nossos servi\xe7os (dados anonimizados)"]}),(0,r.jsxs)("li",{children:["\uD83D\uDCF1 ",(0,r.jsx)("strong",{children:"Marketing:"})," Informa\xe7\xf5es sobre novos tratamentos (opcional)"]})]}),(0,r.jsxs)("p",{className:"consent-rights",children:[(0,r.jsx)("strong",{children:"Seus direitos:"})," Voc\xea pode acessar, corrigir, excluir ou solicitar a portabilidade dos seus dados a qualquer momento atrav\xe9s do email",(0,r.jsx)("a",{href:"mailto:privacidade@saraivavision.com.br",children:"privacidade@saraivavision.com.br"})]})]})]}),(0,r.jsxs)("div",{className:"consent-actions",children:[(0,r.jsx)("button",{type:"button",className:"consent-btn consent-btn-details",onClick:()=>{i(!n)},"aria-expanded":n,children:n?"Ocultar detalhes":"Ver detalhes"}),(0,r.jsxs)("div",{className:"consent-btn-group",children:[(0,r.jsx)("button",{type:"button",className:"consent-btn consent-btn-reject",onClick:()=>{window.location.href="/privacidade/consentimento-essencial"},disabled:l,children:"Apenas essencial"}),(0,r.jsx)("button",{type:"button",className:"consent-btn consent-btn-accept",onClick:d,disabled:l,children:l?"Registrando...":"Aceitar todos"})]})]}),(0,r.jsx)("div",{className:"consent-footer",children:(0,r.jsxs)("small",{children:[(0,r.jsx)("a",{href:"/privacidade",target:"_blank",rel:"noopener noreferrer",children:"Pol\xedtica de Privacidade Completa"})," | ",(0,r.jsx)("a",{href:"/privacidade/direitos",target:"_blank",rel:"noopener noreferrer",children:"Seus Direitos LGPD"})]})})]})}):null};async function em(){try{let e=await fetch("/api/utils/ip-hash");return(await e.json()).ipHash}catch(e){return console.warn("Could not get IP hash:",e),"unknown"}}let eu=()=>{var e,t,a,w,A,k,C,I,S,M,R,T,O,P,F,V,H;let{t:U}=(0,n.Bd)(),{toast:G}=function(){let[e,t]=(0,s.useState)(_.getState());return(0,s.useEffect)(()=>_.subscribe(e=>{t(e)}),[]),(0,s.useEffect)(()=>{let t=[];return e.toasts.forEach(e=>{if(e.duration===1/0)return;let a=setTimeout(()=>{e.dismiss()},e.duration||5e3);t.push(a)}),()=>{t.forEach(e=>clearTimeout(e))}},[e.toasts]),{toast:E,toasts:e.toasts}}(),{trackFormView:W,trackFormSubmit:B,trackInteraction:$}=(0,ei.st)(),J=(0,ei.No)("contact_form_view"),X=(0,s.useRef)(null),Q=(0,s.useRef)(null),ee=(0,s.useRef)(null),et=(0,s.useRef)(null),ea=(0,s.useRef)(null),[el,em]=(0,s.useState)({name:"",email:"",phone:"",message:"",consent:!1,honeypot:""}),[eu,ep]=(0,s.useState)({}),[eg,eh]=(0,s.useState)({}),[ex,ef]=(0,s.useState)({}),[ev,eb]=(0,s.useState)(!1),[ey,ej]=(0,s.useState)(!1),[eN,ew]=(0,s.useState)(null),[e_,eE]=(0,s.useState)(null),[eA,ek]=(0,s.useState)(!1),[eC,eI]=(0,s.useState)(0),[eD,eS]=(0,s.useState)(!1),[eM,eR]=(0,s.useState)(!1),[eT,eL]=(0,s.useState)(""),{ready:eO,execute:eP}=(()=>{let e=(void 0).VITE_RECAPTCHA_SITE_KEY,[t,a]=(0,s.useState)(!1),r=(0,s.useRef)(!1);(0,s.useEffect)(()=>{if(!e)return;if(window.grecaptcha&&window.grecaptcha.execute)return void a(!0);if(r.current)return;r.current=!0;let t=document.createElement("script");return t.src="https://www.google.com/recaptcha/api.js?render=".concat(encodeURIComponent(e)),t.async=!0,t.defer=!0,t.onload=()=>{window.grecaptcha&&window.grecaptcha.ready(()=>a(!0))},t.onerror=()=>{r.current=!1},document.head.appendChild(t),()=>{}},[e]);let o=(0,s.useCallback)(async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"contact";if(!e||!window.grecaptcha||!t)return null;try{return await window.grecaptcha.execute(e,{action:a})}catch(e){return null}},[e,t]);return{ready:t,execute:o,enabled:!!e}})(),{isOnline:eF}=function(){let[e,t]=s.useState(q.isOnline());return s.useEffect(()=>q.subscribe(t),[]),{isOnline:e,lastChecked:new Date().toISOString()}}()||{isOnline:!0};(0,s.useEffect)(()=>{W("contact")},[W]);let eV=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite";eL(e),ea.current&&(ea.current.setAttribute("aria-live",t),setTimeout(()=>eL(""),100))},eH=async(e,t)=>{ej(!0);try{let a=en(e,t,el);ef(t=>({...t,[e]:a})),a.success?(ep(t=>{let a={...t};return delete a[e],a}),eV("Campo ".concat(eq(e)," v\xe1lido"))):(ep(t=>({...t,[e]:a.error})),eV("Erro no campo ".concat(eq(e),": ").concat(a.error),"assertive"))}catch(a){console.error("Field validation error:",a);let t="Erro de valida\xe7\xe3o";ep(a=>({...a,[e]:t})),eV("Erro no campo ".concat(eq(e),": ").concat(t),"assertive")}finally{ej(!1)}},eq=e=>({name:"Nome",email:"E-mail",phone:"Telefone",message:"Mensagem",consent:"Consentimento"})[e]||e,eU=e=>{let{name:t,type:a,value:r,checked:s}=e.target,o="checkbox"===a?s:r;em(e=>({...e,[t]:o})),eM&&eR(!1),"honeypot"!==t&&eg[t]&&eH(t,o)},eG=e=>{let{name:t,value:a}=e.target;eg[t]||eh(e=>({...e,[t]:!0})),"honeypot"!==t&&eH(t,a)},ez=async e=>{if(e.preventDefault(),eE(null),eS(!1),!ec.hasValidConsent()){let e="\xc9 necess\xe1rio aceitar os termos de privacidade antes de enviar o formul\xe1rio.";eE({name:"ConsentError",message:"LGPD consent required",userMessage:e}),eV(e,"assertive");return}if(eV("Enviando formul\xe1rio, aguarde...","assertive"),!eF){eE({name:"NetworkError",message:"No internet connection"}),eV("Sem conex\xe3o com a internet. Verifique sua conex\xe3o e tente novamente.","assertive");return}if(el.honeypot&&""!==el.honeypot.trim()){console.warn("Spam attempt detected via honeypot field"),eb(!0),setTimeout(()=>eb(!1),2e3);return}let t=localStorage.getItem("lastContactSubmission"),a=Date.now();if(t&&a-parseInt(t)<3e4){eE({error:"rate_limited"}),eV("Muitas tentativas. Aguarde 30 segundos antes de tentar novamente.","assertive");return}if(!(()=>{let e=(e=>{try{let t=er.parse(e);return{success:!0,data:t,errors:null}}catch(e){if(e instanceof Z.G)return{success:!1,data:null,errors:eo(e)};return{success:!1,data:null,errors:{general:es.VALIDATION_ERROR}}}})(el);return e.success?(ep({}),!0):(ep(e.errors),!1)})()){eh({name:!0,email:!0,phone:!0,message:!0,recaptcha:!0}),eE({field:Object.keys(eu)[0]||"validation",code:"validation_failed"});let e=Object.keys(eu)[0];if(e){let t=document.getElementById(e);t&&t.focus(),eV("Erro de valida\xe7\xe3o. Corrija o campo ".concat(eq(e)," e tente novamente."),"assertive")}ee.current&&ee.current.focus();return}eb(!0);try{let e=await eP("contact");if(!e){eE({code:"missing_token"}),eb(!1);return}let t={name:el.name,email:el.email,phone:el.phone,message:el.message,consent:el.consent,token:e,action:"contact"};await z(t),localStorage.setItem("lastContactSubmission",a.toString()),eI(0),B("contact",{name:el.name,email:el.email,phone:el.phone,message:el.message,consent:el.consent}),G({title:U("contact.toast_success_title"),description:U("contact.toast_success_desc"),duration:5e3}),em({name:"",email:"",phone:"",message:"",consent:!1,honeypot:""}),eh({}),ep({}),ef({}),ew(null),eR(!0),eV("Formul\xe1rio enviado com sucesso! Recebemos sua mensagem e entraremos em contato em breve.","assertive"),setTimeout(()=>{et.current&&et.current.focus()},100),setTimeout(()=>eR(!1),5e3)}catch(t){var r;console.error("Form submission error:",t),eE(t),L(t,{action:"contact_form_submission",retryCount:eC,formData:{name:el.name,email:el.email}});let e=(null==(r=D(t))?void 0:r.userMessage)||"Erro ao enviar formul\xe1rio. Tente novamente.";eV("Erro no envio: ".concat(e),"assertive"),eC<3&&("NetworkError"===t.name||t.status>=500)&&K.storeForRetry(submissionData)&&(G({title:"Mensagem salva",description:"Sua mensagem foi salva e ser\xe1 enviada quando a conex\xe3o for restabelecida.",duration:4e3}),eV("Mensagem salva para reenvio autom\xe1tico quando a conex\xe3o for restabelecida.")),(500===t.status||"NetworkError"===t.name)&&(eS(!0),eV("Erro cr\xedtico detectado. M\xe9todos de contato alternativos est\xe3o dispon\xedveis abaixo do formul\xe1rio."))}finally{eb(!1)}},eW=async()=>{if(eC>=3)return void eS(!0);ek(!0),eI(e=>e+1);try{let e=await K.retryFailedSubmissions();e.success&&e.retried>0?(G({title:"Sucesso!",description:"".concat(e.retried," mensagem(ns) enviada(s) com sucesso."),duration:4e3}),eE(null),eI(0)):await ez(new Event("submit"))}catch(e){console.error("Retry failed:",e),eE(e)}finally{ek(!1)}},eK=()=>{eE(null),eI(0)};(0,s.useEffect)(()=>q.subscribe(e=>{e&&(null==e_?void 0:e_.name)==="NetworkError"&&eW()}),[e_]),(0,s.useEffect)(()=>{let e=e=>{if("Escape"===e.key&&(e_?(eK(),eV("Erro dismissado")):ev&&eV("N\xe3o \xe9 poss\xedvel cancelar o envio em andamento")),"Enter"===e.key&&e.target===ee.current){e.preventDefault();let t=Object.keys(eu)[0];if(t){let e=document.getElementById(t);e&&e.focus()}}};return X.current&&X.current.addEventListener("keydown",e),()=>{X.current&&X.current.removeEventListener("keydown",e)}},[e_,ev,eu]),(0,s.useEffect)(()=>{Object.keys(eu).length>0&&ee.current&&setTimeout(()=>{var e;null==(e=ee.current)||e.focus()},100)},[eu]),(0,s.useEffect)(()=>{void 0!==eF&&eV(eF?"Conex\xe3o com a internet restabelecida":"Conex\xe3o com a internet perdida")},[eF]);let eB=[{icon:(0,r.jsx)(i.A,{className:"h-6 w-6 text-blue-600"}),title:U("contact.info.address_title"),details:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{children:"string"==typeof j.x0.address?j.x0.address:U("contact.info.address_details")})}),subDetails:U("contact.info.address_sub")},{icon:(0,r.jsx)(l.A,{className:"h-6 w-6 text-blue-600"}),title:U("contact.info.phone_title"),details:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>window.dispatchEvent(new Event("open-floating-cta")),className:"hover:underline font-medium text-left",children:"+55 33 99860-1427"}),(0,r.jsx)("span",{className:"sr-only",children:"+55 33 99860-1427"})]}),subDetails:(0,r.jsxs)("button",{type:"button",onClick:()=>window.dispatchEvent(new Event("open-floating-cta")),className:"text-blue-600 hover:underline flex items-center gap-1 text-sm font-semibold",children:[(0,r.jsx)(c.A,{size:14})," ",U("contact.info.phone_whatsapp")]})},{icon:(0,r.jsx)(d.A,{className:"h-6 w-6 text-blue-600"}),title:U("contact.info.email_title"),details:(0,r.jsx)("a",{href:"mailto:saraivavision@gmail.com",className:"hover:underline",children:"saraivavision@gmail.com"}),subDetails:U("contact.info.email_sub")},{icon:(0,r.jsx)(m.A,{className:"h-6 w-6 text-blue-600"}),title:U("contact.info.hours_title"),details:U("contact.info.hours_details"),subDetails:U("contact.info.hours_sub")}];return(0,r.jsxs)("section",{id:"contact",className:"py-16 md:py-20 bg-subtle-gradient scroll-block-internal","aria-labelledby":"contact-heading",role:"region",children:[(0,r.jsx)("a",{href:"#form-title",className:"skip-link sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-blue-600 focus:text-white focus:px-4 focus:py-2 focus:rounded focus:no-underline",onClick:e=>{var t;e.preventDefault(),null==(t=document.getElementById("name"))||t.focus()},children:"Pular para o formul\xe1rio de contato"}),(0,r.jsx)("div",{ref:ea,"aria-live":"polite","aria-atomic":"true",className:"sr-only",role:"status",children:eT}),(0,r.jsxs)("div",{className:"container mx-auto px-4 md:px-6 lg:px-[2.5%] xl:px-[3%] 2xl:px-[3.5%]",children:[(0,r.jsxs)("div",{className:"text-center mb-16",children:[(0,r.jsx)(o.P.h2,{id:"contact-heading",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-4",children:U("contact.title")}),(0,r.jsx)(o.P.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto",children:(()=>{let e=U("contact.subtitle");try{return e.replace(/em contato/gi,"em​ contato")}catch(t){return e}})()})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,r.jsx)(o.P.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-soft-light",children:[(0,r.jsx)("h3",{className:"mb-6",id:"form-title",children:U("contact.form_title")}),(0,r.jsxs)("form",{ref:e=>{X.current=e,J.current=e},onSubmit:ez,className:"space-y-5",noValidate:!0,"aria-labelledby":"form-title","aria-describedby":"form-description",children:[(0,r.jsx)("p",{id:"form-description",className:"sr-only",children:"Formul\xe1rio de contato para agendar consulta ou tirar d\xfavidas. Todos os campos marcados com asterisco s\xe3o obrigat\xf3rios."}),Object.keys(eu).length>0&&(0,r.jsxs)("div",{ref:ee,className:"p-3 bg-red-50 border border-red-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",role:"alert","aria-live":"assertive","aria-labelledby":"form-errors-title",tabIndex:"-1",children:[(0,r.jsx)("h4",{id:"form-errors-title",className:"text-sm font-semibold text-red-800 mb-2",children:"Por favor, corrija os seguintes erros:"}),(0,r.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:Object.entries(eu).map(e=>{let[t,a]=e;return(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"#".concat(t),className:"underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 rounded",onClick:e=>{var a;e.preventDefault(),null==(a=document.getElementById(t))||a.focus()},children:["• ",eq(t),": ",a]})},t)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"name",className:"block text-base font-medium text-slate-700 mb-2 md:text-sm md:mb-1.5",children:[U("contact.name_label","Nome completo")," ",(0,r.jsx)("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:el.name,onChange:eU,onBlur:eG,required:!0,autoComplete:"name",className:"form-input mobile-touch-input pr-10 ".concat(eu.name?"border-red-400 focus:ring-red-300":(null==(e=ex.name)?void 0:e.success)?"border-green-400 focus:ring-green-300":""),placeholder:U("contact.name_placeholder"),"aria-invalid":!!eu.name,"aria-describedby":eu.name?"error-name":(null==(t=ex.name)?void 0:t.success)?"success-name":"name-help","aria-required":"true",style:{fontSize:"16px",minHeight:"48px",padding:"12px 16px"}}),(0,r.jsx)("div",{id:"name-help",className:"sr-only",children:"Digite seu nome completo. Este campo \xe9 obrigat\xf3rio."}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:ey&&eg.name?(0,r.jsx)(u.A,{className:"h-4 w-4 text-gray-400 animate-spin","aria-hidden":"true"}):eu.name?(0,r.jsx)(p.A,{className:"h-4 w-4 text-red-500","aria-hidden":"true"}):(null==(a=ex.name)?void 0:a.success)?(0,r.jsx)(g.A,{className:"h-4 w-4 text-green-500","aria-hidden":"true"}):null})]}),eu.name&&(0,r.jsx)("p",{id:"error-name",className:"mt-2 text-sm text-red-600 font-medium",role:"alert",children:eu.name}),(null==(w=ex.name)?void 0:w.success)&&!eu.name&&(0,r.jsx)("p",{id:"success-name",className:"mt-2 text-sm text-green-600 font-medium",role:"status",children:"Nome v\xe1lido"})]}),(0,r.jsxs)("div",{className:"space-y-5 md:space-y-0 md:grid md:grid-cols-2 md:gap-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-base font-medium text-slate-700 mb-2 md:text-sm md:mb-1.5",children:[U("contact.email_label","E-mail")," ",(0,r.jsx)("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:el.email,onChange:eU,onBlur:eG,required:!0,autoComplete:"email",className:"form-input mobile-touch-input pr-10 ".concat(eu.email?"border-red-400 focus:ring-red-300":(null==(A=ex.email)?void 0:A.success)?"border-green-400 focus:ring-green-300":""),placeholder:U("contact.email_placeholder"),"aria-invalid":!!eu.email,"aria-describedby":eu.email?"error-email":(null==(k=ex.email)?void 0:k.success)?"success-email":"email-help","aria-required":"true",inputMode:"email",style:{fontSize:"16px",minHeight:"48px",padding:"12px 16px"}}),(0,r.jsx)("div",{id:"email-help",className:"sr-only",children:"Digite um endere\xe7o de e-mail v\xe1lido. Este campo \xe9 obrigat\xf3rio."}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:ey&&eg.email?(0,r.jsx)(u.A,{className:"h-4 w-4 text-gray-400 animate-spin","aria-hidden":"true"}):eu.email?(0,r.jsx)(p.A,{className:"h-4 w-4 text-red-500","aria-hidden":"true"}):(null==(C=ex.email)?void 0:C.success)?(0,r.jsx)(g.A,{className:"h-4 w-4 text-green-500","aria-hidden":"true"}):null})]}),eu.email&&(0,r.jsx)("p",{id:"error-email",className:"mt-2 text-sm text-red-600 font-medium",role:"alert",children:eu.email}),(null==(I=ex.email)?void 0:I.success)&&!eu.email&&(0,r.jsx)("p",{id:"success-email",className:"mt-2 text-sm text-green-600 font-medium",role:"status",children:"E-mail v\xe1lido"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"phone",className:"block text-base font-medium text-slate-700 mb-2 md:text-sm md:mb-1.5",children:[U("contact.phone_label","Telefone")," ",(0,r.jsx)("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:el.phone,onChange:eU,onBlur:eG,required:!0,autoComplete:"tel",className:"form-input mobile-touch-input pr-10 ".concat(eu.phone?"border-red-400 focus:ring-red-300":(null==(S=ex.phone)?void 0:S.success)?"border-green-400 focus:ring-green-300":""),placeholder:U("contact.phone_placeholder"),"aria-invalid":!!eu.phone,"aria-describedby":eu.phone?"error-phone":(null==(M=ex.phone)?void 0:M.success)?"success-phone":"phone-help","aria-required":"true",inputMode:"tel",style:{fontSize:"16px",minHeight:"48px",padding:"12px 16px"}}),(0,r.jsx)("div",{id:"phone-help",className:"sr-only",children:"Digite seu n\xfamero de telefone com DDD. Formato: (XX) XXXXX-XXXX. Este campo \xe9 obrigat\xf3rio."}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:ey&&eg.phone?(0,r.jsx)(u.A,{className:"h-4 w-4 text-gray-400 animate-spin","aria-hidden":"true"}):eu.phone?(0,r.jsx)(p.A,{className:"h-4 w-4 text-red-500","aria-hidden":"true"}):(null==(R=ex.phone)?void 0:R.success)?(0,r.jsx)(g.A,{className:"h-4 w-4 text-green-500","aria-hidden":"true"}):null})]}),eu.phone&&(0,r.jsx)("p",{id:"error-phone",className:"mt-2 text-sm text-red-600 font-medium",role:"alert",children:eu.phone}),(null==(T=ex.phone)?void 0:T.success)&&!eu.phone&&(0,r.jsx)("p",{id:"success-phone",className:"mt-2 text-sm text-green-600 font-medium",role:"status",children:"Telefone v\xe1lido"})]})]}),(0,r.jsx)("input",{type:"text",name:"honeypot",value:el.honeypot,onChange:eU,style:{display:"none"},tabIndex:"-1",autoComplete:"off","aria-hidden":"true"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"message",className:"block text-base font-medium text-slate-700 mb-2 md:text-sm md:mb-1.5",children:[U("contact.message_label","Mensagem")," ",(0,r.jsx)("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("textarea",{id:"message",name:"message",value:el.message,onChange:eU,onBlur:eG,required:!0,rows:"4",maxLength:"2000",className:"form-input mobile-touch-input pr-10 ".concat(eu.message?"border-red-400 focus:ring-red-300":(null==(O=ex.message)?void 0:O.success)?"border-green-400 focus:ring-green-300":""),placeholder:U("contact.message_placeholder"),"aria-invalid":!!eu.message,"aria-describedby":eu.message?"error-message":(null==(P=ex.message)?void 0:P.success)?"success-message":"message-help","aria-required":"true",style:{fontSize:"16px",minHeight:"120px",padding:"12px 16px",resize:"vertical",overscrollBehavior:"none"}}),(0,r.jsx)("div",{className:"absolute top-3 right-3",children:ey&&eg.message?(0,r.jsx)(u.A,{className:"h-4 w-4 text-gray-400 animate-spin","aria-hidden":"true"}):eu.message?(0,r.jsx)(p.A,{className:"h-4 w-4 text-red-500","aria-hidden":"true"}):(null==(F=ex.message)?void 0:F.success)?(0,r.jsx)(g.A,{className:"h-4 w-4 text-green-500","aria-hidden":"true"}):null})]}),(0,r.jsxs)("div",{className:"flex justify-between items-start mt-1",children:[(0,r.jsxs)("div",{className:"flex-1",children:[eu.message&&(0,r.jsx)("p",{id:"error-message",className:"text-sm text-red-600 font-medium",role:"alert",children:eu.message}),(null==(V=ex.message)?void 0:V.success)&&!eu.message&&(0,r.jsx)("p",{id:"success-message",className:"text-sm text-green-600 font-medium",role:"status",children:"Mensagem v\xe1lida"}),!eu.message&&!(null==(H=ex.message)?void 0:H.success)&&(0,r.jsx)("p",{id:"message-help",className:"text-xs text-slate-500",children:"M\xednimo 10 caracteres, m\xe1ximo 2000 caracteres"})]}),(0,r.jsxs)("div",{className:"text-xs text-slate-400 ml-2",children:[el.message.length,"/2000"]})]})]}),(0,r.jsx)("div",{className:"pt-2",children:(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,r.jsx)(h.A,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Prote\xe7\xe3o de Dados Pessoais (LGPD)"}),(0,r.jsx)("p",{className:"text-xs text-blue-800 leading-relaxed",children:"Seus dados pessoais ser\xe3o utilizados exclusivamente para responder \xe0 sua consulta m\xe9dica. Coletamos apenas as informa\xe7\xf5es necess\xe1rias (nome, e-mail, telefone e mensagem) para que Dr. Philipe possa entrar em contato e fornecer orienta\xe7\xf5es oftalmol\xf3gicas adequadas."})]})]}),(0,r.jsxs)("div",{className:"bg-white p-3 rounded border border-blue-100 mb-3",children:[(0,r.jsx)("h5",{className:"text-xs font-medium text-slate-700 mb-2",children:"Seus direitos:"}),(0,r.jsxs)("ul",{className:"text-xs text-slate-600 space-y-1",children:[(0,r.jsx)("li",{children:"• Acesso aos seus dados pessoais"}),(0,r.jsx)("li",{children:"• Corre\xe7\xe3o de dados incompletos ou incorretos"}),(0,r.jsx)("li",{children:"• Exclus\xe3o dos dados quando solicitado"}),(0,r.jsx)("li",{children:"• Portabilidade dos dados para outro prestador"})]})]}),(0,r.jsxs)("label",{className:"inline-flex items-start gap-3 cursor-pointer p-3 rounded-md border-2 transition-colors ".concat(eu.consent?"border-red-300 bg-red-50":el.consent?"border-green-300 bg-green-50":"border-blue-200 bg-white hover:bg-blue-25"),htmlFor:"consent",children:[(0,r.jsx)("input",{type:"checkbox",id:"consent",name:"consent",checked:el.consent,onChange:eU,"aria-invalid":!!eu.consent,"aria-describedby":eu.consent?"error-consent":"consent-description","aria-required":"true",className:"mt-0.5 h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 focus:ring-2 focus:ring-offset-2",required:!0}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-slate-800",children:"Concordo com o tratamento dos meus dados pessoais *"}),(0,r.jsx)("p",{id:"consent-description",className:"text-xs text-slate-600 mt-1",children:"Ao marcar esta op\xe7\xe3o, voc\xea autoriza o uso dos seus dados conforme descrito acima, em conformidade com a Lei Geral de Prote\xe7\xe3o de Dados (LGPD - Lei 13.709/2018)."})]}),el.consent&&(0,r.jsx)(g.A,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0","aria-hidden":"true"})]}),eu.consent&&(0,r.jsxs)("p",{id:"error-consent",className:"mt-2 text-sm text-red-600 font-medium",role:"alert",children:[(0,r.jsx)(p.A,{className:"h-4 w-4 inline mr-1"}),eu.consent]}),(0,r.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Para exercer seus direitos ou esclarecer d\xfavidas sobre o tratamento de dados, entre em contato conosco atrav\xe9s do e-mail: saraivavision@gmail.com"})]})}),(0,r.jsxs)("div",{className:"pt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[eF?(0,r.jsx)(x.A,{className:"h-4 w-4 text-green-600"}):(0,r.jsx)(f.A,{className:"h-4 w-4 text-red-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Conex\xe3o"})]}),(0,r.jsx)("p",{className:"text-xs ".concat(eF?"text-green-600":"text-red-500"),children:eF?"Conectado \xe0 internet":"Sem conex\xe3o com a internet"}),!eF&&(0,r.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Verifique sua conex\xe3o para enviar o formul\xe1rio."})]}),(0,r.jsxs)("div",{className:"pt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 text-blue-600"}),(0,r.jsx)("span",{className:"text-sm font-medium text-slate-700",children:U("contact.recaptcha_label","Verifica\xe7\xe3o de Seguran\xe7a")})]}),(0,r.jsx)("p",{className:"text-xs ".concat(eO?"text-green-600":"text-red-500"),children:eO?U("contact.recaptcha_ready","Prote\xe7\xe3o autom\xe1tica reCAPTCHA ativada"):U("contact.recaptcha_not_ready","Verifica\xe7\xe3o de seguran\xe7a indispon\xedvel. Tente novamente.")}),!eO&&(0,r.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Certifique-se de que est\xe1 conectado \xe0 internet e recarregue a p\xe1gina."})]}),e_&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(Y,{error:e_,onRetry:eC<3?eW:void 0,onDismiss:eK,compact:!0})}),eD&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 text-yellow-600"}),(0,r.jsx)("span",{className:"text-sm font-medium text-yellow-800",children:"Contato Alternativo"})]}),(0,r.jsx)("p",{className:"text-xs text-yellow-700 mb-2",children:"N\xe3o foi poss\xedvel enviar sua mensagem. Entre em contato diretamente:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)("a",{href:"tel:+5533998601427",className:"text-xs text-yellow-600 hover:text-yellow-800 underline",children:"+55 33 99860-1427"}),(0,r.jsx)("a",{href:"mailto:saraivavision@gmail.com",className:"text-xs text-yellow-600 hover:text-yellow-800 underline",children:"saraivavision@gmail.com"})]})]}),eM&&(0,r.jsx)("div",{ref:et,className:"p-4 bg-green-50 border border-green-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",role:"alert","aria-live":"assertive",tabIndex:"-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 text-green-600","aria-hidden":"true"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-green-800",children:"Mensagem enviada com sucesso!"}),(0,r.jsx)("p",{className:"text-sm text-green-700 mt-1",children:"Recebemos sua mensagem e entraremos em contato em breve. Obrigado por escolher a Saraiva Vision."})]})]})}),(0,r.jsxs)(N.$,{ref:Q,disabled:ev||!eF||!eO,type:"submit",size:"lg",className:"w-full flex items-center justify-center gap-2 transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(eM?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"disabled:opacity-60"),"aria-busy":ev,"aria-describedby":"submit-status submit-help","aria-label":eA?"Tentando novamente, tentativa ".concat(eC+1," de 3"):ev?"Enviando mensagem, aguarde":eM?"Mensagem enviada com sucesso":eF?eO?"Enviar mensagem de contato":"Bot\xe3o desabilitado: carregando verifica\xe7\xe3o de seguran\xe7a":"Bot\xe3o desabilitado: sem conex\xe3o com a internet",children:[ev?(0,r.jsx)(u.A,{className:"h-5 w-5 animate-spin","aria-hidden":"true"}):eM?(0,r.jsx)(g.A,{className:"h-5 w-5","aria-hidden":"true"}):(0,r.jsx)(v.A,{className:"h-5 w-5","aria-hidden":"true"}),(0,r.jsx)("span",{children:eA?"Tentando novamente (".concat(eC+1,"/3)..."):ev?U("contact.sending_label","Enviando mensagem..."):eM?"Mensagem enviada!":eF?eO?U("contact.send_button","Enviar Mensagem"):"Carregando verifica\xe7\xe3o de seguran\xe7a...":"Sem conex\xe3o com a internet"})]}),(0,r.jsxs)("div",{id:"submit-status",className:"sr-only","aria-live":"polite","aria-atomic":"true",children:[ev&&"Enviando formul\xe1rio, aguarde...",eM&&"Formul\xe1rio enviado com sucesso",e_&&"Erro no envio do formul\xe1rio"]}),(0,r.jsx)("div",{id:"submit-help",className:"sr-only",children:"Para enviar o formul\xe1rio, certifique-se de que todos os campos obrigat\xf3rios est\xe3o preenchidos corretamente e que voc\xea tem conex\xe3o com a internet."})]})]})}),(0,r.jsxs)(o.P.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"flex flex-col space-y-6",role:"complementary","aria-labelledby":"contact-options-heading",children:[(0,r.jsx)("div",{className:"sr-only",children:j.x0.name}),(0,r.jsx)("h3",{id:"contact-options-heading",className:"sr-only",children:"Op\xe7\xf5es de contato e agendamento"}),(0,r.jsx)("a",{href:j.x0.onlineSchedulingUrl,target:"_blank",rel:"noopener noreferrer",className:"block modern-card-alt p-6 group mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-2xl","aria-describedby":"online-scheduling-desc",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl","aria-hidden":"true",children:(0,r.jsx)(b.A,{className:"h-6 w-6 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-slate-800 group-hover:text-blue-700",children:U("contact.online_scheduling_title")}),(0,r.jsx)("div",{className:"mt-1",id:"online-scheduling-desc",children:U("contact.online_scheduling_desc")}),(0,r.jsx)("div",{className:"text-blue-600 text-sm mt-1 font-semibold",children:U("contact.online_scheduling_benefit")})]})]})}),(0,r.jsx)("a",{href:"https://chatgpt.com/g/g-quepJB90J-saraiva-vision-clinica-oftalmologica?model=gpt-4o",target:"_blank",rel:"noopener noreferrer",className:"block modern-card-alt p-6 group focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 rounded-2xl","aria-describedby":"chatbot-desc",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-xl","aria-hidden":"true",children:(0,r.jsx)(y.A,{className:"h-6 w-6 text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-slate-800 group-hover:text-green-700",children:U("contact.chatbot_title")}),(0,r.jsx)("div",{className:"mt-1",id:"chatbot-desc",children:U("contact.chatbot_desc")}),(0,r.jsx)("div",{className:"text-green-600 text-sm mt-1 font-semibold",children:U("contact.chatbot_availability")})]})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",role:"list","aria-label":"Informa\xe7\xf5es de contato",children:eB.map((e,t)=>(0,r.jsx)(o.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:.1*t},className:"modern-card p-6 focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",role:"listitem",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"icon-container","aria-hidden":"true",children:e.icon}),(0,r.jsxs)("div",{className:"min-w-0 break-words leading-relaxed",children:[(0,r.jsx)("h4",{className:"font-bold text-slate-800",children:e.title}),(0,r.jsx)("div",{className:"mt-1 text-sm text-wrap",children:e.details}),(0,r.jsx)("div",{className:"text-slate-500 text-sm mt-0.5 text-wrap",children:e.subDetails})]})]})},t))})]})]})]}),(0,r.jsx)(ed,{onConsentChange:e=>{e&&eV("Consentimento registrado com sucesso","polite")}})]})}},29340:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var r=a(37876),s=a(14232),o=a(34846),n=a(55404),i=a(79890),l=a(35162),c=a(8584),d=a(96023);let m=e=>{let{height:t=340}=e,a=(0,s.useRef)(null),[o,n]=(0,s.useState)(null),[i,l]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=(void 0).VITE_GOOGLE_MAPS_API_KEY;if(console.log("\uD83D\uDD11 API Key:",e?"".concat(e.substring(0,10),"..."):"MISSING"),!e){n("Google Maps API Key n\xe3o encontrada"),l(!1);return}if(!a.current)return void console.error("Container ref n\xe3o dispon\xedvel");if(window.google&&window.google.maps){console.log("✅ Google Maps j\xe1 carregado, criando mapa..."),s();return}let t="initMap".concat(Date.now());if(window[t]=()=>{console.log("✅ Callback executado, criando mapa..."),s(),delete window[t]},document.querySelector('script[src*="maps.googleapis.com"]')){console.log("⚠️ Script j\xe1 existe, aguardando callback..."),setTimeout(()=>{window.google&&window.google.maps?s():(n("Google Maps n\xe3o carregou ap\xf3s timeout"),l(!1))},3e3);return}let r=document.createElement("script");function s(){try{if(!a.current)return void console.error("Container n\xe3o dispon\xedvel para criar mapa");console.log("\uD83D\uDDFA️ Criando mapa...");let e=new google.maps.Map(a.current,{zoom:17,center:{lat:d.x0.latitude,lng:d.x0.longitude},mapId:"DEMO_MAP_ID",mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1});new google.maps.Marker({position:{lat:d.x0.latitude,lng:d.x0.longitude},map:e,title:d.x0.name}),console.log("✅ Mapa criado com sucesso"),l(!1),n(null)}catch(e){console.error("❌ Erro ao criar mapa:",e),n("Erro ao criar mapa: ".concat(e.message)),l(!1)}}return r.src="https://maps.googleapis.com/maps/api/js?key=".concat(e,"&libraries=places&callback=").concat(t),r.async=!0,r.defer=!0,r.onerror=e=>{console.error("❌ Erro ao carregar script:",e),n("Erro ao carregar Google Maps API"),l(!1),delete window[t]},console.log("\uD83D\uDCDD Adicionando script ao DOM..."),document.head.appendChild(r),()=>{window[t]&&delete window[t]}},[]),o)?(0,r.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-4 bg-red-50 border border-red-200 rounded",children:(0,r.jsxs)("div",{className:"text-red-600 mb-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-sm mb-1",children:"Erro no Google Maps"}),(0,r.jsx)("p",{className:"text-xs",children:o})]})}):(0,r.jsxs)("div",{className:"relative w-full",style:{height:t},children:[i&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-sm text-slate-500 bg-gray-50",children:"Carregando mapa..."}),(0,r.jsx)("div",{ref:a,className:"w-full h-full rounded"})]})},u=()=>{let{t:e}=(0,o.Bd)();return(0,r.jsxs)("section",{id:"local",className:"py-9 lg:py-11 text-white bg-gradient-to-br from-[#0A1628] via-[#1E2A47] to-[#0D1B2A] relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/30 via-indigo-900/20 to-blue-800/30"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(59,130,246,0.05)_50%,transparent_75%)] bg-[length:60px_60px] animate-pulse"}),(0,r.jsx)("div",{className:"absolute top-10 left-[10%] w-32 h-32 bg-gradient-to-br from-blue-400/10 to-cyan-400/5 rounded-full blur-2xl animate-pulse"}),(0,r.jsx)("div",{className:"absolute top-20 right-[15%] w-24 h-24 bg-gradient-to-bl from-indigo-400/10 to-purple-400/5 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),(0,r.jsx)("div",{className:"absolute bottom-10 left-[20%] w-40 h-40 bg-gradient-to-tr from-cyan-400/8 to-blue-400/4 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),(0,r.jsx)("div",{className:"absolute bottom-20 right-[10%] w-28 h-28 bg-gradient-to-tl from-blue-500/10 to-indigo-500/5 rounded-full blur-xl animate-pulse",style:{animationDelay:"0.5s"}}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600 opacity-60"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-2 bg-gradient-to-r from-blue-600 via-indigo-500 to-blue-500 opacity-60"}),(0,r.jsx)("div",{className:"container mx-auto px-[7%] relative z-10",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-14 items-start lg:items-center",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-6 lg:pr-8 max-w-3xl",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,r.jsx)(n.A,{className:"w-6 h-6 text-white"})}),(0,r.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-blue-400/50 to-transparent"})]}),(0,r.jsx)("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white drop-shadow-2xl leading-tight",children:e("location.title","Encontre-nos")}),(0,r.jsx)("p",{className:"text-lg md:text-xl text-blue-100/90 leading-relaxed max-w-2xl",children:e("location.subtitle","Localiza\xe7\xe3o verificada no Google. Facilite sua rota e avalie nosso atendimento.")})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-3xl rounded-3xl p-6 lg:p-8 border border-white/20 shadow-2xl space-y-5 max-w-xl",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-xl flex items-center justify-center flex-shrink-0 mt-1",children:(0,r.jsx)(i.A,{className:"w-5 h-5 text-white"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Endere\xe7o"}),(0,r.jsxs)("p",{className:"text-blue-100 leading-relaxed",children:[d.x0.streetAddress,", ",d.x0.neighborhood,(0,r.jsx)("br",{}),d.x0.city," - ",d.x0.state]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-orange-400 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(l.A,{className:"w-5 h-5 text-white fill-current"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Avalia\xe7\xf5es"}),(0,r.jsx)("p",{className:"text-blue-100",children:e("location.reviews_realtime","Avalia\xe7\xf5es em tempo real no Google")})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsxs)("a",{href:d.xR,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center justify-center gap-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold px-6 lg:px-8 py-3 lg:py-4 rounded-2xl shadow-xl hover:shadow-2xl backdrop-blur-sm border border-blue-400/30 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1","aria-label":e("location.google_maps_button_aria","Abrir perfil da cl\xednica no Google Maps (nova aba)"),children:[(0,r.jsx)("span",{className:"text-base lg:text-lg",children:e("location.google_maps_button","Ver no Google Maps")}),(0,r.jsx)(c.A,{className:"w-4 lg:w-5 h-4 lg:h-5 group-hover:rotate-45 transition-transform duration-300"})]}),(0,r.jsxs)("a",{href:d.Z$,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center justify-center gap-3 border-2 border-blue-300/40 hover:border-blue-300/60 text-blue-100 hover:text-white font-semibold px-6 lg:px-8 py-3 lg:py-4 rounded-2xl bg-white/5 hover:bg-white/15 backdrop-blur-xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 shadow-lg hover:shadow-xl","aria-label":e("location.review_button_aria","Abrir p\xe1gina de avalia\xe7eeeees no Google (nova aba)"),children:[(0,r.jsx)("span",{className:"text-base lg:text-lg",children:e("location.review_button","Avalie-nos no Google")}),(0,r.jsx)(l.A,{className:"w-4 lg:w-5 h-4 lg:h-5 text-amber-300 group-hover:scale-110 transition-transform duration-300"})]})]})]}),(0,r.jsx)("div",{className:"flex-1 max-w-2xl lg:self-center",children:(0,r.jsxs)("div",{className:"h-[304px] lg:h-[336px] rounded-3xl shadow-2xl bg-white/10 backdrop-blur-3xl relative border-2 border-white/20 group p-2",children:[(0,r.jsx)("div",{className:"absolute inset-2 bg-gradient-to-br from-blue-400/10 to-transparent rounded-2xl"}),(0,r.jsx)("div",{className:"absolute inset-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-tr from-cyan-400/5 to-blue-400/5 rounded-2xl"}),(0,r.jsx)("div",{className:"relative w-full h-full rounded-2xl overflow-hidden bg-gray-100",children:(0,r.jsx)(m,{height:"100%"})}),(0,r.jsx)("div",{className:"absolute top-6 left-6 bg-white/90 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg z-10",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-800",children:"Cl\xednica Saraiva Vision"})]})})]})})]})})]})}},69638:()=>{},73205:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n});var r=a(36854);let s={api_host:"https://app.posthog.com",loaded:e=>{},capture_pageview:!1,disable_session_recording:!0,respect_dnt:!0,opt_out_capturing_by_default:!1,cross_subdomain_cookie:!1,secure_cookie:!0,persistence:"localStorage+cookie",cookie_expiration:365,upgrade:!0,disable_persistence:!1,property_blacklist:["$initial_referrer","$initial_referring_domain"]},o=!1,n={initialize:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return void console.warn("PostHog API key not provided or running on server");try{r.Ay.init(e,s),t||r.Ay.opt_out_capturing(),o=!0,console.log("PostHog analytics initialized")}catch(e){console.error("Failed to initialize PostHog:",e)}},enable:()=>{if(!o)return void console.warn("Analytics not initialized");r.Ay.opt_in_capturing(),console.log("Analytics tracking enabled")},disable:()=>{o&&(r.Ay.opt_out_capturing(),console.log("Analytics tracking disabled"))},trackFunnelEvent:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o||!r.Ay.has_opted_in_capturing())return;let a={page_visit:"Funnel: Page Visit",contact_form_view:"Funnel: Contact Form Viewed",contact_form_submit:"Funnel: Contact Form Submitted",appointment_form_view:"Funnel: Appointment Form Viewed",appointment_form_submit:"Funnel: Appointment Submitted",appointment_confirmed:"Funnel: Appointment Confirmed"}[e];if(!a)return void console.warn("Unknown funnel event: ".concat(e));try{r.Ay.capture(a,{...t,timestamp:new Date().toISOString(),page_url:window.location.href,page_title:document.title})}catch(e){console.error("Failed to track funnel event:",e)}},trackUTMParameters:()=>{if(!o||!r.Ay.has_opted_in_capturing())return;let e=new URLSearchParams(window.location.search),t={};if(["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(a=>{let r=e.get(a);r&&(t[a]=r)}),Object.keys(t).length>0)try{r.Ay.capture("UTM Parameters Detected",{...t,referrer:document.referrer,landing_page:window.location.pathname}),r.Ay.people.set({$utm_source:t.utm_source,$utm_medium:t.utm_medium,$utm_campaign:t.utm_campaign})}catch(e){console.error("Failed to track UTM parameters:",e)}},trackWebVitals:e=>{if(o&&r.Ay.has_opted_in_capturing())try{r.Ay.capture("Web Vital",{metric_name:e.name,metric_value:e.value,metric_rating:e.rating,page_url:window.location.href})}catch(e){console.error("Failed to track web vital:",e)}},trackPageView:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(o&&r.Ay.has_opted_in_capturing())try{let t=e||window.location.pathname;r.Ay.capture("$pageview",{$current_url:window.location.href,$pathname:t,$title:document.title})}catch(e){console.error("Failed to track page view:",e)}},trackUserInteraction:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o&&r.Ay.has_opted_in_capturing())try{r.Ay.capture("User Interaction",{action:e,element:t,...a,page_url:window.location.href})}catch(e){console.error("Failed to track user interaction:",e)}},trackAppointmentMetrics:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o||!r.Ay.has_opted_in_capturing())return;let a={started:"Appointment: Booking Started",completed:"Appointment: Booking Completed",confirmed:"Appointment: Confirmed",cancelled:"Appointment: Cancelled",no_show:"Appointment: No Show"}[e];if(!a)return void console.warn("Unknown appointment status: ".concat(e));try{r.Ay.capture(a,{...t,timestamp:new Date().toISOString()})}catch(e){console.error("Failed to track appointment metric:",e)}},getInstance:()=>o?r.Ay:null,isEnabled:()=>o&&r.Ay.has_opted_in_capturing()}},97355:(e,t,a)=>{"use strict";a.d(t,{No:()=>n,st:()=>o});var r=a(14232),s=a(73205);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{trackPageViews:t=!0,trackUTM:o=!0,trackWebVitals:n=!0}=e,i=(0,r.useRef)(!1),l=(0,r.useRef)(!1);(0,r.useEffect)(()=>{t&&!l.current&&(s.Ay.trackPageView(),s.Ay.trackFunnelEvent("page_visit"),l.current=!0)},[t]),(0,r.useEffect)(()=>{o&&!i.current&&(s.Ay.trackUTMParameters(),i.current=!0)},[o]),(0,r.useEffect)(()=>{n&&a.e(788).then(a.bind(a,70788)).then(e=>{let{getCLS:t,getFID:a,getFCP:r,getLCP:o,getTTFB:n}=e;t(s.Ay.trackWebVitals),a(s.Ay.trackWebVitals),r(s.Ay.trackWebVitals),o(s.Ay.trackWebVitals),n(s.Ay.trackWebVitals)}).catch(e=>{console.warn("Failed to load web-vitals:",e)})},[n]);let c=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.Ay.trackFunnelEvent(e,t)},[]),d=(0,r.useCallback)(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.Ay.trackUserInteraction(e,t,a)},[]),m=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.Ay.trackAppointmentMetrics(e,t)},[]);return{trackEvent:c,trackInteraction:d,trackAppointment:m,trackFormView:(0,r.useCallback)(e=>{let t={contact:"contact_form_view",appointment:"appointment_form_view"}[e];t&&s.Ay.trackFunnelEvent(t)},[]),trackFormSubmit:(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={contact:"contact_form_submit",appointment:"appointment_form_submit"}[e];if(a){var r;let o={form_type:e,has_name:!!t.name,has_email:!!t.email,has_phone:!!t.phone,message_length:(null==(r=t.message)?void 0:r.length)||0,consent_given:t.consent};s.Ay.trackFunnelEvent(a,o)}},[]),isEnabled:s.Ay.isEnabled}},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{threshold:a=.5,trackOnce:o=!0}=t,n=(0,r.useRef)(!1),i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let t=i.current;if(!t||!s.Ay.isEnabled())return;let r=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&t.intersectionRatio>=a&&(!o||!n.current)&&(s.Ay.trackFunnelEvent(e,{visibility_threshold:a,intersection_ratio:t.intersectionRatio}),n.current=!0)})},{threshold:a});return r.observe(t),()=>{r.disconnect()}},[e,a,o]),i}}}]);