(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3916],{13537:(e,a,t)=>{"use strict";t.d(a,{cn:()=>n});var s=t(2821),r=t(85915);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.Q)((0,s.$)(a))}},51440:(e,a,t)=>{"use strict";t.d(a,{default:()=>ec});var s=t(95155),r=t(12115),n=t(3648),o=t(90368),l=t(27937),i=t(24033),d=t(39622),c=t(13537),m=t(32467),u=t(83101);let p=(0,u.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=r.forwardRef((e,a)=>{let{className:t,variant:r,size:n,asChild:o=!1,...l}=e,i=o?m.DX:"button";return(0,s.jsx)(i,{className:(0,c.cn)(p({variant:r,size:n,className:t})),ref:a,...l})});function f(){let e=(0,n._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return f=function(){return e},e}function h(){let e=(0,n._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return h=function(){return e},e}function g(e){let{className:a,classNames:t,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:m="ghost",formatters:u,components:x,...g}=e,b=(0,d.getDefaultClassNames)();return(0,s.jsx)(d.hv,{showOutsideDays:r,className:(0,c.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(f()),String.raw(h()),a),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...u},classNames:{root:(0,c.cn)("w-fit",b.root),months:(0,c.cn)("relative flex flex-col gap-4 md:flex-row",b.months),month:(0,c.cn)("flex w-full flex-col gap-4",b.month),nav:(0,c.cn)("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",b.nav),button_previous:(0,c.cn)(p({variant:m}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",b.button_previous),button_next:(0,c.cn)(p({variant:m}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",b.button_next),month_caption:(0,c.cn)("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",b.month_caption),dropdowns:(0,c.cn)("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",b.dropdowns),dropdown_root:(0,c.cn)("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",b.dropdown_root),dropdown:(0,c.cn)("bg-popover absolute inset-0 opacity-0",b.dropdown),caption_label:(0,c.cn)("select-none font-medium","label"===n?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",b.caption_label),table:"w-full border-collapse",weekdays:(0,c.cn)("flex",b.weekdays),weekday:(0,c.cn)("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",b.weekday),week:(0,c.cn)("mt-2 flex w-full",b.week),week_number_header:(0,c.cn)("w-[--cell-size] select-none",b.week_number_header),week_number:(0,c.cn)("text-muted-foreground select-none text-[0.8rem]",b.week_number),day:(0,c.cn)("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",b.day),range_start:(0,c.cn)("bg-accent rounded-l-md",b.range_start),range_middle:(0,c.cn)("rounded-none",b.range_middle),range_end:(0,c.cn)("bg-accent rounded-r-md",b.range_end),today:(0,c.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",b.today),outside:(0,c.cn)("text-muted-foreground aria-selected:text-muted-foreground",b.outside),disabled:(0,c.cn)("text-muted-foreground opacity-50",b.disabled),hidden:(0,c.cn)("invisible",b.hidden),...t},components:{Root:e=>{let{className:a,rootRef:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"calendar",ref:t,className:(0,c.cn)(a),...r})},Chevron:e=>{let{className:a,orientation:t,...r}=e;return"left"===t?(0,s.jsx)(o.A,{className:(0,c.cn)("size-4",a),...r}):"right"===t?(0,s.jsx)(l.A,{className:(0,c.cn)("size-4",a),...r}):(0,s.jsx)(i.A,{className:(0,c.cn)("size-4",a),...r})},DayButton:y,WeekNumber:e=>{let{children:a,...t}=e;return(0,s.jsx)("td",{...t,children:(0,s.jsx)("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:a})})},...x},...g})}function y(e){let{className:a,day:t,modifiers:n,...o}=e,l=(0,d.getDefaultClassNames)(),i=r.useRef(null);return r.useEffect(()=>{var e;n.focused&&(null==(e=i.current)||e.focus())},[n.focused]),(0,s.jsx)(x,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:(0,c.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",l.day,a),...o})}x.displayName="Button";let b=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,c.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...r})});b.displayName="Card";let v=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",t),...r})});v.displayName="CardHeader";let N=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,c.cn)("font-semibold leading-none tracking-tight",t),...r})});N.displayName="CardTitle";let j=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,c.cn)("text-sm text-muted-foreground",t),...r})});j.displayName="CardDescription";let w=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,c.cn)("p-6 pt-0",t),...r})});w.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,c.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";let C=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,c.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});C.displayName="Input";var _=t(10489);let S=(0,u.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),k=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(_.b,{ref:a,className:(0,c.cn)(S(),t),...r})});k.displayName=_.b.displayName;var E=t(38162),A=t(31719);let D=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(E.bL,{ref:a,className:(0,c.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,s.jsx)(E.C1,{className:(0,c.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(A.Srz,{className:"h-4 w-4"})})})});D.displayName=E.bL.displayName;var R=t(89702);let T=R.bL;R.YJ;let z=R.WT,O=r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(R.l9,{ref:a,className:(0,c.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,s.jsx)(R.In,{asChild:!0,children:(0,s.jsx)(A.D3D,{className:"h-4 w-4 opacity-50"})})]})});O.displayName=R.l9.displayName;let P=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(R.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(A.Mtm,{className:"h-4 w-4"})})});P.displayName=R.PP.displayName;let I=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(R.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(A.D3D,{className:"h-4 w-4"})})});I.displayName=R.wn.displayName;let F=r.forwardRef((e,a)=>{let{className:t,children:r,position:n="popper",...o}=e;return(0,s.jsx)(R.ZL,{children:(0,s.jsxs)(R.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[(0,s.jsx)(P,{}),(0,s.jsx)(R.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(I,{})]})})});F.displayName=R.UC.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(R.JU,{ref:a,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",t),...r})}).displayName=R.JU.displayName;let L=r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(R.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(R.VF,{children:(0,s.jsx)(A.Srz,{className:"h-4 w-4"})})}),(0,s.jsx)(R.p4,{children:r})]})});L.displayName=R.q7.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(R.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=R.wv.displayName;var M=t(89511);let U=M.bL;M.l9;let V=M.ZL;M.bm;let $=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(M.hJ,{ref:a,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});$.displayName=M.hJ.displayName;let q=r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(V,{children:[(0,s.jsx)($,{}),(0,s.jsxs)(M.UC,{ref:a,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[r,(0,s.jsxs)(M.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(A.MKb,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});q.displayName=M.UC.displayName;let H=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};H.displayName="DialogHeader";let J=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(M.hE,{ref:a,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});J.displayName=M.hE.displayName;let B=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(M.VY,{ref:a,className:(0,c.cn)("text-sm text-muted-foreground",t),...r})});B.displayName=M.VY.displayName;let W=0,Y=new Map,G=e=>{if(Y.has(e))return;let a=setTimeout(()=>{Y.delete(e),K({type:"REMOVE_TOAST",toastId:e})},1e6);Y.set(e,a)},X=[],Z={toasts:[]};function K(e){Z=((e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?G(t):e.toasts.forEach(e=>{G(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}})(Z,e),X.forEach(e=>{e(Z)})}function Q(e){let{...a}=e,t=(W=(W+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>K({type:"DISMISS_TOAST",toastId:t});return K({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>K({type:"UPDATE_TOAST",toast:{...e,id:t}})}}let ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[a,t]=(0,r.useState)(e),s=(0,r.useCallback)(e=>{let a=e.replace(/\D/g,"");return a.length<=10?a.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):a.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1")},[]),n=(0,r.useCallback)(e=>{t(s(e.target.value))},[s]),o=(0,r.useCallback)(()=>a.replace(/\D/g,""),[a]);return{value:a,onChange:n,getRawValue:o,setValue:e=>t(s(e))}};var ea=t(16485),et=t(26983),es=t(919),er=t(20508),en=t(23664),eo=t(69141),el=t(89715),ei=t(25563);let ed=[{value:"consulta-rotina",label:"Consulta de Rotina"},{value:"primeira-consulta",label:"Primeira Consulta"},{value:"retorno",label:"Retorno"},{value:"exame-vista",label:"Exame de Vista"},{value:"urgencia",label:"Urg\xeancia Oftalmol\xf3gica"},{value:"cirurgia-pre",label:"Pr\xe9-Operat\xf3rio"},{value:"cirurgia-pos",label:"P\xf3s-Operat\xf3rio"},{value:"outro",label:"Outro"}];function ec(){let[e,a]=(0,r.useState)(void 0),[t,n]=(0,r.useState)(null),[o,l]=(0,r.useState)([]),[i,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),[f,h]=(0,r.useState)(!1),[y,_]=(0,r.useState)({patientName:"",patientEmail:"",reason:"",notes:"",lgpdConsent:!1}),S=ee(),{toast:E}=function(){let[e,a]=r.useState(Z);return r.useEffect(()=>(X.push(a),()=>{let e=X.indexOf(a);e>-1&&X.splice(e,1)}),[e]),{...e,toast:Q,dismiss:e=>K({type:"DISMISS_TOAST",toastId:e})}}();(0,r.useEffect)(()=>{e&&A(e)},[e]);let A=async e=>{h(!0);try{let a=e.toISOString().split("T")[0],t=await fetch("/api/ninsaude/available-slots?date=".concat(a));if(!t.ok)throw Error("Erro ao carregar hor\xe1rios");let s=await t.json();l(s.slots||[]),n(null)}catch(e){E({title:"Erro ao carregar hor\xe1rios",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{h(!1)}},R=(e,a)=>{_(t=>({...t,[e]:a}))},P=async()=>{h(!0);try{let a={patient:{name:y.patientName,email:y.patientEmail,phone:S.getRawValue()},appointment:{date:e.toISOString().split("T")[0],time:t,reason:y.reason,notes:y.notes},consent:{lgpd:y.lgpdConsent,timestamp:new Date().toISOString()}},s=await fetch("/api/ninsaude/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok){let e=await s.json();throw Error(e.message||"Erro ao criar agendamento")}let r=await s.json();p(r),d(!1),m(!0),await A(e),E({title:"Agendamento confirmado!",description:"Sua consulta foi agendada com sucesso."})}catch(e){E({title:"Erro ao agendar",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{h(!1)}},I=u?"Ol\xe1! Gostaria de confirmar meu agendamento para ".concat(new Date(u.date).toLocaleDateString("pt-BR")," \xe0s ").concat(u.time,"."):"";return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-bg-primary via-bg-secondary to-primary-50 py-12 px-4",children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-primary-700 mb-3",children:"Agendamento Online"}),(0,s.jsx)("p",{className:"text-text-secondary text-lg",children:"Agende sua consulta oftalmol\xf3gica de forma r\xe1pida e segura"})]}),(0,s.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!e||!t)return void E({title:"Selecione data e hor\xe1rio",description:"Por favor, selecione uma data e hor\xe1rio dispon\xedvel.",variant:"destructive"});(y.patientName.trim()?y.patientEmail.trim()&&y.patientEmail.includes("@")?S.getRawValue().length<10?(E({title:"Telefone inv\xe1lido",description:"Por favor, informe um telefone v\xe1lido.",variant:"destructive"}),1):y.reason?!y.lgpdConsent&&(E({title:"Consentimento necess\xe1rio",description:"\xc9 necess\xe1rio aceitar os termos de uso de dados para prosseguir.",variant:"destructive"}),1):(E({title:"Motivo obrigat\xf3rio",description:"Por favor, selecione o motivo da consulta.",variant:"destructive"}),1):(E({title:"E-mail inv\xe1lido",description:"Por favor, informe um e-mail v\xe1lido.",variant:"destructive"}),1):(E({title:"Nome obrigat\xf3rio",description:"Por favor, informe seu nome completo.",variant:"destructive"}),1))||d(!0)},className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(b,{className:"shadow-glass bg-white/80 backdrop-blur-sm",children:[(0,s.jsxs)(v,{children:[(0,s.jsxs)(N,{className:"flex items-center gap-2 text-primary-700",children:[(0,s.jsx)(ea.A,{className:"w-5 h-5"}),"Selecione Data e Hor\xe1rio"]}),(0,s.jsx)(j,{children:"Escolha a data e hor\xe1rio mais convenientes para sua consulta"})]}),(0,s.jsxs)(w,{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(g,{mode:"single",selected:e,onSelect:e=>{a(e)},disabled:e=>e<new Date||0===e.getDay(),className:"rounded-md border border-border-light"})}),e&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(k,{className:"text-primary-700 font-semibold flex items-center gap-2",children:[(0,s.jsx)(et.A,{className:"w-4 h-4"}),"Hor\xe1rios Dispon\xedveis"]}),f?(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)(es.A,{className:"w-6 h-6 animate-spin text-primary-500"}),(0,s.jsx)("span",{className:"ml-2 text-text-secondary",children:"Carregando hor\xe1rios..."})]}):o.length>0?(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:o.map(e=>(0,s.jsx)(x,{type:"button",variant:t===e.time?"default":"outline",className:"".concat(t===e.time?"bg-primary-600 text-white hover:bg-primary-700":"border-border-light hover:border-primary-400"),onClick:()=>{n(e.time)},children:e.time},e.time))}):(0,s.jsx)("p",{className:"text-center py-8 text-text-muted",children:"Nenhum hor\xe1rio dispon\xedvel para esta data"})]})]})]}),(0,s.jsxs)(b,{className:"shadow-glass bg-white/80 backdrop-blur-sm",children:[(0,s.jsxs)(v,{children:[(0,s.jsxs)(N,{className:"flex items-center gap-2 text-primary-700",children:[(0,s.jsx)(er.A,{className:"w-5 h-5"}),"Seus Dados"]}),(0,s.jsx)(j,{children:"Preencha suas informa\xe7\xf5es para confirmar o agendamento"})]}),(0,s.jsxs)(w,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(k,{htmlFor:"name",className:"text-primary-700",children:"Nome Completo *"}),(0,s.jsx)(C,{id:"name",type:"text",placeholder:"Seu nome completo",value:y.patientName,onChange:e=>R("patientName",e.target.value),className:"border-border-light focus:border-primary-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(k,{htmlFor:"email",className:"text-primary-700 flex items-center gap-2",children:[(0,s.jsx)(en.A,{className:"w-4 h-4"}),"E-mail *"]}),(0,s.jsx)(C,{id:"email",type:"email",placeholder:"seu@email.com",value:y.patientEmail,onChange:e=>R("patientEmail",e.target.value),className:"border-border-light focus:border-primary-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(k,{htmlFor:"phone",className:"text-primary-700 flex items-center gap-2",children:[(0,s.jsx)(eo.A,{className:"w-4 h-4"}),"Telefone/WhatsApp *"]}),(0,s.jsx)(C,{id:"phone",type:"tel",placeholder:"(00) 00000-0000",value:S.value,onChange:S.onChange,className:"border-border-light focus:border-primary-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(k,{htmlFor:"reason",className:"text-primary-700 flex items-center gap-2",children:[(0,s.jsx)(el.A,{className:"w-4 h-4"}),"Motivo da Consulta *"]}),(0,s.jsxs)(T,{value:y.reason,onValueChange:e=>R("reason",e),children:[(0,s.jsx)(O,{className:"border-border-light focus:border-primary-500",children:(0,s.jsx)(z,{placeholder:"Selecione o motivo"})}),(0,s.jsx)(F,{children:ed.map(e=>(0,s.jsx)(L,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(k,{htmlFor:"notes",className:"text-primary-700",children:"Observa\xe7\xf5es (opcional)"}),(0,s.jsx)(C,{id:"notes",type:"text",placeholder:"Informa\xe7\xf5es adicionais",value:y.notes,onChange:e=>R("notes",e.target.value),className:"border-border-light focus:border-primary-500"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3 pt-4 border-t border-border-light",children:[(0,s.jsx)(D,{id:"lgpd",checked:y.lgpdConsent,onCheckedChange:e=>R("lgpdConsent",e),className:"mt-1"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(k,{htmlFor:"lgpd",className:"text-sm font-medium text-text-primary cursor-pointer",children:"Concordo com a coleta e uso dos meus dados *"}),(0,s.jsxs)("p",{className:"text-xs text-text-muted",children:["Seus dados ser\xe3o utilizados apenas para fins de agendamento e atendimento m\xe9dico, conforme nossa"," ",(0,s.jsx)("a",{href:"/politica-privacidade",target:"_blank",className:"text-primary-600 hover:text-primary-700 underline",children:"Pol\xedtica de Privacidade"}),"."]})]})]}),(0,s.jsx)(x,{type:"submit",className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-6 text-lg",disabled:f||!e||!t,children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(es.A,{className:"w-5 h-5 mr-2 animate-spin"}),"Processando..."]}):"Confirmar Agendamento"})]})]})]}),(0,s.jsx)("div",{className:"mt-8 text-center space-y-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-text-secondary",children:[(0,s.jsx)("a",{href:"/servicos",className:"hover:text-primary-600 underline",children:"Nossos Servi\xe7os"}),(0,s.jsx)("a",{href:"/contato",className:"hover:text-primary-600 underline",children:"Contato"}),(0,s.jsx)("a",{href:"/faq",className:"hover:text-primary-600 underline",children:"Perguntas Frequentes"})]})})]}),(0,s.jsx)(U,{open:i,onOpenChange:d,children:(0,s.jsxs)(q,{className:"sm:max-w-md",children:[(0,s.jsxs)(H,{children:[(0,s.jsx)(J,{className:"text-primary-700",children:"Confirmar Agendamento"}),(0,s.jsx)(B,{children:"Revise os dados do seu agendamento antes de confirmar"})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Data:"}),(0,s.jsx)("span",{className:"font-semibold text-text-primary",children:null==e?void 0:e.toLocaleDateString("pt-BR")})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Hor\xe1rio:"}),(0,s.jsx)("span",{className:"font-semibold text-text-primary",children:t})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Paciente:"}),(0,s.jsx)("span",{className:"font-semibold text-text-primary",children:y.patientName})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Telefone:"}),(0,s.jsx)("span",{className:"font-semibold text-text-primary",children:S.value})]})]})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(x,{variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Cancelar"}),(0,s.jsx)(x,{onClick:P,disabled:f,className:"flex-1 bg-primary-600 hover:bg-primary-700",children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(es.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Confirmando..."]}):"Confirmar"})]})]})}),(0,s.jsx)(U,{open:c,onOpenChange:m,children:(0,s.jsxs)(q,{className:"sm:max-w-md",children:[(0,s.jsxs)(H,{children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(ei.A,{className:"w-16 h-16 text-success-DEFAULT"})}),(0,s.jsx)(J,{className:"text-center text-primary-700",children:"Agendamento Confirmado!"}),(0,s.jsx)(B,{className:"text-center",children:"Sua consulta foi agendada com sucesso"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[u&&(0,s.jsxs)("div",{className:"bg-primary-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Data:"}),(0,s.jsx)("span",{className:"font-semibold text-primary-700",children:new Date(u.date).toLocaleDateString("pt-BR")})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Hor\xe1rio:"}),(0,s.jsx)("span",{className:"font-semibold text-primary-700",children:u.time})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Protocolo:"}),(0,s.jsx)("span",{className:"font-semibold text-primary-700",children:u.id})]})]}),(0,s.jsxs)("div",{className:"text-sm text-text-secondary space-y-2",children:[(0,s.jsx)("p",{className:"font-semibold text-text-primary",children:"Instru\xe7\xf5es importantes:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,s.jsx)("li",{children:"Chegue com 15 minutos de anteced\xeancia"}),(0,s.jsx)("li",{children:"Traga documento com foto e carteirinha do conv\xeanio"}),(0,s.jsx)("li",{children:"Em caso de d\xfavidas, entre em contato conosco"})]})]}),(0,s.jsx)(x,{className:"w-full bg-success-DEFAULT hover:bg-success-dark",onClick:()=>window.open("https://wa.me/".concat("5533988776655","?text=").concat(encodeURIComponent(I)),"_blank"),children:"Confirmar via WhatsApp"}),(0,s.jsx)(x,{variant:"outline",className:"w-full",onClick:()=>{_({patientName:"",patientEmail:"",reason:"",notes:"",lgpdConsent:!1}),S.setValue(""),a(void 0),n(null),m(!1)},children:"Fazer Novo Agendamento"})]})]})})]})}},60890:(e,a,t)=>{Promise.resolve().then(t.bind(t,51440))}},e=>{e.O(0,[5105,2446,1856,8441,1255,7358],()=>e(e.s=60890)),_N_E=e.O()}]);