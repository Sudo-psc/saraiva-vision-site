(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4073],{49114:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/CheckPage",function(){return s(70256)}])},51853:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(37876);s(14232);var r=s(28468),n=s(34846),o=s(88307),l=s(96023);let i=e=>{let{title:t,description:s,image:i,keywords:c,ogType:u="website",noindex:d=!1,canonicalPath:m=null,structuredData:g=null}=e,{i18n:p}=(0,n.Bd)(),h=(0,o.zy)(),f=p.language||"pt",x="https://saraivavision.com.br",y=h.pathname,v="pt"===f?"Saraiva Vision - Oftalmologia":"Saraiva Vision - Ophthalmology",w=(()=>{let e=[],t=y.startsWith("/en")?y.replace("/en","")||"/":y;e.push({hreflang:"pt-BR",href:"".concat(x).concat(t)}),e.push({hreflang:"pt",href:"".concat(x).concat(t)});let s=y.startsWith("/en")?y:"/en".concat(y);return e.push({hreflang:"en",href:"".concat(x).concat(s)}),e.push({hreflang:"x-default",href:"".concat(x).concat(t)}),e})(),b=m?"".concat(x).concat(m):"".concat(x).concat(y),j=i||"".concat(x,"/og-image-").concat(f,".jpg"),k=s||"Cl\xednica oftalmol\xf3gica em Caratinga/MG com consultas, exames e tratamentos especializados para a sa\xfade da vis\xe3o.";return(0,a.jsxs)(r.mg,{children:[(0,a.jsx)("html",{lang:f}),(0,a.jsx)("title",{children:t}),(0,a.jsx)("meta",{name:"description",content:k}),c&&(0,a.jsx)("meta",{name:"keywords",content:c}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,a.jsx)("meta",{name:"format-detection",content:"telephone=yes"}),(0,a.jsx)("meta",{name:"theme-color",content:"#3B82F6"}),(0,a.jsx)("meta",{name:"geo.region",content:"BR-MG"}),(0,a.jsx)("meta",{name:"geo.placename",content:"Caratinga"}),(0,a.jsx)("meta",{name:"geo.position",content:"-19.7944,-42.1375"}),(0,a.jsx)("meta",{name:"ICBM",content:"-19.7944,-42.1375"}),(0,a.jsx)("link",{rel:"canonical",href:b}),w.map(e=>{let{hreflang:t,href:s}=e;return(0,a.jsx)("link",{rel:"alternate",hrefLang:t,href:s},t)}),(0,a.jsx)("meta",{property:"og:title",content:t}),(0,a.jsx)("meta",{property:"og:description",content:k}),(0,a.jsx)("meta",{property:"og:url",content:b}),(0,a.jsx)("meta",{property:"og:site_name",content:v}),(0,a.jsx)("meta",{property:"og:locale",content:"pt"===f?"pt_BR":"en_US"}),(0,a.jsx)("meta",{property:"og:type",content:u}),(0,a.jsx)("meta",{property:"og:image",content:j}),(0,a.jsx)("meta",{property:"og:image:alt",content:"".concat(v," - ").concat(k.substring(0,100),"...")}),(0,a.jsx)("meta",{property:"og:image:width",content:"1200"}),(0,a.jsx)("meta",{property:"og:image:height",content:"630"}),(0,a.jsx)("meta",{property:"og:image:type",content:"image/jpeg"}),(0,a.jsx)("meta",{property:"business:contact_data:street_address",content:l.x0.address.street}),(0,a.jsx)("meta",{property:"business:contact_data:locality",content:l.x0.address.city}),(0,a.jsx)("meta",{property:"business:contact_data:region",content:l.x0.address.state}),(0,a.jsx)("meta",{property:"business:contact_data:postal_code",content:l.x0.address.zip}),(0,a.jsx)("meta",{property:"business:contact_data:country_name",content:"Brazil"}),(0,a.jsx)("meta",{property:"business:contact_data:phone_number",content:l.x0.phone}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"@saraivavisao"}),(0,a.jsx)("meta",{name:"twitter:creator",content:"@saraivavisao"}),(0,a.jsx)("meta",{name:"twitter:title",content:t}),(0,a.jsx)("meta",{name:"twitter:description",content:k}),(0,a.jsx)("meta",{name:"twitter:image",content:j}),(0,a.jsx)("meta",{name:"twitter:image:alt",content:"".concat(v," - Oftalmologia em Caratinga")}),(0,a.jsx)("meta",{property:"fb:app_id",content:"1134006230864956"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-title",content:v}),(0,a.jsx)("meta",{name:"application-name",content:v}),d?(0,a.jsx)("meta",{name:"robots",content:"noindex, nofollow"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),(0,a.jsx)("meta",{name:"googlebot",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"})]}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://www.google-analytics.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://connect.facebook.net"}),(0,a.jsx)("link",{rel:"preload",as:"image",href:"/images/drphilipe/drphilipe_jaleco Medium.jpeg",imagesrcset:"/images/drphilipe/drphilipe_jaleco Medium.jpeg 800w",imagesizes:"(min-width:1024px) 800px, 100vw"}),(0,a.jsx)("link",{rel:"dns-prefetch",href:"//www.googletagmanager.com"}),(0,a.jsx)("link",{rel:"dns-prefetch",href:"//fonts.googleapis.com"}),(0,a.jsx)("link",{rel:"dns-prefetch",href:"//images.unsplash.com"}),g&&(0,a.jsx)("script",{type:"application/ld+json",children:JSON.stringify(g)})]})}},70256:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(37876),r=s(14232),n=s(38468),o=s(11316),l=s(51853),i=s(34846);let c=()=>"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now(),u=e=>"string"!=typeof e?"":e.replace(/\/+$/,"");async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{timeout:s=8e3,...a}=t;if("function"!=typeof fetch)throw Error("Fetch API is not available");if("undefined"==typeof AbortController||s<=0)return fetch(e,a);let r=new AbortController,n=setTimeout(()=>r.abort(),s);try{return await fetch(e,{...a,signal:r.signal})}finally{clearTimeout(n)}}function m(e){return c()-e}let g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={primaryDomain:"https://saraivavision.com.br",wordpressDomain:"https://saraivavision.com.br",checkHost:"check.saraivavision.com.br",dnsHostname:null,...e},s=u(t.primaryDomain||"https://saraivavision.com.br"),a=u(t.wordpressDomain||s),r="".concat(a,"/wp-json/wp/v2"),n="".concat(a,"/wp-json"),o=t.dnsHostname||function(e){try{return new URL(e).hostname}catch(t){return e}}(s),l=t.checkHost||"check.saraivavision.com.br";return[{id:"server",defaultParams:{target:s},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e=c(),t="".concat(s,"/");try{return await d(t,{mode:"no-cors",cache:"no-store",timeout:8e3}),{status:"success",latency:m(e),data:{target:t},messageId:"opaqueResponse"}}catch(s){let t=m(e);if((null==s?void 0:s.name)==="AbortError")return{status:"error",messageId:"timeout",latency:t};return{status:"error",messageId:"fetchError",messageParams:{message:(null==s?void 0:s.message)||"unknown error"},latency:t}}}},{id:"services",defaultParams:{target:r},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e="".concat(r,"/pages?per_page=5&_fields=id,slug"),t=c();try{let s=await d(e,{mode:"cors",cache:"no-store",headers:{Accept:"application/json"},timeout:8e3}),a=m(t);if(s.ok){let e=await s.json(),t=Array.isArray(e)?e.length:0;return{status:"success",latency:a,data:{count:t}}}if("opaque"===s.type)return{status:"warning",latency:a,messageId:"opaqueResponse",data:{target:e}};return{status:"error",latency:a,messageId:"httpError",messageParams:{status:s.status}}}catch(s){if((null==s?void 0:s.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(t)};try{return await d(e,{mode:"no-cors",cache:"no-store",timeout:8e3}),{status:"warning",latency:m(t),messageId:"opaqueResponse",data:{target:e}}}catch(e){return{status:"error",messageId:"fetchError",messageParams:{message:(null==e?void 0:e.message)||(null==s?void 0:s.message)||"unknown error"},latency:m(t)}}}}},{id:"api",defaultParams:{target:r},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e="".concat(r,"/posts?per_page=1&_fields=id,date"),t=c();try{let s=await d(e,{mode:"cors",cache:"no-store",headers:{Accept:"application/json"},timeout:8e3}),a=m(t);if(s.ok){let e=await s.json(),t=Array.isArray(e)?e.length:0;return{status:"success",latency:a,data:{count:t}}}if("opaque"===s.type)return{status:"warning",latency:a,messageId:"opaqueResponse",data:{target:e}};return{status:"error",latency:a,messageId:"httpError",messageParams:{status:s.status}}}catch(s){if((null==s?void 0:s.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(t)};try{return await d(e,{mode:"no-cors",cache:"no-store",timeout:8e3}),{status:"warning",latency:m(t),messageId:"opaqueResponse",data:{target:e}}}catch(e){return{status:"error",messageId:"fetchError",messageParams:{message:(null==e?void 0:e.message)||(null==s?void 0:s.message)||"unknown error"},latency:m(t)}}}}},{id:"routes",defaultParams:{target:n},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e=c();try{let t=await d(n,{mode:"cors",cache:"no-store",headers:{Accept:"application/json"},timeout:8e3}),s=m(e);if(t.ok){let e=await t.json(),a=(null==e?void 0:e.routes)?Object.keys(e.routes):[],r=["/wp/v2/posts","/wp/v2/pages","/wp/v2/categories"].filter(e=>!a.includes(e)),n={totalRoutes:a.length,missingRoutes:r};if(0===r.length)return{status:"success",latency:s,data:n};return{status:"warning",latency:s,data:n,messageId:"missingRoutes",messageParams:{missing:r.join(", ")}}}if("opaque"===t.type)return{status:"warning",latency:s,messageId:"opaqueResponse",data:{target:n}};return{status:"error",latency:s,messageId:"httpError",messageParams:{status:t.status}}}catch(t){if((null==t?void 0:t.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(e)};try{return await d(n,{mode:"no-cors",cache:"no-store",timeout:8e3}),{status:"warning",latency:m(e),messageId:"opaqueResponse",data:{target:n}}}catch(s){return{status:"error",messageId:"fetchError",messageParams:{message:(null==s?void 0:s.message)||(null==t?void 0:t.message)||"unknown error"},latency:m(e)}}}}},{id:"dns",defaultParams:{hostname:o},run:async()=>{let e="https://dns.google/resolve?name=".concat(encodeURIComponent(o),"&type=A"),t=c();try{let s=await d(e,{mode:"cors",cache:"no-store",timeout:8e3}),a=m(t);if(!s.ok)return{status:"error",latency:a,messageId:"httpError",messageParams:{status:s.status}};let r=await s.json(),n=Array.isArray(null==r?void 0:r.Answer)?r.Answer.filter(e=>"string"==typeof(null==e?void 0:e.data)).map(e=>e.data):[];if(0===n.length)return{status:"warning",latency:a,data:{records:n}};return{status:"success",latency:a,data:{records:n}}}catch(e){if((null==e?void 0:e.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(t)};return{status:"error",messageId:"fetchError",messageParams:{message:(null==e?void 0:e.message)||"unknown error"},latency:m(t)}}}},{id:"ip",defaultParams:{hostname:o},run:async()=>{let e=c(),t=["https://dns.google/resolve?name=".concat(encodeURIComponent(o),"&type=A"),"https://dns.google/resolve?name=".concat(encodeURIComponent(o),"&type=AAAA")];try{let[s,a]=await Promise.all(t.map(e=>d(e,{mode:"cors",cache:"no-store",timeout:8e3}))),r=m(e);if(!s.ok&&!a.ok)return{status:"error",latency:r,messageId:"httpError",messageParams:{status:s.status||a.status}};let n=s.ok?await s.json():{Answer:[]},o=a.ok?await a.json():{Answer:[]},l=Array.isArray(n.Answer)?n.Answer.filter(e=>"string"==typeof(null==e?void 0:e.data)).map(e=>e.data):[],i=Array.isArray(o.Answer)?o.Answer.filter(e=>"string"==typeof(null==e?void 0:e.data)).map(e=>e.data):[];if(0===l.length&&0===i.length)return{status:"warning",latency:r,data:{ipv4:l,ipv6:i}};return{status:"success",latency:r,data:{ipv4:l,ipv6:i}}}catch(t){if((null==t?void 0:t.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(e)};return{status:"error",messageId:"fetchError",messageParams:{message:(null==t?void 0:t.message)||"unknown error"},latency:m(e)}}}},{id:"ssl",defaultParams:{target:s},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e=c(),t="".concat(s,"/");try{return await d(t,{mode:"no-cors",cache:"no-store",timeout:8e3}),{status:"success",latency:m(e),data:{target:t},messageId:"opaqueResponse"}}catch(s){let t=m(e);if((null==s?void 0:s.name)==="AbortError")return{status:"error",messageId:"timeout",latency:t};return{status:"error",messageId:"fetchError",messageParams:{message:(null==s?void 0:s.message)||"unknown error"},latency:t}}}},{id:"subdomain",defaultParams:{expected:l},run:async()=>{var e,t;if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let s=(null==(e=window.location)?void 0:e.hostname)||"",a=(null==(t=window.location)?void 0:t.protocol)||"";return s?s!==l?{status:"warning",data:{hostname:s,protocol:a},messageId:"hostMismatch",messageParams:{hostname:s,expected:l}}:"https:"!==a?{status:"warning",data:{hostname:s,protocol:a},messageId:"insecureProtocol",messageParams:{protocol:a}}:{status:"success",data:{hostname:s,protocol:a}}:{status:"warning",messageId:"hostnameUnavailable"}}},{id:"php",defaultParams:{target:s},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e="".concat(s,"/?rest_route=/"),t=c();try{let s=await d(e,{mode:"cors",cache:"no-store",headers:{Accept:"application/json"},timeout:8e3}),a=m(t);if(s.ok){let e=await s.json(),t=(null==e?void 0:e.routes)?Object.keys(e.routes).length:0;return{status:"success",latency:a,data:{namespace:null==e?void 0:e.namespace,routes:t}}}if("opaque"===s.type)return{status:"warning",latency:a,messageId:"opaqueResponse",data:{target:e}};return{status:"error",latency:a,messageId:"httpError",messageParams:{status:s.status}}}catch(s){if((null==s?void 0:s.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(t)};try{return await d(e,{mode:"no-cors",cache:"no-store",timeout:8e3}),{status:"warning",latency:m(t),messageId:"opaqueResponse",data:{target:e}}}catch(e){return{status:"error",messageId:"fetchError",messageParams:{message:(null==e?void 0:e.message)||(null==s?void 0:s.message)||"unknown error"},latency:m(t)}}}}},{id:"nginx",defaultParams:{target:n},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e=c();try{var t,s;let a=await d(n,{mode:"cors",cache:"no-store",headers:{Accept:"application/json"},timeout:8e3}),r=m(e);if(!a.ok)return{status:"error",latency:r,messageId:"httpError",messageParams:{status:a.status}};let o=null==(s=a.headers)||null==(t=s.get)?void 0:t.call(s,"server");if(o)return{status:"success",latency:r,data:{server:o}};return{status:"warning",latency:r,messageId:"opaqueResponse",data:{target:n}}}catch(t){if((null==t?void 0:t.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(e)};try{return await d(n,{mode:"no-cors",cache:"no-store",timeout:8e3}),{status:"warning",latency:m(e),messageId:"opaqueResponse",data:{target:n}}}catch(s){return{status:"error",messageId:"fetchError",messageParams:{message:(null==s?void 0:s.message)||(null==t?void 0:t.message)||"unknown error"},latency:m(e)}}}}},{id:"database",defaultParams:{target:r},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e="".concat(r,"/posts?per_page=1&_fields=id,date,modified,status&orderby=modified&order=desc"),t=c();try{let r=await d(e,{mode:"cors",cache:"no-store",headers:{Accept:"application/json"},timeout:8e3}),n=m(t);if(r.ok){var s,a;let e=await r.json(),t=Array.isArray(e)&&e.length>0?(null==(s=e[0])?void 0:s.modified)||(null==(a=e[0])?void 0:a.date):null,o=Math.max(n-1e3,0);return{status:"success",latency:n,data:{lastModified:t,dbLatency:o,recordsFound:Array.isArray(e)?e.length:0}}}if("opaque"===r.type)return{status:"warning",latency:n,messageId:"opaqueResponse",data:{target:e}};return{status:"error",latency:n,messageId:"httpError",messageParams:{status:r.status}}}catch(e){if((null==e?void 0:e.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(t)};return{status:"error",messageId:"fetchError",messageParams:{message:(null==e?void 0:e.message)||"unknown error"},latency:m(t)}}}},{id:"assets",defaultParams:{target:s},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e=c(),t=["/images/logo.png","/apple-touch-icon.png","/sw.js"];try{let a=await Promise.allSettled(t.map(async e=>{let t="".concat(s).concat(e);return await d(t,{mode:"no-cors",cache:"no-store",timeout:4e3}),{asset:e,success:!0,status:"opaque"}})),r=m(e),n=a.filter(e=>"fulfilled"===e.status).length,o=a.filter(e=>"rejected"===e.status).length;if(n===t.length)return{status:"success",latency:r,data:{assetsChecked:t.length,successful:n,failed:o,availability:(n/t.length*100).toFixed(1)}};if(n>0)return{status:"warning",latency:r,data:{assetsChecked:t.length,successful:n,failed:o,availability:(n/t.length*100).toFixed(1)},messageId:"partialAvailability",messageParams:{successful:n,total:t.length}};return{status:"error",latency:r,data:{assetsChecked:t.length,successful:0,failed:o},messageId:"allAssetsFailed"}}catch(t){return{status:"error",messageId:"fetchError",messageParams:{message:(null==t?void 0:t.message)||"unknown error"},latency:m(e)}}}},{id:"security",defaultParams:{target:s},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e=c(),t="".concat(s,"/");try{let s=await d(t,{mode:"cors",cache:"no-store",timeout:8e3}),a=m(e);if(s.ok){let e=s.headers,t={"strict-transport-security":e.get("strict-transport-security"),"content-security-policy":e.get("content-security-policy"),"x-frame-options":e.get("x-frame-options"),"x-content-type-options":e.get("x-content-type-options"),"referrer-policy":e.get("referrer-policy")},r=Object.entries(t).filter(e=>{let[,t]=e;return null!==t}).map(e=>{let[t]=e;return t}),n=Object.entries(t).filter(e=>{let[,t]=e;return null===t}).map(e=>{let[t]=e;return t}),o=(r.length/Object.keys(t).length*100).toFixed(0);if(r.length===Object.keys(t).length)return{status:"success",latency:a,data:{score:parseInt(o),presentHeaders:r.length,totalHeaders:Object.keys(t).length,headers:t}};if(r.length>=3)return{status:"warning",latency:a,data:{score:parseInt(o),presentHeaders:r.length,totalHeaders:Object.keys(t).length,missingHeaders:n,headers:t},messageId:"missingSecurity",messageParams:{missing:n.join(", ")}};return{status:"error",latency:a,data:{score:parseInt(o),presentHeaders:r.length,missingHeaders:n,headers:t},messageId:"lowSecurity",messageParams:{count:r.length}}}return{status:"error",latency:a,messageId:"httpError",messageParams:{status:s.status}}}catch(s){if((null==s?void 0:s.name)==="AbortError")return{status:"error",messageId:"timeout",latency:m(e)};try{return await d(t,{mode:"no-cors",cache:"no-store",timeout:8e3}),{status:"warning",latency:m(e),messageId:"corsRestricted",data:{target:t}}}catch(t){return{status:"error",messageId:"fetchError",messageParams:{message:(null==t?void 0:t.message)||(null==s?void 0:s.message)||"unknown error"},latency:m(e)}}}}},{id:"performance",defaultParams:{target:s},run:async()=>{if("function"!=typeof fetch)return{status:"warning",messageId:"browserOnly"};let e=[],t=["".concat(s,"/"),"".concat(r,"/posts?per_page=1&_fields=id"),"".concat(s,"/sw.js")];try{for(let s=0;s<t.length;s++){let a=t[s],r=c();try{await d(a,{mode:"no-cors",cache:"no-store",timeout:4e3});let t=m(r);e.push({url:a,latency:t,success:!0})}catch(t){e.push({url:a,latency:m(r),success:!1,error:t.message})}}let s=e.filter(e=>e.success),a=s.length>0?s.reduce((e,t)=>e+t.latency,0)/s.length:0,r=s.length>0?Math.min(...s.map(e=>e.latency)):0,n=s.length>0?Math.max(...s.map(e=>e.latency)):0,o=a<500?"A":a<1e3?"B":a<2e3?"C":a<3e3?"D":"F";if(s.length===t.length&&a<1e3)return{status:"success",latency:a,data:{averageLatency:Math.round(a),minLatency:Math.round(r),maxLatency:Math.round(n),grade:o,testsRun:t.length,successful:s.length}};if(s.length>0)return{status:"warning",latency:a,data:{averageLatency:Math.round(a),minLatency:Math.round(r),maxLatency:Math.round(n),grade:o,testsRun:t.length,successful:s.length},messageId:a>2e3?"slowPerformance":"partialPerformance",messageParams:{successful:s.length,total:t.length}};return{status:"error",latency:0,data:{testsRun:t.length,successful:0,grade:"F"},messageId:"performanceTestFailed"}}catch(e){return{status:"error",messageId:"fetchError",messageParams:{message:(null==e?void 0:e.message)||"unknown error"},latency:0}}}}]},p={idle:"bg-slate-200 text-slate-700",running:"bg-blue-100 text-blue-700",success:"bg-emerald-100 text-emerald-700",warning:"bg-amber-100 text-amber-700",error:"bg-rose-100 text-rose-700"},h={idle:"bg-slate-400",running:"bg-blue-500",success:"bg-emerald-500",warning:"bg-amber-500",error:"bg-rose-500"},f=e=>{if(!e)return null;let t=new Date(e);return Number.isNaN(t.getTime())?null:t.toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})},x=e=>e.reduce((e,t)=>(e[t.id]={status:"idle",data:null,messageId:null,messageParams:null,latency:null,lastRun:null},e),{}),y=()=>{let{t:e,i18n:t}=(0,i.Bd)(),s=(0,r.useMemo)(()=>g(),[]),[c,u]=(0,r.useState)(()=>x(s)),[d,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(null),[w,b]=(0,r.useState)("all"),[j,k]=(0,r.useState)(!1),I=(0,r.useMemo)(()=>({title:e("check.seo.title"),description:e("check.seo.description"),keywords:e("check.seo.keywords")}),[e,t.language]);(0,r.useEffect)(()=>{u(x(s))},[s]);let N=(0,r.useCallback)(async()=>{if(!d){for(let e of(m(!0),s)){u(t=>({...t,[e.id]:{...t[e.id],status:"running",data:null,messageId:null,messageParams:null,latency:null}}));try{let t=await e.run();u(s=>{var a,r;return{...s,[e.id]:{status:null!=(a=t.status)?a:"error",data:null!=(r=t.data)?r:null,messageId:t.messageId||null,messageParams:t.messageParams||null,latency:"number"==typeof t.latency?t.latency:null,lastRun:new Date().toISOString()}}})}catch(t){u(s=>({...s,[e.id]:{status:"error",data:null,messageId:"unexpected",messageParams:{message:(null==t?void 0:t.message)||"Unknown error"},latency:null,lastRun:new Date().toISOString()}}))}}v(new Date().toISOString()),m(!1)}},[s,d]);(0,r.useEffect)(()=>{N()},[]);let A=()=>{let e={success:0,warning:0,error:0,idle:0,running:0};return Object.values(c).forEach(t=>{e[t.status]=(e[t.status]||0)+1}),e},P=(0,r.useMemo)(()=>"all"===w?s:s.filter(e=>{let t=c[e.id];return(null==t?void 0:t.status)===w}),[s,c,w]);return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[(0,a.jsx)(l.A,{...I}),(0,a.jsx)(n.A,{}),(0,a.jsx)("main",{className:"flex-1 pt-28 pb-20",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold",children:e("check.badge")}),(0,a.jsx)("h1",{className:"mt-2 text-3xl md:text-4xl font-bold text-slate-900",children:e("check.title")}),(0,a.jsx)("p",{className:"mt-4 text-base md:text-lg text-slate-600 max-w-3xl",children:e("check.subtitle")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600",children:y?e("check.lastUpdated",{timestamp:f(y)}):e("check.neverRun")}),Object.keys(c).length>0&&(0,a.jsx)("div",{className:"flex gap-4 text-xs text-slate-500",children:Object.entries(A()).map(t=>{let[s,r]=t;return r>0?(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full ".concat(h[s]||h.idle)}),r," ",e("check.status.".concat(s)).toLowerCase()]},s):null})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:N,disabled:d,className:"inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-semibold shadow-sm transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600 ".concat(d?"bg-emerald-200 text-emerald-700 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-500"),children:d?e("check.running"):e("check.runButton")}),(0,a.jsx)("button",{type:"button",onClick:()=>{let t=new Blob([JSON.stringify({timestamp:new Date().toISOString(),clinic:"Cl\xednica Saraiva Vision",location:"Caratinga, MG",overallStatus:(()=>{let e=Object.values(c).map(e=>e.status);return e.some(e=>"error"===e)?"error":e.some(e=>"warning"===e)?"warning":e.every(e=>"success"===e)?"success":e.some(e=>"running"===e)?"running":"idle"})(),statusCounts:A(),tests:Object.entries(c).map(t=>{let[s,a]=t;return{id:s,name:e("check.diagnostics.".concat(s,".title")),status:a.status,latency:a.latency,data:"success"===a.status?null:a.data,lastRun:a.lastRun}})},null,2)],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="saraiva-vision-diagnostics-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},disabled:d||!y,className:"inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-200 shadow-sm hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-400 disabled:cursor-not-allowed disabled:opacity-70",children:e("check.exportReport")}),(0,a.jsx)("button",{type:"button",onClick:()=>{d||(u(x(s)),v(null))},disabled:d,className:"inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-200 shadow-sm hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-400 disabled:cursor-not-allowed disabled:opacity-70",children:e("check.resetButton")})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between p-4 bg-slate-100 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:[e("check.filterByStatus"),":"]}),(0,a.jsxs)("select",{value:w,onChange:e=>b(e.target.value),className:"px-3 py-1 text-sm border border-slate-300 rounded-lg",children:[(0,a.jsx)("option",{value:"all",children:e("check.filter.all")}),(0,a.jsx)("option",{value:"success",children:e("check.filter.success")}),(0,a.jsx)("option",{value:"warning",children:e("check.filter.warning")}),(0,a.jsx)("option",{value:"error",children:e("check.filter.error")})]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>k(!j),className:"text-sm text-slate-600 hover:text-slate-900 underline",children:j?e("check.hideDetails"):e("check.showDetails")})]})]}),(0,a.jsx)("div",{className:"mt-6 grid gap-6 md:grid-cols-2",children:P.map(t=>{var s,r,n,o,l,i,u,d,m,g,x,y,v,w,b,k,I,N,A,P,E;let R=c[t.id],O=(null==R?void 0:R.status)||"idle",_=e("check.status.".concat(O)),C={...t.defaultParams,...(null==R?void 0:R.data)||{}},S=(e=>"number"!=typeof e||Number.isNaN(e)?null:e>=1e3?"".concat((e/1e3).toFixed(2)," s"):"".concat(Math.round(e)," ms"))(null==R?void 0:R.latency);S&&(C.latency=S);let L="number"==typeof(null==R||null==(s=R.data)?void 0:s.count)?R.data.count:Array.isArray(null==R||null==(r=R.data)?void 0:r.records)?R.data.records.length:void 0;"number"==typeof L&&(C.count=L),"number"==typeof(null==R||null==(n=R.data)?void 0:n.totalRoutes)&&(C.totalRoutes=R.data.totalRoutes);let M=Array.isArray(null==R||null==(o=R.data)?void 0:o.missingRoutes)?R.data.missingRoutes.join(", "):null==R||null==(l=R.messageParams)?void 0:l.missing;M&&(C.missing=M);let q="check.diagnostics.".concat(t.id,".").concat(O),D=e(q,{defaultValue:"",...C}),B=D&&D!==q,H=(null==R?void 0:R.messageId)?e("check.messages.".concat(R.messageId),{...t.defaultParams,...(null==R?void 0:R.messageParams)||{},...(null==R?void 0:R.data)||{},missing:C.missing,hostname:(null==R||null==(i=R.data)?void 0:i.hostname)||(null==(u=t.defaultParams)?void 0:u.expected)}):null;return(0,a.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:e("check.diagnostics.".concat(t.id,".title"))}),(0,a.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:e("check.diagnostics.".concat(t.id,".description"),t.defaultParams)})]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ".concat(p[O]||p.idle),children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full ".concat(h[O]||h.idle)}),_]})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-700",children:["idle"===O?e("check.waiting"):null,"running"===O?e("check.running"):null,"idle"!==O&&"running"!==O&&B?(0,a.jsx)("p",{children:D}):null,"idle"!==O&&"running"!==O&&!B&&H?(0,a.jsx)("p",{children:H}):null]}),H&&("success"===O||"warning"===O)&&B?(0,a.jsx)("div",{className:"text-xs text-slate-500",children:H}):null,"dns"===t.id&&Array.isArray(null==R||null==(d=R.data)?void 0:d.records)&&R.data.records.length>0?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold",children:e("check.diagnostics.dns.recordsLabel")}),(0,a.jsx)("ul",{className:"mt-2 space-y-1 text-sm text-slate-700",children:R.data.records.map(e=>(0,a.jsx)("li",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded-md inline-block",children:e},e))})]}):null,"ip"===t.id&&((null==R||null==(g=R.data)||null==(m=g.ipv4)?void 0:m.length)||(null==R||null==(y=R.data)||null==(x=y.ipv6)?void 0:x.length))?(0,a.jsxs)("div",{className:"grid gap-2 text-sm text-slate-700",children:[Array.isArray(null==R||null==(v=R.data)?void 0:v.ipv4)&&R.data.ipv4.length>0?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold",children:e("check.diagnostics.ip.ipv4Label")}),(0,a.jsx)("ul",{className:"mt-1 flex flex-wrap gap-2",children:R.data.ipv4.map(e=>(0,a.jsx)("li",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded-md",children:e},"ipv4-".concat(e)))})]}):null,Array.isArray(null==R||null==(w=R.data)?void 0:w.ipv6)&&R.data.ipv6.length>0?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold",children:e("check.diagnostics.ip.ipv6Label")}),(0,a.jsx)("ul",{className:"mt-1 flex flex-wrap gap-2",children:R.data.ipv6.map(e=>(0,a.jsx)("li",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded-md",children:e},"ipv6-".concat(e)))})]}):null]}):null,"php"===t.id&&"number"==typeof(null==R||null==(b=R.data)?void 0:b.routes)?(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e("check.diagnostics.php.routesLabel",{routes:R.data.routes})}):null,"nginx"===t.id&&(null==R||null==(k=R.data)?void 0:k.server)?(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e("check.diagnostics.nginx.serverLabel",{server:R.data.server})}):null,"database"===t.id&&(null==R||null==(I=R.data)?void 0:I.lastModified)?(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e("check.diagnostics.database.lastModifiedLabel",{date:new Date(R.data.lastModified).toLocaleDateString()})}):null,"assets"===t.id&&"string"==typeof(null==R||null==(N=R.data)?void 0:N.availability)?(0,a.jsxs)("div",{className:"text-xs text-slate-500 space-y-1",children:[(0,a.jsxs)("p",{children:[e("check.diagnostics.assets.availability"),": ",R.data.availability,"%"]}),(0,a.jsx)("p",{children:e("check.diagnostics.assets.functionalResources",{successful:R.data.successful,total:R.data.assetsChecked})})]}):null,"security"===t.id&&"number"==typeof(null==R||null==(A=R.data)?void 0:A.score)?(0,a.jsxs)("div",{className:"text-xs text-slate-500 space-y-1",children:[(0,a.jsxs)("p",{children:[e("check.diagnostics.security.score"),": ",R.data.score,"%"]}),(0,a.jsxs)("p",{children:[R.data.presentHeaders,"/",R.data.totalHeaders," cabe\xe7alhos presentes"]}),(null==R||null==(P=R.data)?void 0:P.missingHeaders)&&R.data.missingHeaders.length>0?(0,a.jsxs)("p",{className:"text-amber-600",children:[e("check.diagnostics.security.missing"),": ",R.data.missingHeaders.join(", ")]}):null]}):null,"performance"===t.id&&(null==R||null==(E=R.data)?void 0:E.grade)?(0,a.jsxs)("div",{className:"text-xs text-slate-500 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Nota de performance:"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("A"===R.data.grade?"bg-emerald-100 text-emerald-700":"B"===R.data.grade?"bg-blue-100 text-blue-700":"C"===R.data.grade?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"),children:R.data.grade})]}),(0,a.jsxs)("p",{children:["M\xe9dia: ",R.data.averageLatency,"ms (min: ",R.data.minLatency,"ms, max: ",R.data.maxLatency,"ms)"]})]}):null,(null==R?void 0:R.lastRun)?(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e("check.perCheckUpdated",{timestamp:f(R.lastRun)})}):null,j&&(null==R?void 0:R.data)&&(0,a.jsxs)("details",{className:"mt-3",children:[(0,a.jsx)("summary",{className:"text-xs text-slate-500 cursor-pointer hover:text-slate-700",children:"Dados t\xe9cnicos"}),(0,a.jsx)("div",{className:"mt-2 p-3 bg-slate-50 rounded-lg",children:(0,a.jsx)("pre",{className:"text-xs text-slate-600 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(R.data,null,2)})})]})]},t.id)})})]})}),(0,a.jsx)(o.A,{})]})}}},e=>{e.O(0,[3796,8307,8468,4846,8749,1102,6539,636,6593,8792],()=>e(e.s=49114)),_N_E=e.O()}]);