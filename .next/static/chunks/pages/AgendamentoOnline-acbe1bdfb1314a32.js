(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9034],{13900:(e,t,a)=>{"use strict";a.d(t,{d:()=>i});var s=a(14232);let r=0,n={state:{toasts:[]},listeners:[],getState:()=>n.state,setState:e=>{"function"==typeof e?n.state=e(n.state):n.state={...n.state,...e},n.listeners.forEach(e=>e(n.state))},subscribe:e=>(n.listeners.push(e),()=>{n.listeners=n.listeners.filter(t=>t!==e)})},o=e=>{let{...t}=e,a=(r=(r+1)%Number.MAX_VALUE).toString(),s=()=>n.setState(e=>({...e,toasts:e.toasts.filter(e=>e.id!==a)}));return n.setState(e=>({...e,toasts:[{...t,id:a,dismiss:s},...e.toasts].slice(0,1)})),{id:a,dismiss:s,update:e=>n.setState(t=>({...t,toasts:t.toasts.map(t=>t.id===a?{...t,...e}:t)}))}};function i(){let[e,t]=(0,s.useState)(n.getState());return(0,s.useEffect)(()=>n.subscribe(e=>{t(e)}),[]),(0,s.useEffect)(()=>{let t=[];return e.toasts.forEach(e=>{if(e.duration===1/0)return;let a=setTimeout(()=>{e.dismiss()},e.duration||5e3);t.push(a)}),()=>{t.forEach(e=>clearTimeout(e))}},[e.toasts]),{toast:o,toasts:e.toasts}}},26082:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/AgendamentoOnline",function(){return a(99215)}])},26283:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>l});var s=a(37876),r=a(14232),n=a(82987),o=a(47137),i=a(91544);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,s.jsx)(m,{className:(0,i.cn)(l({variant:r,size:o,className:a})),ref:t,...c})});d.displayName="Button"},91544:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(69241),r=a(70143);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.Q)((0,s.$)(t))}},99215:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ew});var s=a(37876),r=a(28468),n=a(14232),o=a(28888),i=a(44937),l=a(3738),d=a(95316),c=a(55564),m=a(91544),u=a(26283);function p(){let e=(0,o._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return p=function(){return e},e}function f(){let e=(0,o._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return f=function(){return e},e}function x(e){let{className:t,classNames:a,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:o="ghost",formatters:x,components:g,...v}=e,y=(0,c.getDefaultClassNames)();return(0,s.jsx)(c.hv,{showOutsideDays:r,className:(0,m.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(p()),String.raw(f()),t),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...x},classNames:{root:(0,m.cn)("w-fit",y.root),months:(0,m.cn)("relative flex flex-col gap-4 md:flex-row",y.months),month:(0,m.cn)("flex w-full flex-col gap-4",y.month),nav:(0,m.cn)("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",y.nav),button_previous:(0,m.cn)((0,u.r)({variant:o}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",y.button_previous),button_next:(0,m.cn)((0,u.r)({variant:o}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",y.button_next),month_caption:(0,m.cn)("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",y.month_caption),dropdowns:(0,m.cn)("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",y.dropdowns),dropdown_root:(0,m.cn)("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",y.dropdown_root),dropdown:(0,m.cn)("bg-popover absolute inset-0 opacity-0",y.dropdown),caption_label:(0,m.cn)("select-none font-medium","label"===n?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",y.caption_label),table:"w-full border-collapse",weekdays:(0,m.cn)("flex",y.weekdays),weekday:(0,m.cn)("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",y.weekday),week:(0,m.cn)("mt-2 flex w-full",y.week),week_number_header:(0,m.cn)("w-[--cell-size] select-none",y.week_number_header),week_number:(0,m.cn)("text-muted-foreground select-none text-[0.8rem]",y.week_number),day:(0,m.cn)("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",y.day),range_start:(0,m.cn)("bg-accent rounded-l-md",y.range_start),range_middle:(0,m.cn)("rounded-none",y.range_middle),range_end:(0,m.cn)("bg-accent rounded-r-md",y.range_end),today:(0,m.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",y.today),outside:(0,m.cn)("text-muted-foreground aria-selected:text-muted-foreground",y.outside),disabled:(0,m.cn)("text-muted-foreground opacity-50",y.disabled),hidden:(0,m.cn)("invisible",y.hidden),...a},components:{Root:e=>{let{className:t,rootRef:a,...r}=e;return(0,s.jsx)("div",{"data-slot":"calendar",ref:a,className:(0,m.cn)(t),...r})},Chevron:e=>{let{className:t,orientation:a,...r}=e;return"left"===a?(0,s.jsx)(i.A,{className:(0,m.cn)("size-4",t),...r}):"right"===a?(0,s.jsx)(l.A,{className:(0,m.cn)("size-4",t),...r}):(0,s.jsx)(d.A,{className:(0,m.cn)("size-4",t),...r})},DayButton:h,WeekNumber:e=>{let{children:t,...a}=e;return(0,s.jsx)("td",{...a,children:(0,s.jsx)("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:t})})},...g},...v})}function h(e){let{className:t,day:a,modifiers:r,...o}=e,i=(0,c.getDefaultClassNames)(),l=n.useRef(null);return n.useEffect(()=>{var e;r.focused&&(null==(e=l.current)||e.focus())},[r.focused]),(0,s.jsx)(u.$,{ref:l,variant:"ghost",size:"icon","data-day":a.date.toLocaleDateString(),"data-selected-single":r.selected&&!r.range_start&&!r.range_end&&!r.range_middle,"data-range-start":r.range_start,"data-range-end":r.range_end,"data-range-middle":r.range_middle,className:(0,m.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",i.day,t),...o})}let g=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,m.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});g.displayName="Card";let v=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,m.cn)("flex flex-col space-y-1.5 p-6",a),...r})});v.displayName="CardHeader";let y=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,m.cn)("font-semibold leading-none tracking-tight",a),...r})});y.displayName="CardTitle";let b=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",a),...r})});b.displayName="CardDescription";let N=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,m.cn)("p-6 pt-0",a),...r})});N.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,m.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";let j=n.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,m.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});j.displayName="Input";var w=a(59773),_=a(47137);let C=(0,_.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(w.b,{ref:t,className:(0,m.cn)(C(),a),...r})});S.displayName=w.b.displayName;var A=a(29470),E=a(5259);let k=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(A.bL,{ref:t,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(A.C1,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(E.Srz,{className:"h-4 w-4"})})})});k.displayName=A.bL.displayName;var R=a(42059);let T=R.bL;R.YJ;let D=R.WT,z=n.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(R.l9,{ref:t,className:(0,m.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,s.jsx)(R.In,{asChild:!0,children:(0,s.jsx)(E.D3D,{className:"h-4 w-4 opacity-50"})})]})});z.displayName=R.l9.displayName;let O=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(R.PP,{ref:t,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(E.Mtm,{className:"h-4 w-4"})})});O.displayName=R.PP.displayName;let P=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(R.wn,{ref:t,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(E.D3D,{className:"h-4 w-4"})})});P.displayName=R.wn.displayName;let I=n.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...o}=e;return(0,s.jsx)(R.ZL,{children:(0,s.jsxs)(R.UC,{ref:t,className:(0,m.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...o,children:[(0,s.jsx)(O,{}),(0,s.jsx)(R.LM,{className:(0,m.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(P,{})]})})});I.displayName=R.UC.displayName,n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(R.JU,{ref:t,className:(0,m.cn)("px-2 py-1.5 text-sm font-semibold",a),...r})}).displayName=R.JU.displayName;let L=n.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(R.q7,{ref:t,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(R.VF,{children:(0,s.jsx)(E.Srz,{className:"h-4 w-4"})})}),(0,s.jsx)(R.p4,{children:r})]})});L.displayName=R.q7.displayName,n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(R.wv,{ref:t,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=R.wv.displayName;var V=a(26303);let M=V.bL;V.l9;let F=V.ZL;V.bm;let $=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(V.hJ,{ref:t,className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});$.displayName=V.hJ.displayName;let U=n.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(F,{children:[(0,s.jsx)($,{}),(0,s.jsxs)(V.UC,{ref:t,className:(0,m.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(V.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(E.MKb,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});U.displayName=V.UC.displayName;let q=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,m.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};q.displayName="DialogHeader";let B=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(V.hE,{ref:t,className:(0,m.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});B.displayName=V.hE.displayName;let G=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(V.VY,{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",a),...r})});G.displayName=V.VY.displayName;let H=0,J=new Map,Y=e=>{if(J.has(e))return;let t=setTimeout(()=>{J.delete(e),W({type:"REMOVE_TOAST",toastId:e})},1e6);J.set(e,t)},X=[],K={toasts:[]};function W(e){K=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?Y(a):e.toasts.forEach(e=>{Y(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(K,e),X.forEach(e=>{e(K)})}function Z(e){let{...t}=e,a=(H=(H+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>W({type:"DISMISS_TOAST",toastId:a});return W({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>W({type:"UPDATE_TOAST",toast:{...e,id:a}})}}var Q=a(65364);let ee=Q.env.REACT_APP_NINSAUDE_API_URL||"https://api.ninsaude.com/v1",et=Q.env.REACT_APP_NINSAUDE_API_KEY,ea=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,a]=(0,n.useState)(e),s=(0,n.useCallback)(e=>{let t=e.replace(/\D/g,"");return t.length<=10?t.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2"):t.replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1")},[]),r=(0,n.useCallback)(e=>{a(s(e.target.value))},[s]),o=(0,n.useCallback)(()=>t.replace(/\D/g,""),[t]);return{value:t,onChange:r,getRawValue:o,setValue:e=>a(s(e))}};var es=a(21744),er=a(18024),en=a(55194),eo=a(51165),ei=a(57009),el=a(52958),ed=a(28364),ec=a(14670);let em=[{value:"consulta-rotina",label:"Consulta de Rotina"},{value:"primeira-consulta",label:"Primeira Consulta"},{value:"retorno",label:"Retorno"},{value:"exame-vista",label:"Exame de Vista"},{value:"urgencia",label:"Urg\xeancia Oftalmol\xf3gica"},{value:"cirurgia-pre",label:"Pr\xe9-Operat\xf3rio"},{value:"cirurgia-pos",label:"P\xf3s-Operat\xf3rio"},{value:"outro",label:"Outro"}];function eu(){let[e,t]=(0,n.useState)(null),[a,r]=(0,n.useState)(null),[o,i]=(0,n.useState)([]),[l,d]=(0,n.useState)(!1),[c,m]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),[h,w]=(0,n.useState)({patientName:"",patientEmail:"",reason:"",notes:"",lgpdConsent:!1}),_=ea(),{toast:C}=function(){let[e,t]=n.useState(K);return n.useEffect(()=>(X.push(t),()=>{let e=X.indexOf(t);e>-1&&X.splice(e,1)}),[e]),{...e,toast:Z,dismiss:e=>W({type:"DISMISS_TOAST",toastId:e})}}(),{loading:A,fetchAvailableSlots:E,createAppointment:R}=(()=>{let[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(null),r=(0,n.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t(!0),s(null);try{let t=new URLSearchParams({date:e.toISOString().split("T")[0],...a&&{professional_id:a}}),s=await fetch("".concat(ee,"/schedule/available?").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(et),"Content-Type":"application/json"}});if(!s.ok)throw Error("Erro ao buscar hor\xe1rios dispon\xedveis");return(await s.json()).slots||[]}catch(e){throw s(e.message),e}finally{t(!1)}},[]);return{loading:e,error:a,fetchAvailableSlots:r,createAppointment:(0,n.useCallback)(async e=>{t(!0),s(null);try{let t=await fetch("".concat(ee,"/schedule/appointments"),{method:"POST",headers:{Authorization:"Bearer ".concat(et),"Content-Type":"application/json"},body:JSON.stringify({patient:{name:e.patientName,email:e.patientEmail,phone:e.patientPhone},appointment:{date:e.date,time:e.time,professional_id:e.professionalId,reason:e.reason,notes:e.notes},consent:{lgpd:e.lgpdConsent,timestamp:new Date().toISOString()}})});if(!t.ok){let e=await t.json();throw Error(e.message||"Erro ao criar agendamento")}return await t.json()}catch(e){throw s(e.message),e}finally{t(!1)}},[]),cancelAppointment:(0,n.useCallback)(async e=>{t(!0),s(null);try{if(!(await fetch("".concat(ee,"/schedule/appointments/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(et),"Content-Type":"application/json"}})).ok)throw Error("Erro ao cancelar agendamento");return!0}catch(e){throw s(e.message),e}finally{t(!1)}},[])}})();(0,n.useEffect)(()=>{e&&O(e)},[e]);let O=async e=>{try{let t=await E(e);i(t),r(null)}catch(e){C({title:"Erro ao carregar hor\xe1rios",description:e.message,variant:"destructive"})}},P=(e,t)=>{w(a=>({...a,[e]:t}))},V=async()=>{try{let t={...h,patientPhone:_.getRawValue(),date:e.toISOString().split("T")[0],time:a},s=await R(t);f(s),d(!1),m(!0),await O(e),C({title:"Agendamento confirmado!",description:"Sua consulta foi agendada com sucesso."})}catch(e){C({title:"Erro ao agendar",description:e.message,variant:"destructive"})}},F=p?"Ol\xe1! Gostaria de confirmar meu agendamento para ".concat(new Date(p.date).toLocaleDateString("pt-BR")," \xe0s ").concat(p.time,"."):"";return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-bg-primary via-bg-secondary to-primary-50 py-12 px-4",children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-primary-700 mb-3",children:"Agendamento Online"}),(0,s.jsx)("p",{className:"text-text-secondary text-lg",children:"Agende sua consulta oftalmol\xf3gica de forma r\xe1pida e segura"})]}),(0,s.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!e||!a)return void C({title:"Selecione data e hor\xe1rio",description:"Por favor, selecione uma data e hor\xe1rio dispon\xedvel.",variant:"destructive"});(h.patientName.trim()?h.patientEmail.trim()&&h.patientEmail.includes("@")?_.getRawValue().length<10?(C({title:"Telefone inv\xe1lido",description:"Por favor, informe um telefone v\xe1lido.",variant:"destructive"}),1):h.reason?!h.lgpdConsent&&(C({title:"Consentimento necess\xe1rio",description:"\xc9 necess\xe1rio aceitar os termos de uso de dados para prosseguir.",variant:"destructive"}),1):(C({title:"Motivo obrigat\xf3rio",description:"Por favor, selecione o motivo da consulta.",variant:"destructive"}),1):(C({title:"E-mail inv\xe1lido",description:"Por favor, informe um e-mail v\xe1lido.",variant:"destructive"}),1):(C({title:"Nome obrigat\xf3rio",description:"Por favor, informe seu nome completo.",variant:"destructive"}),1))||d(!0)},className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(g,{className:"shadow-glass bg-white/80 backdrop-blur-sm",children:[(0,s.jsxs)(v,{children:[(0,s.jsxs)(y,{className:"flex items-center gap-2 text-primary-700",children:[(0,s.jsx)(es.A,{className:"w-5 h-5"}),"Selecione Data e Hor\xe1rio"]}),(0,s.jsx)(b,{children:"Escolha a data e hor\xe1rio mais convenientes para sua consulta"})]}),(0,s.jsxs)(N,{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(x,{mode:"single",selected:e,onSelect:e=>{t(e)},disabled:e=>e<new Date||0===e.getDay(),className:"rounded-md border border-border-light"})}),e&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(S,{className:"text-primary-700 font-semibold flex items-center gap-2",children:[(0,s.jsx)(er.A,{className:"w-4 h-4"}),"Hor\xe1rios Dispon\xedveis"]}),A?(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)(en.A,{className:"w-6 h-6 animate-spin text-primary-500"}),(0,s.jsx)("span",{className:"ml-2 text-text-secondary",children:"Carregando hor\xe1rios..."})]}):o.length>0?(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:o.map(e=>(0,s.jsx)(u.$,{type:"button",variant:a===e.time?"default":"outline",className:"".concat(a===e.time?"bg-primary-600 text-white hover:bg-primary-700":"border-border-light hover:border-primary-400"),onClick:()=>{r(e.time)},children:e.time},e.time))}):(0,s.jsx)("p",{className:"text-center py-8 text-text-muted",children:"Nenhum hor\xe1rio dispon\xedvel para esta data"})]})]})]}),(0,s.jsxs)(g,{className:"shadow-glass bg-white/80 backdrop-blur-sm",children:[(0,s.jsxs)(v,{children:[(0,s.jsxs)(y,{className:"flex items-center gap-2 text-primary-700",children:[(0,s.jsx)(eo.A,{className:"w-5 h-5"}),"Seus Dados"]}),(0,s.jsx)(b,{children:"Preencha suas informa\xe7\xf5es para confirmar o agendamento"})]}),(0,s.jsxs)(N,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S,{htmlFor:"name",className:"text-primary-700",children:"Nome Completo *"}),(0,s.jsx)(j,{id:"name",type:"text",placeholder:"Seu nome completo",value:h.patientName,onChange:e=>P("patientName",e.target.value),className:"border-border-light focus:border-primary-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(S,{htmlFor:"email",className:"text-primary-700 flex items-center gap-2",children:[(0,s.jsx)(ei.A,{className:"w-4 h-4"}),"E-mail *"]}),(0,s.jsx)(j,{id:"email",type:"email",placeholder:"seu@email.com",value:h.patientEmail,onChange:e=>P("patientEmail",e.target.value),className:"border-border-light focus:border-primary-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(S,{htmlFor:"phone",className:"text-primary-700 flex items-center gap-2",children:[(0,s.jsx)(el.A,{className:"w-4 h-4"}),"Telefone/WhatsApp *"]}),(0,s.jsx)(j,{id:"phone",type:"tel",placeholder:"(00) 00000-0000",value:_.value,onChange:_.onChange,className:"border-border-light focus:border-primary-500",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(S,{htmlFor:"reason",className:"text-primary-700 flex items-center gap-2",children:[(0,s.jsx)(ed.A,{className:"w-4 h-4"}),"Motivo da Consulta *"]}),(0,s.jsxs)(T,{value:h.reason,onValueChange:e=>P("reason",e),children:[(0,s.jsx)(z,{className:"border-border-light focus:border-primary-500",children:(0,s.jsx)(D,{placeholder:"Selecione o motivo"})}),(0,s.jsx)(I,{children:em.map(e=>(0,s.jsx)(L,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S,{htmlFor:"notes",className:"text-primary-700",children:"Observa\xe7\xf5es (opcional)"}),(0,s.jsx)(j,{id:"notes",type:"text",placeholder:"Informa\xe7\xf5es adicionais",value:h.notes,onChange:e=>P("notes",e.target.value),className:"border-border-light focus:border-primary-500"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3 pt-4 border-t border-border-light",children:[(0,s.jsx)(k,{id:"lgpd",checked:h.lgpdConsent,onCheckedChange:e=>P("lgpdConsent",e),className:"mt-1"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(S,{htmlFor:"lgpd",className:"text-sm font-medium text-text-primary cursor-pointer",children:"Concordo com a coleta e uso dos meus dados *"}),(0,s.jsxs)("p",{className:"text-xs text-text-muted",children:["Seus dados ser\xe3o utilizados apenas para fins de agendamento e atendimento m\xe9dico, conforme nossa"," ",(0,s.jsx)("a",{href:"/politica-privacidade",target:"_blank",className:"text-primary-600 hover:text-primary-700 underline",children:"Pol\xedtica de Privacidade"}),"."]})]})]}),(0,s.jsx)(u.$,{type:"submit",className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-6 text-lg",disabled:A||!e||!a,children:A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.A,{className:"w-5 h-5 mr-2 animate-spin"}),"Processando..."]}):"Confirmar Agendamento"})]})]})]}),(0,s.jsx)("div",{className:"mt-8 text-center space-y-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-text-secondary",children:[(0,s.jsx)("a",{href:"/servicos",className:"hover:text-primary-600 underline",children:"Nossos Servi\xe7os"}),(0,s.jsx)("a",{href:"/contato",className:"hover:text-primary-600 underline",children:"Contato"}),(0,s.jsx)("a",{href:"/faq",className:"hover:text-primary-600 underline",children:"Perguntas Frequentes"})]})})]}),(0,s.jsx)(M,{open:l,onOpenChange:d,children:(0,s.jsxs)(U,{className:"sm:max-w-md",children:[(0,s.jsxs)(q,{children:[(0,s.jsx)(B,{className:"text-primary-700",children:"Confirmar Agendamento"}),(0,s.jsx)(G,{children:"Revise os dados do seu agendamento antes de confirmar"})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Data:"}),(0,s.jsx)("span",{className:"font-semibold text-text-primary",children:null==e?void 0:e.toLocaleDateString("pt-BR")})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Hor\xe1rio:"}),(0,s.jsx)("span",{className:"font-semibold text-text-primary",children:a})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Paciente:"}),(0,s.jsx)("span",{className:"font-semibold text-text-primary",children:h.patientName})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Telefone:"}),(0,s.jsx)("span",{className:"font-semibold text-text-primary",children:_.value})]})]})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(u.$,{variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Cancelar"}),(0,s.jsx)(u.$,{onClick:V,disabled:A,className:"flex-1 bg-primary-600 hover:bg-primary-700",children:A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Confirmando..."]}):"Confirmar"})]})]})}),(0,s.jsx)(M,{open:c,onOpenChange:m,children:(0,s.jsxs)(U,{className:"sm:max-w-md",children:[(0,s.jsxs)(q,{children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(ec.A,{className:"w-16 h-16 text-success-DEFAULT"})}),(0,s.jsx)(B,{className:"text-center text-primary-700",children:"Agendamento Confirmado!"}),(0,s.jsx)(G,{className:"text-center",children:"Sua consulta foi agendada com sucesso"})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[p&&(0,s.jsxs)("div",{className:"bg-primary-50 rounded-lg p-4 space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Data:"}),(0,s.jsx)("span",{className:"font-semibold text-primary-700",children:new Date(p.date).toLocaleDateString("pt-BR")})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Hor\xe1rio:"}),(0,s.jsx)("span",{className:"font-semibold text-primary-700",children:p.time})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-text-secondary",children:"Protocolo:"}),(0,s.jsx)("span",{className:"font-semibold text-primary-700",children:p.id})]})]}),(0,s.jsxs)("div",{className:"text-sm text-text-secondary space-y-2",children:[(0,s.jsx)("p",{className:"font-semibold text-text-primary",children:"Instru\xe7\xf5es importantes:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,s.jsx)("li",{children:"Chegue com 15 minutos de anteced\xeancia"}),(0,s.jsx)("li",{children:"Traga documento com foto e carteirinha do conv\xeanio"}),(0,s.jsx)("li",{children:"Em caso de d\xfavidas, entre em contato conosco"})]})]}),(0,s.jsx)(u.$,{className:"w-full bg-success-DEFAULT hover:bg-success-dark",onClick:()=>window.open("https://wa.me/".concat("5533988776655","?text=").concat(encodeURIComponent(F)),"_blank"),children:"Confirmar via WhatsApp"}),(0,s.jsx)(u.$,{variant:"outline",className:"w-full",onClick:()=>{w({patientName:"",patientEmail:"",reason:"",notes:"",lgpdConsent:!1}),_.setValue(""),t(null),r(null),m(!1)},children:"Fazer Novo Agendamento"})]})]})})]})}var ep=a(63740);let ef=ep.Kq,ex=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ep.LM,{ref:t,className:(0,m.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});ex.displayName=ep.LM.displayName;let eh=(0,_.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eg=n.forwardRef((e,t)=>{let{className:a,variant:r,...n}=e;return(0,s.jsx)(ep.bL,{ref:t,className:(0,m.cn)(eh({variant:r}),a),...n})});eg.displayName=ep.bL.displayName,n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ep.rc,{ref:t,className:(0,m.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...r})}).displayName=ep.rc.displayName;let ev=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ep.bm,{ref:t,className:(0,m.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...r,children:(0,s.jsx)(E.MKb,{className:"h-4 w-4"})})});ev.displayName=ep.bm.displayName;let ey=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ep.hE,{ref:t,className:(0,m.cn)("text-sm font-semibold [&+div]:text-xs",a),...r})});ey.displayName=ep.hE.displayName;let eb=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(ep.VY,{ref:t,className:(0,m.cn)("text-sm opacity-90",a),...r})});eb.displayName=ep.VY.displayName;var eN=a(13900);function ej(){let{toasts:e}=(0,eN.d)();return(0,s.jsxs)(ef,{children:[e.map(e=>{let{id:t,title:a,description:r,action:n,...o}=e;return(0,s.jsxs)(eg,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(ey,{children:a}),r&&(0,s.jsx)(eb,{children:r})]}),n,(0,s.jsx)(ev,{})]},t)}),(0,s.jsx)(ex,{})]})}function ew(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.mg,{children:[(0,s.jsx)("title",{children:"Agendamento Online - Cl\xednica Saraiva Vision | Caratinga - MG"}),(0,s.jsx)("meta",{name:"description",content:"Agende sua consulta oftalmol\xf3gica online na Cl\xednica Saraiva Vision em Caratinga/MG. Sistema r\xe1pido, seguro e com hor\xe1rios em tempo real."}),(0,s.jsx)("meta",{name:"keywords",content:"agendamento online, consulta oftalmol\xf3gica, Saraiva Vision, Caratinga, MG, oftalmologista, agendar consulta"}),(0,s.jsx)("meta",{property:"og:title",content:"Agendamento Online - Saraiva Vision"}),(0,s.jsx)("meta",{property:"og:description",content:"Agende sua consulta oftalmol\xf3gica de forma r\xe1pida e segura na Cl\xednica Saraiva Vision."}),(0,s.jsx)("meta",{property:"og:type",content:"website"}),(0,s.jsx)("meta",{property:"og:url",content:"https://saraivavision.com.br/agendamento"}),(0,s.jsx)("link",{rel:"canonical",href:"https://saraivavision.com.br/agendamento"})]}),(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsx)(eu,{}),(0,s.jsx)(ej,{})]})]})}}},e=>{e.O(0,[5587,8468,8136,3721,1441,636,6593,8792],()=>e(e.s=26082)),_N_E=e.O()}]);