(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{4134:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/GoogleReviewsTestPage",function(){return s(53731)}])},5404:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},19878:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},21271:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},21744:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},28364:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},30359:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},30409:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},30449:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},35162:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},51165:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},51853:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(37876),r=s(14232),n=s(28468),l=s(34846),i=s(88307),c=s(96023),o=s(65364);let d=e=>{let{title:t,description:s,image:d,keywords:m,ogType:x="website",noindex:h=!1,canonicalPath:p=null,structuredData:u=null}=e,{i18n:g}=(0,l.Bd)(),v=(0,i.zy)(),j=g.language||"pt",f=(()=>{var e,t;return(null==(e=window.location)?void 0:e.origin)?window.location.origin.replace(/\/?$/,""):void 0!==o&&(null==(t=o.env)?void 0:t.VITE_SITE_BASE_URL)?o.env.VITE_SITE_BASE_URL.replace(/\/?$/,""):"https://saraivavision.com.br"})(),y=v.pathname,w=r.useMemo(()=>t?t.length>60?t.substring(0,57)+"...":t:"Oftalmologista Caratinga/MG | Dr. Philipe Saraiva CRM 69.870",[t]),b=r.useMemo(()=>{let e=s||"Cl\xednica oftalmol\xf3gica em Caratinga/MG: catarata, glaucoma, retina, lentes. Dr. Philipe Saraiva CRM-MG 69.870. Agende online ou WhatsApp!";return e.length>155?e.substring(0,152)+"...":e},[s]),N="pt"===j?"Saraiva Vision - Oftalmologia":"Saraiva Vision - Ophthalmology",_=(()=>{let e=[],t=y.startsWith("/en")?y.replace("/en","")||"/":y;e.push({hreflang:"pt-BR",href:"".concat(f).concat(t)}),e.push({hreflang:"pt",href:"".concat(f).concat(t)});let s=y.startsWith("/en")?y:"/en".concat(y);return e.push({hreflang:"en",href:"".concat(f).concat(s)}),e.push({hreflang:"x-default",href:"".concat(f).concat(t)}),e})(),A=p&&p.startsWith("/")?p:p?"/".concat(p):null,E=A?"".concat(f).concat(A):"".concat(f).concat(y),k=d||"".concat(f,"/og-image-1200x630-optimized.jpg");return(0,a.jsxs)(n.mg,{children:[(0,a.jsx)("html",{lang:j}),(0,a.jsx)("title",{children:w}),(0,a.jsx)("meta",{name:"description",content:b}),m&&(0,a.jsx)("meta",{name:"keywords",content:m}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,a.jsx)("meta",{name:"format-detection",content:"telephone=yes"}),(0,a.jsx)("meta",{name:"theme-color",content:"#3B82F6"}),(0,a.jsx)("meta",{name:"geo.region",content:"BR-MG"}),(0,a.jsx)("meta",{name:"geo.placename",content:"Caratinga"}),(0,a.jsx)("meta",{name:"geo.position",content:"-19.7944,-42.1375"}),(0,a.jsx)("meta",{name:"ICBM",content:"-19.7944,-42.1375"}),(0,a.jsx)("link",{rel:"canonical",href:E}),_.map(e=>{let{hreflang:t,href:s}=e;return(0,a.jsx)("link",{rel:"alternate",hrefLang:t,href:s},t)}),(0,a.jsx)("meta",{property:"og:title",content:w}),(0,a.jsx)("meta",{property:"og:description",content:b}),(0,a.jsx)("meta",{property:"og:url",content:E}),(0,a.jsx)("meta",{property:"og:site_name",content:N}),(0,a.jsx)("meta",{property:"og:locale",content:"pt"===j?"pt_BR":"en_US"}),(0,a.jsx)("meta",{property:"og:type",content:x}),(0,a.jsx)("meta",{property:"og:image",content:k}),(0,a.jsx)("meta",{property:"og:image:alt",content:"".concat(w," - Cl\xednica Saraiva Vision")}),(0,a.jsx)("meta",{property:"og:image:width",content:"1200"}),(0,a.jsx)("meta",{property:"og:image:height",content:"630"}),(0,a.jsx)("meta",{property:"og:image:type",content:"image/jpeg"}),(0,a.jsx)("meta",{property:"business:contact_data:street_address",content:c.x0.address.street}),(0,a.jsx)("meta",{property:"business:contact_data:locality",content:c.x0.address.city}),(0,a.jsx)("meta",{property:"business:contact_data:region",content:c.x0.address.state}),(0,a.jsx)("meta",{property:"business:contact_data:postal_code",content:c.x0.address.zip}),(0,a.jsx)("meta",{property:"business:contact_data:country_name",content:"Brazil"}),(0,a.jsx)("meta",{property:"business:contact_data:phone_number",content:c.x0.phone}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"@saraivavisao"}),(0,a.jsx)("meta",{name:"twitter:creator",content:"@saraivavisao"}),(0,a.jsx)("meta",{name:"twitter:title",content:w}),(0,a.jsx)("meta",{name:"twitter:description",content:b}),(0,a.jsx)("meta",{name:"twitter:image",content:k}),(0,a.jsx)("meta",{name:"twitter:image:alt",content:"".concat(w," - Cl\xednica Saraiva Vision")}),(0,a.jsx)("meta",{property:"linkedin:owner",content:"saraiva-vision"}),(0,a.jsx)("meta",{property:"linkedin:company",content:"saraiva-vision"}),(0,a.jsx)("meta",{property:"whatsapp:url",content:E}),(0,a.jsx)("meta",{property:"whatsapp:title",content:w}),(0,a.jsx)("meta",{property:"whatsapp:description",content:b}),(0,a.jsx)("meta",{property:"whatsapp:image",content:k}),(0,a.jsx)("meta",{property:"og:article:author",content:"Dr. Philipe Saraiva"}),(0,a.jsx)("meta",{property:"og:article:section",content:"Medicina Oftalmol\xf3gica"}),(0,a.jsx)("meta",{name:"medical-category",content:"Oftalmologia"}),(0,a.jsx)("meta",{name:"specialty",content:"Cl\xednica Oftalmol\xf3gica"}),(0,a.jsx)("meta",{name:"doctor-name",content:"Dr. Philipe Saraiva"}),(0,a.jsx)("meta",{name:"crm",content:"CRM-MG 69.870"}),(0,a.jsx)("meta",{property:"fb:app_id",content:"1134006230864956"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-title",content:N}),(0,a.jsx)("meta",{name:"application-name",content:N}),h?(0,a.jsx)("meta",{name:"robots",content:"noindex, nofollow"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),(0,a.jsx)("meta",{name:"googlebot",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"})]}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://www.google-analytics.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://connect.facebook.net"}),(0,a.jsx)("link",{rel:"preload",as:"image",href:"/images/drphilipe_jaleco Medium.jpeg",imagesrcset:"/images/drphilipe_jaleco Medium.jpeg 800w, /images/drphilipe_jaleco2 Medium.jpeg 800w",imagesizes:"(min-width:1024px) 800px, 100vw"}),(0,a.jsx)("link",{rel:"preload",as:"image",href:"/images/drphilipe_perfil-1280w.avif",type:"image/avif"}),(0,a.jsx)("link",{rel:"preload",as:"image",href:"/images/drphilipe_perfil-1280w.webp",type:"image/webp"}),(0,a.jsx)("link",{rel:"dns-prefetch",href:"//www.googletagmanager.com"}),(0,a.jsx)("link",{rel:"dns-prefetch",href:"//fonts.googleapis.com"}),(0,a.jsx)("link",{rel:"dns-prefetch",href:"//images.unsplash.com"}),u&&(0,a.jsx)("script",{type:"application/ld+json",children:JSON.stringify(u)})]})}},53731:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(37876);s(14232);var r=s(51853),n=s(91062),l=s(91667),i=s(30965),c=s(86986),o=s(90323),d=s(35162),m=s(79890),x=s(19878),h=s(21271),p=s(30449),u=s(65364);let g=e=>{var t,s,r,n;let{placeId:g=u.env.VITE_GOOGLE_PLACE_ID}=e,{reviews:v,stats:j,loading:f,error:y,refresh:w,config:b}=(0,o.wl)({placeId:g,limit:5,autoFetch:!0});return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-blue-600"}),"Google Places API Test"]}),(0,a.jsxs)(i.$,{onClick:w,size:"sm",variant:"outline",disabled:f,children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2 ".concat(f?"animate-spin":"")}),"Refresh"]})]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[f?(0,a.jsx)(x.A,{className:"w-5 h-5 text-blue-500 animate-spin"}):y?(0,a.jsx)(h.A,{className:"w-5 h-5 text-red-500"}):(0,a.jsx)(p.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Status: ",f?"Loading...":y?"Error":"Connected"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Reviews:"}),(0,a.jsx)(c.E,{variant:"secondary",children:v.length})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"API:"}),(0,a.jsx)(c.E,{variant:"outline",className:"text-xs",children:"Google Places"})]})]}),y&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 text-red-600"}),(0,a.jsx)("h3",{className:"font-medium text-red-800",children:"API Error"})]}),(0,a.jsx)("p",{className:"text-red-700 text-sm",children:y.message}),(0,a.jsxs)("div",{className:"mt-3 text-red-600 text-xs",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Possible causes:"})}),(0,a.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,a.jsx)("li",{children:"Google Places API key not configured or invalid"}),(0,a.jsx)("li",{children:"Place ID not found or invalid"}),(0,a.jsx)("li",{children:"API quota exceeded"}),(0,a.jsx)("li",{children:"Network connectivity issues"})]})]})]}),!y&&!f&&v.length>0&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h3",{className:"font-medium text-green-800",children:"API Connected Successfully!"})]}),(0,a.jsxs)("p",{className:"text-green-700 text-sm",children:["Successfully fetched ",v.length," reviews from Google Places API."]})]}),j&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-800 mb-3",children:"Place Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==(t=j.overview)?void 0:t.averageRating)||"N/A"}),(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"Avg Rating"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==(s=j.overview)?void 0:s.totalReviews)||"N/A"}),(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"Total Reviews"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==(r=j.overview)?void 0:r.recentReviews)||"N/A"}),(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"Recent (30d)"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[(null==(n=j.sentiment)?void 0:n.positivePercentage)||"N/A","%"]}),(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"Positive"})]})]}),j.place&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Place Information"}),(0,a.jsxs)("p",{className:"text-blue-700 text-sm",children:[(0,a.jsx)("strong",{children:"Name:"})," ",j.place.name]}),j.place.address&&(0,a.jsxs)("p",{className:"text-blue-700 text-sm",children:[(0,a.jsx)("strong",{children:"Address:"})," ",j.place.address]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-800",children:"Recent Reviews"}),f&&(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},e))}),!f&&0===v.length&&!y&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)("p",{children:"No reviews available"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"This place may not have any reviews yet"})]}),!f&&v.length>0&&(0,a.jsx)("div",{className:"space-y-4",children:v.map((e,t)=>{var s,r,n;let l;return(0,a.jsx)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:(null==(s=e.reviewer)?void 0:s.profilePhotoUrl)?(0,a.jsx)("img",{src:e.reviewer.profilePhotoUrl,alt:e.reviewer.displayName,className:"w-full h-full object-cover"}):(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:((null==(r=e.reviewer)?void 0:r.displayName)||"A")[0]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:(null==(n=e.reviewer)?void 0:n.displayName)||"Anonymous"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(l=e.starRating||5,(0,a.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,a.jsx)(d.A,{className:"w-4 h-4 ".concat(e<=l?"text-yellow-400 fill-yellow-400":"text-gray-300")},e))})),(0,a.jsxs)(c.E,{variant:"secondary",className:"text-xs",children:[e.starRating||5,"/5"]})]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.relativeTimeDescription||(e.createTime?new Date(e.createTime).toLocaleDateString():"Recent")})]}),(0,a.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.comment||"No comment provided"}),e.wordCount>0&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[e.wordCount," words • ",e.language||"pt-BR"]})]})]})},e.id||t)})})]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-800 mb-3",children:"Configuration"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Place ID:"}),(0,a.jsx)("p",{className:"text-gray-600 break-all",children:b.placeId||"Not configured"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"API Key:"}),(0,a.jsx)("p",{className:"text-gray-600",children:u.env.VITE_GOOGLE_PLACES_API_KEY?"".concat(u.env.VITE_GOOGLE_PLACES_API_KEY.substring(0,10),"..."):"Not configured"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Limit:"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[b.limit," reviews (max 5 from Places API)"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Language:"}),(0,a.jsx)("p",{className:"text-gray-600",children:"pt-BR"})]})]})]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"API Setup Status"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[u.env.VITE_GOOGLE_PLACES_API_KEY?(0,a.jsx)(p.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(h.A,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Google Places API Key:"}),(0,a.jsx)("span",{className:u.env.VITE_GOOGLE_PLACES_API_KEY?"text-green-600":"text-red-600",children:u.env.VITE_GOOGLE_PLACES_API_KEY?"Configured":"Missing"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[u.env.VITE_GOOGLE_PLACE_ID?(0,a.jsx)(p.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(h.A,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Google Place ID:"}),(0,a.jsx)("span",{className:u.env.VITE_GOOGLE_PLACE_ID?"text-green-600":"text-red-600",children:u.env.VITE_GOOGLE_PLACE_ID?"Configured":"Missing"})]}),(!u.env.VITE_GOOGLE_PLACES_API_KEY||!u.env.VITE_GOOGLE_PLACE_ID)&&(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"Setup Required"}),(0,a.jsx)("p",{className:"text-yellow-700 text-sm mb-2",children:"To use live Google Reviews, configure these environment variables:"}),(0,a.jsxs)("div",{className:"bg-yellow-100 rounded p-2 font-mono text-xs",children:["VITE_GOOGLE_PLACES_API_KEY=your_google_places_api_key",(0,a.jsx)("br",{}),"VITE_GOOGLE_PLACE_ID=your_place_id"]}),(0,a.jsx)("p",{className:"text-yellow-700 text-sm mt-2",children:"Until configured, the component will use reliable fallback data."})]}),u.env.VITE_GOOGLE_PLACES_API_KEY&&u.env.VITE_GOOGLE_PLACE_ID&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"✅ Ready to Use!"}),(0,a.jsx)("p",{className:"text-green-700 text-sm",children:"Your Google Places API is properly configured. The reviews should load automatically. The GoogleReviewsWidget component is ready for production use."})]})]})})]})]})};var v=s(13676);let j=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.A,{title:"Google Reviews API Test - Saraiva Vision",description:"Testing Google Places API integration for reviews"}),(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("main",{className:"pt-20",children:(0,a.jsx)("div",{className:"py-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Google Reviews API Test"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Testing the integration with Google Places API to fetch real reviews"})]}),(0,a.jsx)(g,{})]})})}),(0,a.jsx)(v.A,{})]})]})}},72117:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]])},79890:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},86986:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(37876);s(14232);var r=s(47137),n=s(91544);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...r})}},87215:(e,t,s)=>{"use strict";s.d(t,{y:()=>n});var a=s(14232);let r=0;function n(e){let t=(0,a.useRef)(!1),s=(0,a.useRef)(0);return(0,a.useEffect)(()=>{if("undefined"==typeof document)return()=>{};let a=document.body,n=document.documentElement,l=()=>{if(t.current&&(t.current=!1,0===(r=Math.max(0,r-1)))){a.classList.remove("scroll-locked"),a.style.removeProperty("--scrollbar-width");try{window.scrollTo(0,s.current)}catch(e){}}};if(e){if(!t.current){if(s.current=window.pageYOffset,1===(r=Math.max(0,r)+1)){let e=Math.max(0,window.innerWidth-n.clientWidth);a.style.setProperty("--scrollbar-width","".concat(e,"px")),a.classList.add("scroll-locked")}t.current=!0}}else l();return()=>{t.current&&l()}},[e]),t.current}},87249:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},90323:(e,t,s)=>{"use strict";s.d(t,{wl:()=>d});var a=s(14232),r=s(65364);let n=["GOOGLE_PLACE_ID_PLACEHOLDER","your_google_place_id_here","PLACEHOLDER"],l=new Map,i=e=>{if(!e)return null;let t=String(e).trim();return!t||n.some(e=>t.includes(e))?null:t},c=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];for(let e of t){let t=i(e);if(t)return t}return null},o={placeId:null,limit:5,autoFetch:!0,refreshInterval:null,onError:null,onSuccess:null};function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{placeId:t=o.placeId,limit:s=o.limit,autoFetch:n=o.autoFetch,refreshInterval:i=o.refreshInterval,onError:d=o.onError,onSuccess:m=o.onSuccess}=e,x=(0,a.useMemo)(()=>({placeId:t,limit:s,autoFetch:n,refreshInterval:i,onError:d,onSuccess:m}),[t,s,n,i,d,m]),[h,p]=(0,a.useState)([]),[u,g]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1),[f,y]=(0,a.useState)(null),[w,b]=(0,a.useState)(null),[N,_]=(0,a.useState)(0),A=(0,a.useRef)(null),E=(0,a.useRef)(null),k=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c(e.placeId,x.placeId,r.env.GOOGLE_PLACE_ID,r.env.VITE_GOOGLE_PLACE_ID);if(!t){console.info("Google Reviews: Using fallback data (API not configured)"),y(null),p([]),g(null);return}let s="".concat(t,"-").concat(e.limit||x.limit||5),a=l.get(s);if(!e.forceRefresh&&a&&Date.now()-a.timestamp<3e5){console.log("Google Reviews: Using cached data"),p(a.reviews),g(a.stats),b(new Date(a.timestamp)),j(!1),y(null);return}A.current&&A.current.abort(),A.current=new AbortController,j(!0),y(null);let n=e.retryAttempt||0;try{var i;let a,n=new URLSearchParams({placeId:t,limit:e.limit||x.limit||5,language:"pt-BR"}),c=await fetch("".concat((null==(i=r.env.VITE_API_URL)?void 0:i.replace("/api",""))||"http://localhost:3001","/api/google-reviews?").concat(n),{signal:A.current.signal,headers:{"Content-Type":"application/json"}});if(!c.ok)throw Error("HTTP ".concat(c.status,": ").concat(c.statusText));try{let e=c.headers.get("content-type");if(!e||!e.includes("application/json")){let t=await c.text();throw console.error("Expected JSON but got:",e,t.substring(0,200)),Error("Server returned non-JSON response")}a=await c.json()}catch(e){throw console.error("JSON parsing error:",e),Error("Invalid response format from server")}if(!a.success)throw Error(a.error||"Failed to fetch reviews");let{reviews:o,stats:d}=a.data,m={reviews:o||[],stats:d,timestamp:Date.now()};l.set(s,m),p(o||[]),d&&g(d),b(new Date),x.onSuccess&&x.onSuccess(a.data)}catch(r){if("AbortError"===r.name)return;console.error("Google Reviews fetch error:",r);let t=r.message.includes("network")||r.message.includes("timeout")||r.message.includes("fetch")||r.message.includes("ECONNREFUSED")||r.message.includes("ENOTFOUND")||r.response&&r.response.status>=500,s=r.message.includes("401")||r.message.includes("403")||r.message.includes("Unauthorized")||r.message.includes("Forbidden");if(n<3&&t&&!s){console.log("Retrying request (".concat(n+1,"/").concat(3,")...")),_(n+1),setTimeout(()=>{k({...e,retryAttempt:n+1})},1e3*Math.pow(2,n));return}s&&console.warn("Authentication error with Google Reviews API:",r.message);let a=Error(r.message||"Failed to fetch reviews from Google Places API");y(a),_(0),x.onError&&x.onError(a)}finally{0===n&&j(!1)}},[x]),I=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c(e.placeId,x.placeId,r.env.GOOGLE_PLACE_ID,r.env.VITE_GOOGLE_PLACE_ID);if(t)try{var s,a,n;let l=new URLSearchParams({placeId:t,period:e.period||"30",includeDistribution:null==(a=e.includeDistribution)||a,includeTrends:null!=(n=e.includeTrends)&&n}),i=await fetch("".concat((null==(s=r.env.VITE_API_URL)?void 0:s.replace("/api",""))||"http://localhost:3001","/api/google-reviews-stats?").concat(l));if(!i.ok)throw Error("HTTP ".concat(i.status,": ").concat(i.statusText));let c=await i.json();c.success&&g(c.data)}catch(e){console.error("Failed to fetch review stats:",e)}},[x.placeId]),P=(0,a.useCallback)(async()=>{await k({forceRefresh:!0})},[k]),R=(0,a.useCallback)(e=>h.filter(t=>{if(e.minRating&&t.starRating<e.minRating||e.maxRating&&t.starRating>e.maxRating||void 0!==e.hasResponse&&t.hasResponse!==e.hasResponse)return!1;if(e.keywords&&e.keywords.length>0){let s=(t.comment||"").toLowerCase();if(!e.keywords.some(e=>s.includes(e.toLowerCase())))return!1}if(e.dateRange){let s=new Date(t.createTime);if(e.dateRange.start&&s<e.dateRange.start||e.dateRange.end&&s>e.dateRange.end)return!1}return!0}),[h]),G=(0,a.useCallback)(e=>h.filter(t=>t.starRating===e),[h]),L=(0,a.useCallback)(()=>{let e=new Date;return e.setDate(e.getDate()-30),h.filter(t=>!!t.createTime&&new Date(t.createTime)>=e)},[h]);return(0,a.useEffect)(()=>{x.autoFetch&&k()},[x.autoFetch]),(0,a.useEffect)(()=>{if(x.refreshInterval&&x.refreshInterval>0)return E.current=setInterval(()=>{k()},x.refreshInterval),()=>{E.current&&clearInterval(E.current)}},[x.refreshInterval]),(0,a.useEffect)(()=>()=>{A.current&&A.current.abort(),E.current&&clearInterval(E.current)},[]),{reviews:h,stats:u,hasMore:!1,loading:v,error:f,lastFetch:w,retryCount:N,isRetrying:N>0,fetchReviews:k,fetchStats:I,refresh:P,filterReviews:R,getReviewsByRating:G,getRecentReviews:L,config:{placeId:c(x.placeId,r.env.GOOGLE_PLACE_ID,r.env.VITE_GOOGLE_PLACE_ID),limit:x.limit}}}},91062:(e,t,s)=>{"use strict";s.d(t,{A:()=>b});var a=s(37876),r=s(14232),n=s(88307),l=s(14952),i=s(34846),c=s(8632),o=s(30409),d=s(94975),m=s(30359),x=s(28364),h=s(72117),p=s(51165),u=s(5404),g=s(21744),v=s(97842),j=s(87249),f=s(30965),y=s(97749),w=s(87215);let b=()=>{let[e,t]=(0,r.useState)(!1),[s,b]=(0,r.useState)(!1),N=(0,n.Zp)(),{t:_}=(0,i.Bd)();(0,w.y)(s),(0,r.useEffect)(()=>{let e=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);let A=(0,r.useMemo)(()=>[{name:_("navbar.home"),href:"/",internal:!0,icon:o.A},{name:_("navbar.services"),href:"/servicos",internal:!0,icon:d.A},{name:_("navbar.lenses"),href:"/lentes",internal:!0,icon:m.A},{name:_("navbar.blog"),href:"/blog",internal:!0,icon:x.A},{name:_("navbar.podcast"),href:"/podcast",internal:!0,icon:h.A},{name:_("navbar.about"),href:"/sobre",internal:!0,icon:p.A},{name:_("navbar.faq"),href:"/faq",internal:!0,icon:u.A}],[_]);return(0,a.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(e?"bg-white/95 backdrop-blur-sm shadow-md py-2":"bg-white/90 backdrop-blur border-b border-slate-200/60 md:bg-transparent md:border-0 py-3"),children:[(0,a.jsx)("div",{className:"container mx-auto px-4 md:px-6 no-scrollbar-x",children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)(c.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,a.jsx)(l.N_,{to:"/","aria-label":_("navbar.home_link_label"),children:(0,a.jsx)(y.A,{isWhite:!0})})}),(0,a.jsx)("nav",{className:"hidden md:flex items-center space-x-1","aria-label":_("navbar.primary_navigation"),children:A.map(e=>{let t=e.icon;return e.internal?(0,a.jsxs)(l.N_,{to:e.href,className:"text-slate-800 hover:text-blue-700 font-medium transition-colors px-4 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2",children:[(0,a.jsx)(t,{size:16,className:"text-slate-600"}),e.name]},e.name):(0,a.jsxs)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"text-slate-800 hover:text-blue-700 font-medium transition-colors px-4 py-2 rounded-lg hover:bg-slate-100 flex items-center gap-2",children:[(0,a.jsx)(t,{size:16,className:"text-slate-600"}),e.name]},e.name)})}),(0,a.jsx)("div",{className:"hidden md:flex items-center gap-4",children:(0,a.jsxs)(f.$,{onClick:()=>N("/sobre#contact"),className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{size:18}),(0,a.jsx)("span",{children:_("navbar.schedule")})]})}),(0,a.jsx)("div",{className:"md:hidden flex items-center gap-2",children:(0,a.jsx)(f.$,{variant:"outline",size:"icon",className:"!h-12 !w-12 rounded-2xl border-blue-500 text-blue-700 bg-white shadow-3d hover:shadow-3d-hover",onClick:()=>b(!s),"aria-label":s?_("navbar.close_menu"):_("navbar.open_menu"),"aria-expanded":s,"aria-controls":"mobile-primary-navigation",children:s?(0,a.jsx)(v.A,{size:28}):(0,a.jsx)(j.A,{size:28})})})]})}),s&&(0,a.jsx)("div",{className:"md:hidden bg-white border-t",children:(0,a.jsxs)("nav",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4",children:[A.map(e=>{let t=e.icon;return e.internal?(0,a.jsxs)(l.N_,{to:e.href,onClick:()=>b(!1),className:"text-slate-800 hover:text-blue-700 py-2 font-medium text-lg flex items-center gap-3",children:[(0,a.jsx)(t,{size:18,className:"text-slate-600"}),e.name]},e.name):(0,a.jsxs)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",onClick:()=>b(!1),className:"text-slate-800 hover:text-blue-700 py-2 font-medium text-lg flex items-center gap-3",children:[(0,a.jsx)(t,{size:18,className:"text-slate-600"}),e.name]},e.name)}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)(f.$,{onClick:()=>{b(!1),N("/sobre#contact")},className:"flex items-center gap-2 w-full justify-center",children:[(0,a.jsx)(g.A,{size:18}),(0,a.jsx)("span",{children:_("navbar.schedule_consultation")})]})})]})})]})}},91667:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>i,ZB:()=>l,Zp:()=>r,aR:()=>n});var a=s(37876);s(14232);let r=e=>{let{children:t,className:s="",...r}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm ".concat(s),...r,children:t})},n=e=>{let{children:t,className:s="",...r}=e;return(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 ".concat(s),...r,children:t})},l=e=>{let{children:t,className:s="",...r}=e;return(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ".concat(s),...r,children:t})},i=e=>{let{children:t,className:s="",...r}=e;return(0,a.jsx)("div",{className:"px-6 py-4 ".concat(s),...r,children:t})}},94975:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},97842:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(56467).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{e.O(0,[3796,8307,8468,4846,7135,4790,1714,636,6593,8792],()=>e(e.s=4134)),_N_E=e.O()}]);