(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4885],{35374:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(37876),r=t(14232),n=t(28468),l=t(88307),i=t(41399),o=t(55194),d=t(78539),m=t(21271),c=t(51165),u=t(39393),x=t(77711),h=t(30359);let g=(0,t(56467).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var p=t(75375);let f=()=>{let{signIn:e,user:s,loading:t,canAccessDashboard:n}=(0,i.As)(),f=(0,l.Zp)(),b=(0,l.zy)(),[j,v]=(0,r.useState)({email:"",password:""}),[y,N]=(0,r.useState)(!1),[w,A]=(0,r.useState)(!1),[E,_]=(0,r.useState)("");(0,r.useEffect)(()=>{if(s&&n()){var e;f((null==(e=b.state)?void 0:e.from)||"/admin/dashboard",{replace:!0})}},[s,n,f,b.state]);let S=e=>{let{name:s,value:t}=e.target;v(e=>({...e,[s]:t})),E&&_("")},k=async s=>{s.preventDefault(),A(!0),_("");try{let{data:s,error:t}=await e(j.email,j.password);if(t)throw t}catch(e){var t,a,r;console.error("Login error:",e),(null==(t=e.message)?void 0:t.includes("Invalid login credentials"))?_("Email ou senha incorretos. Verifique suas credenciais e tente novamente."):(null==(a=e.message)?void 0:a.includes("Email not confirmed"))?_("Email n\xe3o confirmado. Verifique sua caixa de entrada e confirme seu email."):(null==(r=e.message)?void 0:r.includes("Too many requests"))?_("Muitas tentativas de login. Aguarde alguns minutos antes de tentar novamente."):_("Erro ao fazer login. Tente novamente em alguns instantes.")}finally{A(!1)}},C=j.email.trim()&&j.password.trim();return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.A,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Verificando autentica\xe7\xe3o..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:(0,a.jsx)(d.A,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Login"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Acesse o painel administrativo da Saraiva Vision"})]})}),(0,a.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsxs)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[(0,a.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[E&&(0,a.jsxs)("div",{className:"flex items-start p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-red-400 mr-3 mt-0.5 flex-shrink-0"}),(0,a.jsx)("div",{className:"text-sm text-red-700",children:E})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:j.email,onChange:S,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"admin@saraivavision.com.br",required:!0,autoComplete:"email"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{type:y?"text":"password",id:"password",name:"password",value:j.password,onChange:S,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"••••••••",required:!0,autoComplete:"current-password"}),(0,a.jsx)("button",{type:"button",onClick:()=>N(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:y?(0,a.jsx)(x.A,{className:"w-5 h-5"}):(0,a.jsx)(h.A,{className:"w-5 h-5"})})]})]}),(0,a.jsx)("button",{type:"submit",disabled:w||!C,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Entrando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{className:"w-4 h-4 mr-2"}),"Entrar"]})})]}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-2",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Acesso restrito a administradores"]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Este painel \xe9 protegido por autentica\xe7\xe3o segura e controle de acesso baseado em fun\xe7\xf5es."})]})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("button",{type:"button",onClick:()=>f("/"),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-800 transition-colors",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Voltar ao site"]})})]})})]})},b=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.mg,{children:[(0,a.jsx)("title",{children:"Admin Login | Saraiva Vision"}),(0,a.jsx)("meta",{name:"description",content:"Acesso administrativo ao painel da Saraiva Vision"}),(0,a.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,a.jsx)(f,{})]})},41399:(e,s,t)=>{"use strict";t.d(s,{As:()=>n}),t(37876);var a=t(14232);t(80369);let r=(0,a.createContext)({}),n=()=>{let e=(0,a.useContext)(r);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},49384:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/AdminLoginPage",function(){return t(35374)}])},75375:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(56467).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},80369:(e,s,t)=>{"use strict";t.d(s,{E:()=>o});var a=t(27797),r=t(65364);let n=r.env.NEXT_PUBLIC_SUPABASE_URL,l=r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,i=r.env.SUPABASE_SERVICE_ROLE_KEY;(0,a.UU)(n,l);let o=(0,a.UU)(n,i,{auth:{autoRefreshToken:!1,persistSession:!1}})}},e=>{e.O(0,[3796,8307,8468,8220,1112,636,6593,8792],()=>e(e.s=49384)),_N_E=e.O()}]);