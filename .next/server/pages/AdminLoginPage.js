"use strict";(()=>{var a={};a.id=4885,a.ids=[3220,4885],a.modules={8645:(a,b,c)=>{c.d(b,{As:()=>f}),c(8732);var d=c(82015);c(13162);let e=(0,d.createContext)({}),f=()=>{let a=(0,d.useContext)(e);if(!a)throw Error("useAuth must be used within an AuthProvider");return a}},8732:a=>{a.exports=require("react/jsx-runtime")},13162:(a,b,c)=>{c.d(b,{E:()=>h});let d=require("@supabase/supabase-js"),e=process.env.NEXT_PUBLIC_SUPABASE_URL,f=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,g=process.env.SUPABASE_SERVICE_ROLE_KEY;(0,d.createClient)(e,f);let h=(0,d.createClient)(e,g,{auth:{autoRefreshToken:!1,persistSession:!1}})},21990:a=>{a.exports=require("react-helmet-async")},28555:(a,b,c)=>{c.r(b),c.d(b,{config:()=>y,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>w,getStaticProps:()=>v,handler:()=>G,reportWebVitals:()=>z,routeModule:()=>F,unstable_getServerProps:()=>D,unstable_getServerSideProps:()=>E,unstable_getStaticParams:()=>C,unstable_getStaticPaths:()=>B,unstable_getStaticProps:()=>A});var d={};c.r(d),c.d(d,{default:()=>s});var e=c(63885),f=c(80237),g=c(81413),h=c(65611),i=c.n(h),j=c(625),k=c.n(j),l=c(8732),m=c(82015),n=c(21990),o=c(54822),p=c(8645),q=c(74952);let r=()=>{let{signIn:a,user:b,loading:c,canAccessDashboard:d}=(0,p.As)(),e=(0,o.useNavigate)(),f=(0,o.useLocation)(),[g,h]=(0,m.useState)({email:"",password:""}),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(!1),[r,s]=(0,m.useState)("");(0,m.useEffect)(()=>{b&&d()&&e(f.state?.from||"/admin/dashboard",{replace:!0})},[b,d,e,f.state]);let t=a=>{let{name:b,value:c}=a.target;h(a=>({...a,[b]:c})),r&&s("")},u=async b=>{b.preventDefault(),n(!0),s("");try{let{data:b,error:c}=await a(g.email,g.password);if(c)throw c}catch(a){console.error("Login error:",a),a.message?.includes("Invalid login credentials")?s("Email ou senha incorretos. Verifique suas credenciais e tente novamente."):a.message?.includes("Email not confirmed")?s("Email n\xe3o confirmado. Verifique sua caixa de entrada e confirme seu email."):a.message?.includes("Too many requests")?s("Muitas tentativas de login. Aguarde alguns minutos antes de tentar novamente."):s("Erro ao fazer login. Tente novamente em alguns instantes.")}finally{n(!1)}},v=g.email.trim()&&g.password.trim();return c?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(q.krw,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Verificando autentica\xe7\xe3o..."})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,l.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:(0,l.jsx)(q.ekZ,{className:"w-8 h-8 text-blue-600"})}),(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Login"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Acesse o painel administrativo da Saraiva Vision"})]})}),(0,l.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,l.jsxs)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[(0,l.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[r&&(0,l.jsxs)("div",{className:"flex items-start p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,l.jsx)(q.RIJ,{className:"w-5 h-5 text-red-400 mr-3 mt-0.5 flex-shrink-0"}),(0,l.jsx)("div",{className:"text-sm text-red-700",children:r})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(q.KJW,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{type:"email",id:"email",name:"email",value:g.email,onChange:t,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"admin@saraivavision.com.br",required:!0,autoComplete:"email"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(q.c_I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{type:i?"text":"password",id:"password",name:"password",value:g.password,onChange:t,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"••••••••",required:!0,autoComplete:"current-password"}),(0,l.jsx)("button",{type:"button",onClick:()=>j(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?(0,l.jsx)(q.X_F,{className:"w-5 h-5"}):(0,l.jsx)(q.kU3,{className:"w-5 h-5"})})]})]}),(0,l.jsx)("button",{type:"submit",disabled:k||!v,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:k?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(q.krw,{className:"w-4 h-4 mr-2 animate-spin"}),"Entrando..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(q.G5D,{className:"w-4 h-4 mr-2"}),"Entrar"]})})]}),(0,l.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-2",children:[(0,l.jsx)(q.c_I,{className:"w-4 h-4 mr-2"}),"Acesso restrito a administradores"]}),(0,l.jsx)("p",{className:"text-xs text-gray-400",children:"Este painel \xe9 protegido por autentica\xe7\xe3o segura e controle de acesso baseado em fun\xe7\xf5es."})]})}),(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsxs)("button",{type:"button",onClick:()=>e("/"),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-800 transition-colors",children:[(0,l.jsx)(q.nkM,{className:"w-4 h-4 mr-2"}),"Voltar ao site"]})})]})})]})},s=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.Helmet,{children:[(0,l.jsx)("title",{children:"Admin Login | Saraiva Vision"}),(0,l.jsx)("meta",{name:"description",content:"Acesso administrativo ao painel da Saraiva Vision"}),(0,l.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,l.jsx)(r,{})]});var t=c(12289);let u=(0,g.M)(d,"default"),v=(0,g.M)(d,"getStaticProps"),w=(0,g.M)(d,"getStaticPaths"),x=(0,g.M)(d,"getServerSideProps"),y=(0,g.M)(d,"config"),z=(0,g.M)(d,"reportWebVitals"),A=(0,g.M)(d,"unstable_getStaticProps"),B=(0,g.M)(d,"unstable_getStaticPaths"),C=(0,g.M)(d,"unstable_getStaticParams"),D=(0,g.M)(d,"unstable_getServerProps"),E=(0,g.M)(d,"unstable_getServerSideProps"),F=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/AdminLoginPage",pathname:"/AdminLoginPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:d}),G=(0,t.U)({srcPage:"/AdminLoginPage",config:y,userland:d,routeModule:F,getStaticPaths:w,getStaticProps:v,getServerSideProps:x})},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},54822:a=>{a.exports=require("react-router-dom")},82015:a=>{a.exports=require("react")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[5611,157,4952],()=>b(b.s=28555));module.exports=c})();