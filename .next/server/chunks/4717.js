"use strict";exports.id=4717,exports.ids=[4717],exports.modules={7437:(a,b,c)=>{c.d(b,{pO:()=>e}),c(12354);let d=null;function e(a){return d?console.log("\uD83D\uDD04 [DEBUG] Retornando promise existente do Google Maps"):(d=(async()=>{throw console.log("⚠️ [DEBUG] Ambiente servidor detectado, retornando promise rejeitada"),Error("Google Maps n\xe3o pode ser carregado no servidor")})()).catch(()=>{d=null}),d}},12354:(a,b,c)=>{c.d(b,{Wq:()=>i,a6:()=>g});let d=null,e=null;function f(a){return"string"==typeof a?a.trim():""}function g(a){let b=f(a);return b.startsWith("AIza")&&b.length>=30}async function h(){try{let a=await fetch(function(){if("undefined"!=typeof process)return"/api/config";let a="";return("undefined"!=typeof process&&process.env&&(a=f(process.env.NEXT_PUBLIC_API_BASE_URL||process.env.VITE_API_BASE_URL)),a&&a.startsWith("http"))?`${a.replace(/\/$/,"")}/config`:"/api/config"}(),{method:"GET",headers:{Accept:"application/json"},cache:"no-store",credentials:"omit"});if(!a.ok)throw Error(`Runtime config request failed with status ${a.status}`);let b=await a.json(),c=f(b?.googleMapsApiKey);if(g(c))return c;throw Error("Runtime configuration did not return a valid Google Maps API key")}catch(a){throw console.error("❌ Failed to fetch runtime Google Maps API key:",a),a}}async function i(){if(d)return d;let a=function(){if("undefined"!=typeof process)return"";let a="";return"undefined"!=typeof process&&process.env&&(a=f(process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY||process.env.GOOGLE_MAPS_API_KEY||process.env.VITE_GOOGLE_MAPS_API_KEY)),g(a)?a:""}();return a?d=a:(e||(e=h().then(a=>(d=a,a)).catch(a=>{throw e=null,a})),e)}},54717:(a,b,c)=>{c.d(b,{A:()=>j});var d=c(8732),e=c(82015),f=c(74952),g=c(2181),h=c(7437),i=c(12354);let j=({height:a=340})=>{let b=(0,e.useRef)(null),[c,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(!0),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)(null),q=`https://staticmap.openstreetmap.de/staticmap.php?center=${g.x0.latitude},${g.x0.longitude}&zoom=17&size=640x360&markers=${g.x0.latitude},${g.x0.longitude},lightblue1`;return((0,e.useEffect)(()=>{let a=!0,c=new AbortController,d=b=>{a&&(b&&j(b),n(!0),l(!1))};return(async()=>{let e;try{e=await (0,i.Wq)()}catch(a){console.error("[GoogleMap] Falha ao resolver Google Maps API key:",a),d("Mapa interativo indispon\xedvel: chave da API ausente.");return}if(!(0,i.a6)(e))return d("Mapa interativo indispon\xedvel: chave da API inv\xe1lida.");try{let b=await fetch("/api/maps-health",{signal:c.signal,headers:{Accept:"application/json"}});if(b.ok){let c=await b.json();if(!a)return;if(p(c),"healthy"!==c.status)return void d(`Mapa interativo temporariamente indispon\xedvel (${c.status}).`)}}catch(a){(void 0).DEV&&console.warn("[GoogleMap] Falha ao verificar sa\xfade do servi\xe7o:",a)}if(!b.current)return d("N\xe3o foi poss\xedvel carregar o mapa neste momento.");try{if(await (0,h.pO)(e),!a||!b.current)return;let c=new window.google.maps.Map(b.current,{zoom:17,center:{lat:g.x0.latitude,lng:g.x0.longitude},mapId:(void 0).VITE_GOOGLE_MAP_ID||void 0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),d=new window.google.maps.Marker({position:{lat:g.x0.latitude,lng:g.x0.longitude},map:c,title:g.x0.name});g.fO&&window.google?.maps?.places&&new window.google.maps.places.PlacesService(c).getDetails({placeId:g.fO,fields:["geometry","name","url"]},(a,b)=>{b===window.google.maps.places.PlacesServiceStatus.OK&&a?.geometry?.location?(c.setCenter(a.geometry.location),d.setPosition(a.geometry.location)):(void 0).DEV&&console.warn("[GoogleMap] Place ID n\xe3o p\xf4de ser confirmado:",b)}),l(!1),j(null)}catch(a){d(`N\xe3o foi poss\xedvel carregar o mapa: ${a.message}`)}})(),()=>{a=!1,c.abort()}},[]),m||c)?(0,d.jsx)(()=>(0,d.jsx)("div",{className:"relative w-full bg-gradient-to-br from-blue-50 to-slate-100 rounded-lg overflow-hidden",style:{height:a},children:(0,d.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6",children:(0,d.jsxs)("div",{className:"text-center space-y-4 max-w-sm",children:[(0,d.jsx)("div",{className:"p-3 bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto",children:(0,d.jsx)(f.sDd,{className:"w-8 h-8 text-blue-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Localiza\xe7\xe3o da Cl\xednica"}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:[g.x0.address.street,(0,d.jsx)("br",{}),g.x0.address.city,", ",g.x0.address.state,(0,d.jsx)("br",{}),"CEP: ",g.x0.address.zip]}),(0,d.jsx)("div",{className:"overflow-hidden rounded-lg border border-slate-200 shadow-sm",children:(0,d.jsx)("img",{src:q,alt:`Mapa est\xe1tico da regi\xe3o da cl\xednica ${g.x0.name}`,className:"w-full h-auto",loading:"lazy"})}),(o?.status||c)&&(0,d.jsxs)("p",{className:"mt-3 text-xs text-gray-500 flex items-center justify-center gap-1",children:[(0,d.jsx)(f.RIJ,{className:"w-4 h-4"}),c||"Mapa interativo indispon\xedvel no momento."]}),(0,d.jsx)("div",{className:"space-y-2 mt-4",children:(0,d.jsxs)("a",{href:`https://www.google.com/maps/search/?api=1&query=${g.x0.latitude},${g.x0.longitude}&query_place_id=${g.fO||""}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,d.jsx)(f.GrD,{className:"w-4 h-4"}),"Abrir no Google Maps"]})})]})]})})}),{}):(0,d.jsxs)("div",{className:"relative w-full",style:{height:a},children:[k&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-sm text-slate-500 bg-gray-50",children:"Carregando mapa..."}),(0,d.jsx)("div",{ref:b,className:"w-full h-full rounded"})]})}}};