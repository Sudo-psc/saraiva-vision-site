import{j as e}from"./ui-CEZRb7IA.js";import{L as n,r as x,d as U}from"./router-CLI7QSIB.js";import{d as w,u as V,B as u,H as D}from"./index-CHpaVNy9.js";import{N,F as v,C as _}from"./Footer-Clv5CONQ.js";import{i as H,b as F,L as G,A as O,g as k,j as $,e as L,p as R}from"./pt-BR-BP-fwDos.js";import{A as M}from"./arrow-left-CWQfZLED.js";import{m as c}from"./animation-BKbqriLr.js";import{U as A}from"./user-gBnT7u2N.js";import{A as C}from"./arrow-right-oy_8WLZW.js";import{f as S,e as q}from"./utils-DrE3OAY8.js";import"./vendor-D3F3s8fL.js";const z=w("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),J=w("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),I=w("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),W=({items:s=[],className:t=""})=>{const{t:m}=V();return!s||s.length===0?null:e.jsx("nav",{"aria-label":m("navigation.breadcrumb","Trilha de navegação"),className:t,children:e.jsx("ol",{className:"flex flex-wrap items-center gap-1 text-sm text-slate-600",children:s.map((i,d)=>{const l=d===s.length-1;return e.jsxs("li",{className:"flex items-center",children:[i.href&&!l?e.jsx(n,{to:i.href,className:"px-2 py-1 rounded-lg hover:text-blue-700 hover:bg-blue-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2",children:i.label}):e.jsx("span",{className:`px-2 py-1 ${l?"text-slate-800 font-semibold":""}`,"aria-current":l?"page":void 0,children:i.label}),!l&&e.jsx("span",{className:"mx-1 text-slate-400","aria-hidden":"true",children:"›"})]},`${i.label}-${d}`)})})})};function B(s,t=[]){const[m,i]=x.useState(null),[d,l]=x.useState(!0),[j,y]=x.useState(null),o=x.useCallback(async()=>{if(!s){l(!1);return}try{l(!0),y(null);const r=await s();i(r)}catch(r){y(r.message||"Failed to fetch data"),console.error("WordPress API error:",r)}finally{l(!1)}},t);x.useEffect(()=>{o()},[o]);const b=x.useCallback(()=>{o()},[o]);return{data:m,loading:d,error:j,refetch:b}}function Z(s={}){return B(()=>F(s),[JSON.stringify(s)])}function K(s,t={}){return B(s?()=>H(s,t):null,[s,JSON.stringify(t)])}const oe=()=>{const{slug:s}=U(),{t,i18n:m}=V(),[i,d]=x.useState("grid"),{data:l,loading:j,error:y}=K(s,{per_page:12}),{data:o}=Z(),b=()=>m.language==="pt"?R:q,r=o?.find(a=>a.slug===s);if(j)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(N,{}),e.jsx("main",{className:"py-32 md:py-40 mx-[4%] md:mx-[6%] lg:mx-[8%]",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6",children:e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx(G,{className:"h-16 w-16 animate-spin text-blue-500"})})})}),e.jsx(v,{})]});if(y||!r)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(N,{}),e.jsx("main",{className:"py-32 md:py-40 mx-[4%] md:mx-[6%] lg:mx-[8%]",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6",children:e.jsxs("div",{className:"text-center p-12 bg-red-50 border border-red-200 rounded-2xl max-w-2xl mx-auto",children:[e.jsx(O,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-red-800 mb-2",children:t("blog.category_not_found","Categoria não encontrada")}),e.jsx("p",{className:"text-red-700 mb-6",children:t("blog.category_not_found_desc","A categoria solicitada não foi encontrada.")}),e.jsx(n,{to:"/blog",children:e.jsxs(u,{className:"bg-red-600 hover:bg-red-700",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),t("blog.back_to_blog","Voltar ao Blog")]})})]})})}),e.jsx(v,{})]});const P=[{label:t("nav.home","Início"),href:"/"},{label:t("blog.page_title","Blog"),href:"/blog"},{label:r.name}],T=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l?.map((a,f)=>{const p=k(a,"medium"),g=$(a),h=L(a.excerpt?.rendered,120);return e.jsxs(c.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:f*.1},className:"modern-card overflow-hidden flex flex-col group hover:shadow-xl transition-all duration-300",children:[e.jsx(n,{to:`/blog/${a.slug}`,className:"block overflow-hidden",children:e.jsx("img",{src:p||"https://placehold.co/600x400/e2e8f0/64748b?text=Artigo+Saraiva+Vision",alt:a._embedded?.["wp:featuredmedia"]?.[0]?.alt_text||t("ui.alt.blog_post","Imagem ilustrativa do artigo")+": "+(a.title?.rendered||"").replace(/<[^>]+>/g,""),className:"w-full h-56 object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy",decoding:"async"})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:S(new Date(a.date),"dd MMM, yyyy",{locale:b()})})]}),g&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-xs",children:g.name})]})]}),e.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 flex-grow",children:e.jsx(n,{to:`/blog/${a.slug}`,className:"hover:text-blue-600 transition-colors",dangerouslySetInnerHTML:{__html:a.title.rendered}})}),h&&e.jsx("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed line-clamp-4",children:h}),e.jsx(n,{to:`/blog/${a.slug}`,className:"mt-auto",children:e.jsxs(u,{variant:"link",className:"p-0 text-blue-600 font-semibold group/btn",children:[t("blog.read_more"),e.jsx(C,{className:"w-4 h-4 ml-2 transition-transform group-hover/btn:translate-x-1"})]})})]})]},a.id)})}),E=()=>e.jsx("div",{className:"space-y-8",children:l?.map((a,f)=>{const p=k(a,"medium"),g=$(a),h=L(a.excerpt?.rendered,200);return e.jsxs(c.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:f*.1},className:"modern-card overflow-hidden flex flex-col md:flex-row group hover:shadow-xl transition-all duration-300",children:[p&&e.jsx(n,{to:`/blog/${a.slug}`,className:"md:w-80 flex-shrink-0 overflow-hidden",children:e.jsx("img",{src:p,alt:a._embedded?.["wp:featuredmedia"]?.[0]?.alt_text||t("ui.alt.blog_post","Imagem ilustrativa do artigo")+": "+(a.title?.rendered||"").replace(/<[^>]+>/g,""),className:"w-full h-48 md:h-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy",decoding:"async"})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:S(new Date(a.date),"dd MMM, yyyy",{locale:b()})})]}),g&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-xs",children:g.name})]})]}),e.jsx("h3",{className:"text-2xl font-bold mb-3 text-gray-900",children:e.jsx(n,{to:`/blog/${a.slug}`,className:"hover:text-blue-600 transition-colors",dangerouslySetInnerHTML:{__html:a.title.rendered}})}),h&&e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed line-clamp-4",children:h}),e.jsx(n,{to:`/blog/${a.slug}`,className:"mt-auto",children:e.jsxs(u,{variant:"link",className:"p-0 text-blue-600 font-semibold group/btn",children:[t("blog.read_more"),e.jsx(C,{className:"w-4 h-4 ml-2 transition-transform group-hover/btn:translate-x-1"})]})})]})]},a.id)})});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs(D,{children:[e.jsxs("title",{children:[r.name," - ",t("blog.page_title")," | Saraiva Vision"]}),e.jsx("meta",{name:"description",content:r.description||t("blog.category_description","Artigos sobre {{category}} - Saraiva Vision",{category:r.name})}),e.jsx("meta",{name:"keywords",content:`${r.name}, ${t("blog.keywords","oftalmologia, saúde ocular")}`}),e.jsx("meta",{property:"og:title",content:`${r.name} - ${t("blog.page_title")} | Saraiva Vision`}),e.jsx("meta",{property:"og:description",content:r.description||t("blog.category_description","Artigos sobre {{category}} - Saraiva Vision",{category:r.name})}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("link",{rel:"canonical",href:`https://saraivavision.com.br/categoria/${s}`})]}),e.jsx(N,{}),e.jsx("main",{className:"py-32 md:py-40 mx-[4%] md:mx-[6%] lg:mx-[8%]",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:e.jsx(W,{items:P})}),e.jsx(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"mb-8",children:e.jsx(n,{to:"/blog",children:e.jsxs(u,{variant:"ghost",className:"pl-0 text-gray-600 hover:text-blue-600",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),t("blog.back_to_blog","Voltar ao Blog")]})})}),e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(I,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900",children:r.name})]}),r.description&&e.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:r.description}),e.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[l?.length||0," ",t("blog.articles_count","artigos encontrados")]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex justify-center mb-8",children:e.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm border",children:[e.jsx("button",{onClick:()=>d("grid"),className:`px-4 py-2 rounded-l-lg transition-colors ${i==="grid"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"}`,children:e.jsx(z,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>d("list"),className:`px-4 py-2 rounded-r-lg transition-colors ${i==="list"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"}`,children:e.jsx(J,{className:"w-5 h-5"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:!l||l.length===0?e.jsxs("div",{className:"text-center p-12",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:t("blog.no_posts_category","Nenhum artigo encontrado nesta categoria")}),e.jsx("p",{className:"text-gray-600 mb-6",children:t("blog.no_posts_category_desc","Esta categoria ainda não possui artigos publicados.")}),e.jsx(n,{to:"/blog",children:e.jsx(u,{children:t("blog.browse_all_articles","Ver todos os artigos")})})]}):i==="grid"?T():E()}),o&&o.length>1&&e.jsxs(c.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mt-16 pt-12 border-t border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:t("blog.other_categories","Outras Categorias")}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:o.filter(a=>a.slug!==s).slice(0,8).map(a=>e.jsxs(n,{to:`/categoria/${a.slug}`,className:"px-4 py-2 bg-white text-gray-700 rounded-lg border hover:border-blue-300 hover:text-blue-600 transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx(I,{className:"w-3 h-3 mr-1 inline"}),a.name,e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",a.count,")"]})]},a.id))})]})]})}),e.jsx(v,{})]})};export{oe as default};
