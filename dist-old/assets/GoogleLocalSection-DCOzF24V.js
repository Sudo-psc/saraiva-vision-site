import{j as e}from"./ui-CEZRb7IA.js";import{r as p}from"./router-CLI7QSIB.js";import{d as z,u as B,j as D,f,M as O,P as V,k as F,B as H,G as q,l as Z,C as R,m as W,h as J}from"./index-CHpaVNy9.js";import{C as K}from"./clock-DBQaq5CO.js";import{m as C}from"./animation-BKbqriLr.js";import{L as Q}from"./lock-ro-IGg9U.js";import{S as X}from"./shield-v45KHZio.js";import{S as L}from"./star-DGr83w5Q.js";import{E as Y}from"./external-link-C3sYX8Ou.js";const P=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ee=z("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),te=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ae=()=>{const[c,i]=p.useState(!1);p.useRef(!1),p.useEffect(()=>{},[void 0]);const d=p.useCallback(async(s="contact")=>null,[void 0,c]);return{ready:c,execute:d,enabled:!1}},be=()=>{const{t}=B(),{toast:c}=D(),[i,d]=p.useState({name:"",email:"",phone:"",message:"",consent:!1,website:""}),[s,u]=p.useState({}),[l,w]=p.useState({}),[x,k]=p.useState(!1),[v,A]=p.useState(null),{ready:y,execute:T}=ae(),$=o=>o.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"").trim(),r={name:o=>{const a=$(o);return a.length<3?t("contact.validation.name_min","Nome deve ter pelo menos 3 caracteres"):a.length>50?t("contact.validation.name_max","Nome muito longo (m√°ximo 50 caracteres)"):/^[a-zA-Z√Ä-√ø\s]+$/.test(a)?!0:t("contact.validation.name_invalid","Nome deve conter apenas letras")},email:o=>{const a=$(o);return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)?a.length>100?t("contact.validation.email_max","Email muito longo"):!0:t("contact.validation.email_invalid","Email inv√°lido")},phone:o=>{const a=o.replace(/\D/g,"");return a.length<10||a.length>13?t("contact.validation.phone_invalid","Telefone inv√°lido"):!0},message:o=>{const a=$(o);return a.length<10?t("contact.validation.message_min","Mensagem deve ter pelo menos 10 caracteres"):a.length>1e3?t("contact.validation.message_max","Mensagem muito longa (m√°ximo 1000 caracteres)"):/(https?:\/\/|www\.|\.com|\.org|\.net)/gi.test(a)?t("contact.validation.no_links","Links n√£o s√£o permitidos na mensagem"):!0},consent:o=>o===!0||t("contact.validation.consent_required","√â necess√°rio aceitar os termos"),recaptcha:()=>!0};p.useEffect(()=>{const o={};Object.keys(i).forEach(a=>{if(!l[a])return;const g=r[a];if(g){const b=g(i[a]);b!==!0&&(o[a]=b)}}),u(o)},[i,l]);const G="https://chatgpt.com/g/g-quepJB90J-saraiva-vision-clinica-oftalmologica?model=gpt-4o",n=o=>{const{name:a,type:g,value:b,checked:N}=o.target;d(_=>({..._,[a]:g==="checkbox"?N:b})),l[a]||w(_=>({..._,[a]:!0}))},m=()=>{const o={};return Object.keys(i).forEach(a=>{const g=r[a];if(g){const b=g(i[a]);b!==!0&&(o[a]=b)}}),u(o),Object.keys(o).length===0},h=async o=>{if(o.preventDefault(),i.website&&i.website.trim()!==""){console.warn("Spam attempt detected via honeypot field"),k(!0),setTimeout(()=>k(!1),2e3);return}const a=localStorage.getItem("lastContactSubmission"),g=Date.now();if(a&&g-parseInt(a)<3e4){c({title:t("contact.rate_limit_title","Aguarde um momento"),description:t("contact.rate_limit_desc","Aguarde 30 segundos antes de enviar novamente."),variant:"destructive"});return}if(!m()){w({name:!0,email:!0,phone:!0,message:!0,recaptcha:!0}),c({title:t("contact.toast_error_title"),description:t("contact.toast_error_desc"),variant:"destructive"});return}k(!0);try{const b=await T("contact");if(!b){c({title:t("contact.recaptcha_error_title","Erro de Verifica√ß√£o"),description:t("contact.recaptcha_error_desc","Falha na verifica√ß√£o reCAPTCHA. Tente novamente."),variant:"destructive"}),k(!1);return}const N=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,email:i.email,phone:i.phone,message:i.message,consent:i.consent,token:b,action:"contact"})}),_=await N.json();if(!N.ok)throw new Error(_.message||"Failed to send message");localStorage.setItem("lastContactSubmission",g.toString()),c({title:t("contact.toast_success_title"),description:t("contact.toast_success_desc"),duration:5e3}),d({name:"",email:"",phone:"",message:"",consent:!1,website:""}),w({}),u({}),A(null)}catch(b){console.error("Form submission error:",b),c({title:t("contact.submission_error_title","Erro no Envio"),description:t("contact.submission_error_desc","Ocorreu um erro ao enviar a mensagem. Tente novamente."),variant:"destructive"})}finally{k(!1)}},j=[{icon:e.jsx(P,{className:"h-6 w-6 text-blue-600"}),title:t("contact.info.address_title"),details:e.jsx(e.Fragment,{children:e.jsx("span",{children:typeof f.address=="string"?f.address:t("contact.info.address_details")})}),subDetails:t("contact.info.address_sub")},{icon:e.jsx(V,{className:"h-6 w-6 text-blue-600"}),title:t("contact.info.phone_title"),details:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>window.dispatchEvent(new Event("open-floating-cta")),className:"hover:underline font-medium text-left",children:"+55 33 99860-1427"}),e.jsx("span",{className:"sr-only",children:"+55 33 99860-1427"})]}),subDetails:e.jsxs("button",{type:"button",onClick:()=>window.dispatchEvent(new Event("open-floating-cta")),className:"text-blue-600 hover:underline flex items-center gap-1 text-sm font-semibold",children:[e.jsx(O,{size:14})," ",t("contact.info.phone_whatsapp")]})},{icon:e.jsx(F,{className:"h-6 w-6 text-blue-600"}),title:t("contact.info.email_title"),details:e.jsx("a",{href:"mailto:saraivavision@gmail.com",className:"hover:underline",children:"saraivavision@gmail.com"}),subDetails:t("contact.info.email_sub")},{icon:e.jsx(K,{className:"h-6 w-6 text-blue-600"}),title:t("contact.info.hours_title"),details:t("contact.info.hours_details"),subDetails:t("contact.info.hours_sub")}];return e.jsx("section",{id:"contact",className:"py-16 md:py-20 bg-subtle-gradient scroll-block-internal",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6 lg:px-[2.5%] xl:px-[3%] 2xl:px-[3.5%]",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx(C.h2,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-4",children:t("contact.title")}),e.jsx(C.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto",children:(()=>{const o=t("contact.subtitle");try{return o.replace(/em contato/gi,"em‚Äã contato")}catch{return o}})()})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx(C.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-soft-light",children:[e.jsx("h3",{className:"mb-6",children:t("contact.form_title")}),e.jsxs("form",{onSubmit:h,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-base font-medium text-slate-700 mb-2 md:text-sm md:mb-1.5",children:[t("contact.name_label","Nome completo")," ",e.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:n,required:!0,className:`form-input mobile-touch-input ${s.name?"border-red-400 focus:ring-red-300":l.name?"border-green-400":""}`,placeholder:t("contact.name_placeholder"),"aria-invalid":!!s.name,"aria-describedby":s.name?"error-name":void 0,style:{fontSize:"16px",minHeight:"48px",padding:"12px 16px"}}),s.name&&e.jsx("p",{id:"error-name",className:"mt-2 text-sm text-red-600 font-medium",children:s.name})]}),e.jsxs("div",{className:"space-y-5 md:space-y-0 md:grid md:grid-cols-2 md:gap-5",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-base font-medium text-slate-700 mb-2 md:text-sm md:mb-1.5",children:[t("contact.email_label","E-mail")," ",e.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:n,required:!0,className:`form-input mobile-touch-input ${s.email?"border-red-400 focus:ring-red-300":l.email?"border-green-400":""}`,placeholder:t("contact.email_placeholder"),"aria-invalid":!!s.email,"aria-describedby":s.email?"error-email":void 0,inputMode:"email",style:{fontSize:"16px",minHeight:"48px",padding:"12px 16px"}}),s.email&&e.jsx("p",{id:"error-email",className:"mt-2 text-sm text-red-600 font-medium",children:s.email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-base font-medium text-slate-700 mb-2 md:text-sm md:mb-1.5",children:[t("contact.phone_label","Telefone")," ",e.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:i.phone,onChange:n,required:!0,className:`form-input mobile-touch-input ${s.phone?"border-red-400 focus:ring-red-300":l.phone?"border-green-400":""}`,placeholder:t("contact.phone_placeholder"),"aria-invalid":!!s.phone,"aria-describedby":s.phone?"error-phone":void 0,inputMode:"tel",style:{fontSize:"16px",minHeight:"48px",padding:"12px 16px"}}),s.phone&&e.jsx("p",{id:"error-phone",className:"mt-2 text-sm text-red-600 font-medium",children:s.phone})]})]}),e.jsx("input",{type:"text",name:"website",value:i.website,onChange:n,style:{display:"none"},tabIndex:"-1",autoComplete:"off","aria-hidden":"true"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"message",className:"block text-base font-medium text-slate-700 mb-2 md:text-sm md:mb-1.5",children:[t("contact.message_label","Mensagem")," ",e.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"})]}),e.jsx("textarea",{id:"message",name:"message",value:i.message,onChange:n,required:!0,rows:"4",className:`form-input mobile-touch-input ${s.message?"border-red-400 focus:ring-red-300":l.message?"border-green-400":""}`,placeholder:t("contact.message_placeholder"),"aria-invalid":!!s.message,"aria-describedby":s.message?"error-message":void 0,style:{fontSize:"16px",minHeight:"120px",padding:"12px 16px",resize:"vertical",overscrollBehavior:"none"}}),s.message&&e.jsx("p",{id:"error-message",className:"mt-2 text-sm text-red-600 font-medium",children:s.message})]}),e.jsxs("div",{className:"pt-2",children:[e.jsxs("label",{className:"inline-flex items-start gap-2 text-xs text-blue-800 bg-blue-50 border border-blue-200 p-3 rounded-md cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"consent",checked:i.consent,onChange:n,"aria-invalid":!!s.consent,"aria-describedby":s.consent?"error-consent":void 0,className:"mt-0.5 h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx(Q,{size:14,className:"mt-0.5 text-blue-600"}),e.jsx("span",{dangerouslySetInnerHTML:{__html:t("privacy.form_consent_html")}})]}),s.consent&&e.jsx("p",{id:"error-consent",className:"mt-1 text-xs text-red-600",children:s.consent})]}),e.jsxs("div",{className:"pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(X,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:t("contact.recaptcha_label","Verifica√ß√£o de Seguran√ßa")})]}),e.jsx("p",{className:`text-xs ${y?"text-green-600":"text-red-500"}`,children:y?t("contact.recaptcha_ready","Prote√ß√£o autom√°tica reCAPTCHA ativada"):t("contact.recaptcha_not_ready","Verifica√ß√£o de seguran√ßa indispon√≠vel. Tente novamente.")}),!y&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Certifique-se de que est√° conectado √† internet e recarregue a p√°gina."})]}),e.jsxs(H,{disabled:x,type:"submit",size:"lg",className:"w-full flex items-center justify-center gap-2 disabled:opacity-60","aria-busy":x,children:[e.jsx(te,{className:"h-5 w-5"}),x?t("contact.sending_label","Enviando..."):t("contact.send_button","Enviar Mensagem")]})]})]})}),e.jsxs(C.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"flex flex-col space-y-6",children:[e.jsx("div",{className:"sr-only",children:f.name}),e.jsx("a",{href:f.onlineSchedulingUrl,target:"_blank",rel:"noopener noreferrer",className:"block modern-card-alt p-6 group mb-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(q,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 group-hover:text-blue-700",children:t("contact.online_scheduling_title")}),e.jsx("div",{className:"mt-1",children:t("contact.online_scheduling_desc")}),e.jsx("div",{className:"text-blue-600 text-sm mt-1 font-semibold",children:t("contact.online_scheduling_benefit")})]})]})}),e.jsx("a",{href:G,target:"_blank",rel:"noopener noreferrer",className:"block modern-card-alt p-6 group",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(Z,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 group-hover:text-green-700",children:t("contact.chatbot_title")}),e.jsx("div",{className:"mt-1",children:t("contact.chatbot_desc")}),e.jsx("div",{className:"text-green-600 text-sm mt-1 font-semibold",children:t("contact.chatbot_availability")})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:j.map((o,a)=>e.jsx(C.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:a*.1},className:"modern-card p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"icon-container",children:o.icon}),e.jsxs("div",{className:"min-w-0 break-words leading-relaxed",children:[e.jsx("h4",{className:"font-bold text-slate-800",children:o.title}),e.jsx("div",{className:"mt-1 text-sm text-wrap",children:o.details}),e.jsx("div",{className:"text-slate-500 text-sm mt-0.5 text-wrap",children:o.subDetails})]})]})},a))})]})]})]})})};let E=null,M=0;const S=3,I=15e3;function U(t){return console.log("üîç [DEBUG] loadGoogleMaps chamado com:",{apiKey:`${t.substring(0,10)}...`,windowDefined:typeof window<"u",attempt:M+1}),typeof window>"u"?(console.error("‚ùå [ERROR] Window n√£o dispon√≠vel (SSR)"),Promise.reject(new Error("Window not available"))):E?(console.log("üîÑ [DEBUG] Retornando promise existente"),E):(M++,console.log(`üöÄ [DEBUG] Iniciando carregamento (tentativa ${M}/${S})`),E=new Promise((c,i)=>{if(window.google&&window.google.maps)if(console.log("‚úÖ [DEBUG] Google Maps j√° carregado"),window.google.maps.importLibrary){console.log("‚úÖ [DEBUG] importLibrary dispon√≠vel"),c(window.google.maps);return}else console.log("‚ö†Ô∏è [DEBUG] Google Maps carregado mas sem importLibrary");const d=setTimeout(()=>{console.error(`‚è∞ [ERROR] Timeout ap√≥s ${I}ms`),M<S?(console.log(`üîÑ [DEBUG] Tentando novamente... (${M+1}/${S})`),E=null,U(t).then(c).catch(i)):i(new Error(`Timeout: Google Maps n√£o carregou em ${I}ms ap√≥s ${S} tentativas`))},I);console.log("üìù [DEBUG] Criando script element...");const s=document.createElement("script");s.async=!0,s.defer=!0,s.id=`google-maps-script-${Date.now()}`,s.src=`https://maps.googleapis.com/maps/api/js?key=${t}&v=weekly&loading=async&libraries=places,marker&callback=initGoogleMapsCallback`;const u=`initGoogleMapsCallback_${Date.now()}`;window[u]=()=>{clearTimeout(d),console.log("‚úÖ [DEBUG] Callback method executado"),window.google&&window.google.maps?(console.log("‚úÖ [DEBUG] Google object dispon√≠vel via callback"),c(window.google.maps)):(console.error("‚ùå [ERROR] Google object n√£o dispon√≠vel mesmo ap√≥s callback"),i(new Error("Google Maps object n√£o dispon√≠vel ap√≥s callback"))),delete window[u]},s.src=s.src.replace("initGoogleMapsCallback",u),s.onload=()=>{console.log("üì¶ [DEBUG] Script onload disparado"),console.log("üîç [DEBUG] Verificando window.google:",{google:typeof window.google,googleMaps:typeof window.google?.maps,importLibrary:typeof window.google?.maps?.importLibrary});let l=0;const w=50,x=()=>{l++,console.log(`üîç [DEBUG] Verificando importLibrary (tentativa ${l}/${w})`),window.google&&window.google.maps&&window.google.maps.importLibrary?(clearTimeout(d),console.log("‚úÖ [DEBUG] importLibrary pronto via onload"),c(window.google.maps)):l<w?(console.log("‚è≥ [DEBUG] Aguardando importLibrary... pr√≥xima verifica√ß√£o em 100ms"),setTimeout(x,100)):console.warn("‚ö†Ô∏è [DEBUG] importLibrary n√£o encontrado, aguardando callback...")};setTimeout(x,10)},s.onerror=l=>{clearTimeout(d),console.error("‚ùå [ERROR] Script onerror:",l),console.error("‚ùå [ERROR] Script src:",s.src),M<S?(console.log("üîÑ [DEBUG] Tentando estrat√©gia alternativa..."),E=null,setTimeout(()=>{oe(t).then(c).catch(i)},1e3)):i(new Error(`Falha ao carregar Google Maps API: ${l.message||"Unknown error"}`))},console.log("üìã [DEBUG] Adicionando script ao DOM:",s.src),document.head.appendChild(s),setTimeout(()=>{const l=document.querySelectorAll('script[src*="maps.googleapis.com"]');console.log(`üîç [DEBUG] Scripts do Google Maps no DOM: ${l.length}`),l.forEach((w,x)=>{console.log(`  Script ${x+1}: ${w.src}`)})},1e3)}),E)}function oe(t){return console.log("üîß [DEBUG] Usando estrat√©gia alternativa de carregamento"),new Promise((c,i)=>{const d=document.createElement("script");d.async=!0,d.src=`https://maps.googleapis.com/maps/api/js?key=${t}&v=weekly&libraries=places,marker`,d.onload=()=>{console.log("‚úÖ [DEBUG] Estrat√©gia alternativa: script carregado");let s=0;const u=100,l=()=>{s++,window.google&&window.google.maps?(console.log("‚úÖ [DEBUG] Estrat√©gia alternativa: Google Maps dispon√≠vel"),c(window.google.maps)):s<u?setTimeout(l,100):i(new Error("Google Maps n√£o dispon√≠vel ap√≥s estrat√©gia alternativa"))};l()},d.onerror=s=>{console.error("‚ùå [ERROR] Estrat√©gia alternativa falhou:",s),i(new Error("Estrat√©gia alternativa de carregamento falhou"))},document.head.appendChild(d)})}function se(){const t=!!(window.google&&window.google.maps);return console.log("üîç [DEBUG] Google Maps ready check:",t),t}function ne(){console.log("üîÑ [DEBUG] Resetando loader do Google Maps"),E=null,M=0}const re=({height:t=340})=>{const c=p.useRef(null),[i,d]=p.useState(null),[s,u]=p.useState(!0),[l,w]=p.useState(null),[x,k]=p.useState([]),[v,A]=p.useState(0),y=3,T=()=>{const n=document.createElement("div");n.style.cssText=`
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            border-radius: 50% 50% 50% 0;
            transform: rotate(-45deg);
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        `;const m=document.createElement("div");return m.innerHTML="üëÅÔ∏è",m.style.cssText=`
            transform: rotate(45deg);
            font-size: 16px;
            color: white;
        `,n.appendChild(m),n},$=n=>{const m=(o,a)=>`${"‚òÖ".repeat(Math.floor(o))+"‚òÜ".repeat(5-Math.floor(o))} ${o} (${a} avalia√ß√µes)`,h=o=>{if(!o||!o.weekdayDescriptions)return"Hor√°rio n√£o dispon√≠vel";const a=new Date().getDay();return o.weekdayDescriptions[a===0?6:a-1]||"Hor√°rio n√£o dispon√≠vel"},j=n.business_status==="OPERATIONAL"?'<span style="color: #22c55e; font-weight: 600;">‚óè Aberto</span>':'<span style="color: #ef4444; font-weight: 600;">‚óè Status n√£o dispon√≠vel</span>';return`
            <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 320px; padding: 4px;">
                ${n.photos&&n.photos.length>0?`
                    <div style="margin-bottom: 12px; border-radius: 8px; overflow: hidden;">
                        <img src="${n.photos[0].getURI({maxWidth:320,maxHeight:160})}" 
                             style="width: 100%; height: 160px; object-fit: cover; display: block;" 
                             alt="Foto da cl√≠nica" />
                    </div>
                `:""}
                
                <div style="margin-bottom: 12px;">
                    <h3 style="margin: 0 0 6px 0; font-size: 18px; font-weight: 700; color: #1f2937; line-height: 1.2;">
                        ${n.name}
                    </h3>
                    <div style="margin-bottom: 4px;">
                        ${j}
                    </div>
                    ${n.primary_type?`
                        <div style="color: #6b7280; font-size: 14px; margin-bottom: 8px;">
                            ${n.primary_type}
                        </div>
                    `:""}
                </div>

                ${n.rating?`
                    <div style="margin-bottom: 12px; padding: 8px; background: #f9fafb; border-radius: 6px; border-left: 3px solid #fbbf24;">
                        <div style="font-size: 14px; color: #f59e0b; font-weight: 600;">
                            ${m(n.rating,n.user_ratings_total)}
                        </div>
                    </div>
                `:""}

                <div style="margin-bottom: 12px;">
                    ${n.short_address?`
                        <div style="display: flex; align-items: flex-start; margin-bottom: 6px;">
                            <span style="color: #2563eb; margin-right: 6px; font-size: 14px;">üìç</span>
                            <span style="font-size: 13px; color: #4b5563; line-height: 1.4;">
                                ${n.short_address}
                            </span>
                        </div>
                    `:""}
                    
                    ${n.phone?`
                        <div style="display: flex; align-items: center; margin-bottom: 6px;">
                            <span style="color: #2563eb; margin-right: 6px; font-size: 14px;">üìû</span>
                            <a href="tel:${n.phone}" style="font-size: 13px; color: #2563eb; text-decoration: none; font-weight: 500;">
                                ${n.phone}
                            </a>
                        </div>
                    `:""}

                    ${n.opening_hours?`
                        <div style="display: flex; align-items: flex-start; margin-bottom: 8px;">
                            <span style="color: #2563eb; margin-right: 6px; font-size: 14px;">üïê</span>
                            <span style="font-size: 13px; color: #4b5563; line-height: 1.4;">
                                ${h(n.opening_hours)}
                            </span>
                        </div>
                    `:""}
                </div>

                ${n.editorial_summary?`
                    <div style="margin-bottom: 12px; padding: 8px; background: #eff6ff; border-radius: 6px; border-left: 3px solid #2563eb;">
                        <div style="font-size: 13px; color: #1e40af; line-height: 1.4;">
                            ${n.editorial_summary.text}
                        </div>
                    </div>
                `:""}

                ${n.reviews&&n.reviews.length>0?`
                    <div style="margin-bottom: 12px;">
                        <h4 style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; color: #374151;">
                            Avalia√ß√µes Recentes:
                        </h4>
                        ${n.reviews.slice(0,2).map(o=>`
                            <div style="margin-bottom: 8px; padding: 6px; background: #f9fafb; border-radius: 4px; border-left: 2px solid #e5e7eb;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2px;">
                                    <span style="font-weight: 600; font-size: 12px; color: #374151;">
                                        ${o.authorAttribution?.displayName||"Cliente"}
                                    </span>
                                    <span style="color: #f59e0b; font-size: 11px;">
                                        ${"‚òÖ".repeat(o.rating)}
                                    </span>
                                </div>
                                <div style="font-size: 11px; color: #6b7280; line-height: 1.3;">
                                    ${o.text?.text?o.text.text.length>80?o.text.text.substring(0,80)+"...":o.text.text:"Sem coment√°rio"}
                                </div>
                            </div>
                        `).join("")}
                    </div>
                `:""}

                <div style="display: flex; gap: 8px; margin-top: 12px;">
                    ${n.url?`
                        <a href="${n.url}" target="_blank" rel="noopener noreferrer" 
                           style="flex: 1; padding: 8px 12px; background: #2563eb; color: white; text-decoration: none; 
                                  border-radius: 6px; font-size: 12px; font-weight: 600; text-align: center; 
                                  transition: background-color 0.2s;">
                            Ver no Google Maps
                        </a>
                    `:""}
                    
                    ${n.website?`
                        <a href="${n.website}" target="_blank" rel="noopener noreferrer" 
                           style="flex: 1; padding: 8px 12px; background: #059669; color: white; text-decoration: none; 
                                  border-radius: 6px; font-size: 12px; font-weight: 600; text-align: center; 
                                  transition: background-color 0.2s;">
                            Site Oficial
                        </a>
                    `:""}
                </div>
            </div>
        `},r=p.useCallback(n=>{const h=`${new Date().toLocaleTimeString()}: ${n}`;k(j=>[...j.slice(-4),h])},[]),G=p.useCallback(()=>{v<y?(r(`üîÑ Tentativa ${v+1}/${y} de carregamento`),d(null),u(!0),A(n=>n+1),ne()):(r("‚ùå M√°ximo de tentativas excedido"),d("Falha no carregamento ap√≥s m√∫ltiplas tentativas"))},[v,y,r]);return p.useEffect(()=>{const n="AIzaSyDvio5w5mQVZWZGBnPrys1uTwTQBglmFms";if(r("üöÄ Iniciando useEffect do GoogleMap"),r("üîë API Key: Presente"),r("üè• Place ID: Presente"),r(`üîÑ Retry count: ${v}`),!c.current){r("‚ö†Ô∏è Container ref n√£o dispon√≠vel, aguardando..."),setTimeout(()=>{c.current&&(r("‚úÖ Container ref agora dispon√≠vel"),u(!0))},100);return}r("üó∫Ô∏è Iniciando carregamento Google Maps API...");let m,h=!0;if(se()){r("‚úÖ Google Maps j√° est√° pronto, pulando carregamento"),j();return}async function j(){try{if(!h){r("‚ö†Ô∏è Componente desmontado, cancelando inicializa√ß√£o");return}if(r("üó∫Ô∏è Criando inst√¢ncia do mapa..."),m=new google.maps.Map(c.current,{zoom:17,center:{lat:f.latitude,lng:f.longitude},mapId:"DEMO_MAP_ID",mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),r("‚úÖ Mapa criado com sucesso"),R){r("üè• Carregando biblioteca Places...");try{const o=await google.maps.importLibrary("places");r("‚úÖ Biblioteca Places carregada");const a=new o.Place({id:R,requestedLanguage:"pt-BR"});r("üîç Buscando detalhes completos do perfil Google Business..."),await a.fetchFields({fields:["displayName","location","formattedAddress","rating","userRatingCount","googleMapsURI","businessStatus","priceLevel","photos","reviews","regularOpeningHours","websiteURI","nationalPhoneNumber","types","editorialSummary","primaryType"]}),r("‚úÖ Detalhes completos do perfil Google Business obtidos");const g={name:a.displayName,geometry:{location:a.location},formatted_address:a.formattedAddress,rating:a.rating,user_ratings_total:a.userRatingCount,url:a.googleMapsURI,website:a.websiteURI,phone:a.nationalPhoneNumber,business_status:a.businessStatus,price_level:a.priceLevel,types:a.types,primary_type:a.primaryType,editorial_summary:a.editorialSummary,opening_hours:a.regularOpeningHours,photos:a.photos?a.photos.slice(0,3):[],reviews:a.reviews?a.reviews.slice(0,3):[]};if(h&&(w(g),r(`üìç Dados do local: ${g.name}`)),a.location&&h){m.setCenter(a.location),r("üéØ Centro do mapa definido"),r("üìç Carregando biblioteca Marker...");const b=await google.maps.importLibrary("marker");r("‚úÖ Biblioteca Marker carregada");const N=new b.AdvancedMarkerElement({map:m,position:a.location,title:a.displayName,content:T()}),_=new google.maps.InfoWindow({content:$(g),maxWidth:350});_.open(m,N),N.addListener("click",()=>{_.open(m,N)}),r("‚úÖ Marcador aprimorado com perfil do neg√≥cio adicionado ao mapa")}}catch(o){r(`‚ùå Erro Places API: ${o.message}`),r("‚ö†Ô∏è Continuando sem dados do Places API")}}try{if(m&&(!R||!l?.geometry?.location)){r("üìç Aplicando marcador de fallback com coordenadas da cl√≠nica");const o=await google.maps.importLibrary("marker"),a={lat:f.latitude,lng:f.longitude};m.setCenter(a),new o.AdvancedMarkerElement({map:m,position:a,title:f.name})}}catch(o){r(`‚ö†Ô∏è Erro ao aplicar marcador de fallback: ${o.message}`)}h&&(r("üéâ Google Maps completamente carregado"),u(!1),d(null))}catch(o){r(`‚ùå Erro na inicializa√ß√£o: ${o.message}`),h&&(d(`Erro na inicializa√ß√£o do mapa: ${o.message}`),u(!1))}}return U(n).then(async o=>{if(!h){r("‚ö†Ô∏è Componente desmontado, cancelando then");return}if(r("‚úÖ Google Maps API carregada com sucesso"),r(`üîç Verificando Google object: ${typeof window.google}`),r(`üîç Verificando Maps object: ${typeof window.google?.maps}`),r(`üîç Verificando importLibrary: ${typeof window.google?.maps?.importLibrary}`),!c.current){r("‚ùå Container ref perdido durante carregamento"),d("Container do mapa n√£o dispon√≠vel"),u(!1);return}await j()}).catch(o=>{if(!h){r("‚ö†Ô∏è Componente desmontado, ignorando erro");return}r(`‚ùå Erro no carregamento: ${o.message}`),console.error("‚ùå [GoogleMap] Erro completo:",o);const a=`Erro ao carregar Google Maps: ${o.message}`;d(a),u(!1),(o.message.includes("Timeout")||o.message.includes("network"))&&setTimeout(()=>{v<y&&(r("üîÑ Auto-retry devido a erro de network/timeout"),G())},2e3)}),()=>{if(h=!1,r("üßπ Limpando recursos do Google Maps"),m)try{m=null}catch(o){r(`‚ö†Ô∏è Erro durante cleanup: ${o.message}`)}}},[v,r,G]),i?e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-4 bg-red-50 border border-red-200 rounded",children:[e.jsxs("div",{className:"text-red-600 mb-4",children:[e.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Erro no Google Maps"}),e.jsx("p",{className:"text-xs mb-2",children:i}),v<y&&e.jsxs("button",{onClick:G,className:"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:["Tentar Novamente (",v,"/",y,")"]})]}),x.length>0&&e.jsxs("details",{className:"text-xs text-gray-600 max-w-full",children:[e.jsx("summary",{className:"cursor-pointer mb-2",children:"Debug Info"}),e.jsx("div",{className:"text-left bg-gray-100 p-2 rounded max-h-32 overflow-y-auto scroll-container scrollbar-none",children:x.map((n,m)=>e.jsx("div",{className:"font-mono text-xs whitespace-nowrap",children:n},m))})]})]}):e.jsxs("div",{className:"relative w-full",style:{height:t},children:[s&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-sm text-slate-500 bg-gray-50",children:[e.jsx("div",{className:"mb-2",children:"Carregando mapa..."}),v>0&&e.jsxs("div",{className:"text-xs text-gray-400",children:["Tentativa ",v,"/",y]}),x.length>0&&e.jsx("div",{className:"text-xs text-gray-400 mt-2 max-w-xs text-center",children:x[x.length-1]?.split(": ")[1]})]}),e.jsx("div",{ref:c,className:"w-full h-full rounded"}),l&&!s&&e.jsxs("div",{className:"absolute top-2 left-2 bg-white/95 backdrop-blur-sm px-3 py-2 rounded-lg shadow-lg text-[11px] leading-tight max-w-xs",children:[e.jsx("div",{className:"font-semibold text-slate-800 truncate",children:l.name}),l.rating&&e.jsxs("div",{className:"text-yellow-600 flex items-center",children:[l.rating," (",l.user_ratings_total,")"]})]}),!1]})},ie=t=>e.jsx(re,{...t}),fe=()=>{const{t}=B();return e.jsxs("section",{id:"local",className:"py-9 lg:py-11 text-white bg-gradient-to-br from-[#0A1628] via-[#1E2A47] to-[#0D1B2A] relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/30 via-indigo-900/20 to-blue-800/30"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(59,130,246,0.05)_50%,transparent_75%)] bg-[length:60px_60px] animate-pulse"}),e.jsx("div",{className:"absolute top-10 left-[10%] w-32 h-32 bg-gradient-to-br from-blue-400/10 to-cyan-400/5 rounded-full blur-2xl animate-pulse"}),e.jsx("div",{className:"absolute top-20 right-[15%] w-24 h-24 bg-gradient-to-bl from-indigo-400/10 to-purple-400/5 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute bottom-10 left-[20%] w-40 h-40 bg-gradient-to-tr from-cyan-400/8 to-blue-400/4 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute bottom-20 right-[10%] w-28 h-28 bg-gradient-to-tl from-blue-500/10 to-indigo-500/5 rounded-full blur-xl animate-pulse",style:{animationDelay:"0.5s"}}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600 opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-2 bg-gradient-to-r from-blue-600 via-indigo-500 to-blue-500 opacity-60"}),e.jsx("div",{className:"container mx-auto px-[7%] relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-14 items-start lg:items-center",children:[e.jsxs("div",{className:"flex-1 space-y-6 lg:pr-8 max-w-3xl",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(ee,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-blue-400/50 to-transparent"})]}),e.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white drop-shadow-2xl leading-tight",children:t("location.title","Encontre-nos")}),e.jsx("p",{className:"text-lg md:text-xl text-blue-100/90 leading-relaxed max-w-2xl",children:t("location.subtitle","Localiza√ß√£o verificada no Google. Facilite sua rota e avalie nosso atendimento.")})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-3xl rounded-3xl p-6 lg:p-8 border border-white/20 shadow-2xl space-y-5 max-w-xl",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-xl flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(P,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Endere√ßo"}),e.jsxs("p",{className:"text-blue-100 leading-relaxed",children:[f.streetAddress,", ",f.neighborhood,e.jsx("br",{}),f.city," - ",f.state]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-orange-400 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(L,{className:"w-5 h-5 text-white fill-current"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Avalia√ß√µes"}),e.jsx("p",{className:"text-blue-100",children:t("location.reviews_realtime","Avalia√ß√µes em tempo real no Google")})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("a",{href:W,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center justify-center gap-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold px-6 lg:px-8 py-3 lg:py-4 rounded-2xl shadow-xl hover:shadow-2xl backdrop-blur-sm border border-blue-400/30 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1","aria-label":t("location.google_maps_button_aria","Abrir perfil da cl√≠nica no Google Maps (nova aba)"),children:[e.jsx("span",{className:"text-base lg:text-lg",children:t("location.google_maps_button","Ver no Google Maps")}),e.jsx(Y,{className:"w-4 lg:w-5 h-4 lg:h-5 group-hover:rotate-45 transition-transform duration-300"})]}),e.jsxs("a",{href:J,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center justify-center gap-3 border-2 border-blue-300/40 hover:border-blue-300/60 text-blue-100 hover:text-white font-semibold px-6 lg:px-8 py-3 lg:py-4 rounded-2xl bg-white/5 hover:bg-white/15 backdrop-blur-xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 shadow-lg hover:shadow-xl","aria-label":t("location.review_button_aria","Abrir p√°gina de avalia√ßeeeees no Google (nova aba)"),children:[e.jsx("span",{className:"text-base lg:text-lg",children:t("location.review_button","Avalie-nos no Google")}),e.jsx(L,{className:"w-4 lg:w-5 h-4 lg:h-5 text-amber-300 group-hover:scale-110 transition-transform duration-300"})]})]})]}),e.jsx("div",{className:"flex-1 max-w-2xl lg:self-center",children:e.jsxs("div",{className:"h-[304px] lg:h-[336px] rounded-3xl shadow-2xl bg-white/10 backdrop-blur-3xl relative border-2 border-white/20 group p-2",children:[e.jsx("div",{className:"absolute inset-2 bg-gradient-to-br from-blue-400/10 to-transparent rounded-2xl"}),e.jsx("div",{className:"absolute inset-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-tr from-cyan-400/5 to-blue-400/5 rounded-2xl"}),e.jsx("div",{className:"relative w-full h-full rounded-2xl overflow-hidden bg-gray-100",children:e.jsx(ie,{height:"100%"})}),e.jsx("div",{className:"absolute top-6 left-6 bg-white/90 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg z-10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Cl√≠nica Saraiva Vision"})]})})]})})]})})]})};export{be as C,fe as G};
