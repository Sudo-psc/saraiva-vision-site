import{j as e}from"./ui-CEZRb7IA.js";import{r,L as m}from"./router-CLI7QSIB.js";import{u as T,H as E,B as I}from"./index-CHpaVNy9.js";import{N as M,F as $,C as B}from"./Footer-Clv5CONQ.js";import{c as F,a as H,b as R,L as U,A as W,g as z,e as V,p as q}from"./pt-BR-BP-fwDos.js";import{m as f}from"./animation-BKbqriLr.js";import{S as G}from"./search-C7CJG8dW.js";import{A as J}from"./arrow-right-oy_8WLZW.js";import{f as K,e as O}from"./utils-DrE3OAY8.js";import"./vendor-D3F3s8fL.js";const oe=()=>{const{t:a,i18n:y}=T(),[x,j]=r.useState([]),[l,N]=r.useState([]),[v,d]=r.useState(!0),[w,g]=r.useState(null),[u,h]=r.useState(1),[o,_]=r.useState(null),[i,S]=r.useState(""),[C,p]=r.useState(!0);r.useEffect(()=>{(async()=>{try{d(!0),g(null);const s=await F();if(p(s),!s){d(!1);return}const n={per_page:9,page:u};o&&(n.categories=[o]),i&&(n.search=i);const[c,A]=await Promise.all([H(n),l.length===0?R():Promise.resolve(l)]);j(c),l.length===0&&N(A)}catch(s){console.error("Error loading blog data:",s),g(s.message),p(!1)}finally{d(!1)}})()},[u,o,i]);const P=()=>y.language==="pt"?q:O,b=t=>{_(t),h(1)},k=t=>{t.preventDefault(),h(1)},D=(t,s)=>{const n=z(t),c=V(t.excerpt?.rendered||"",120);return e.jsxs(f.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},className:"modern-card overflow-hidden flex flex-col",children:[e.jsx(m,{to:`/blog/${t.slug}`,className:"block overflow-hidden",children:e.jsx("img",{src:n||"https://placehold.co/600x400/e2e8f0/64748b?text=Image",alt:t._embedded?.["wp:featuredmedia"]?.[0]?.alt_text||a("ui.alt.blog_post","Imagem ilustrativa do artigo")+": "+(t.title?.rendered||"").replace(/<[^>]+>/g,""),className:"w-full h-56 object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",decoding:"async"})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:K(new Date(t.date),"dd MMMM, yyyy",{locale:P()})}),t._embedded?.["wp:term"]?.[0]?.length>0&&e.jsx("span",{className:"ml-4 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:t._embedded["wp:term"][0][0].name})]}),e.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 flex-grow",children:e.jsx(m,{to:`/blog/${t.slug}`,className:"hover:text-blue-600",dangerouslySetInnerHTML:{__html:t.title.rendered}})}),c&&e.jsx("div",{className:"text-gray-600 mb-4 text-sm",children:c}),e.jsx(m,{to:`/blog/${t.slug}`,className:"mt-auto",children:e.jsxs(I,{variant:"link",className:"p-0 text-blue-600 font-semibold group",children:[a("blog.read_more"),e.jsx(J,{className:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1"})]})})]})]},t.id)},L=()=>v?e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx(U,{className:"h-16 w-16 animate-spin text-blue-500"})}):w||!C?e.jsxs("div",{className:"text-center p-12 bg-yellow-50 border border-yellow-200 rounded-2xl max-w-2xl mx-auto",children:[e.jsx(W,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-semibold text-yellow-800",children:a("blog.placeholder_title")}),e.jsx("p",{className:"text-yellow-700 mt-2",children:a("blog.placeholder_desc_page")})]}):x.length===0?e.jsxs("div",{className:"text-center p-12",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a("blog.no_posts")}),e.jsx("p",{className:"text-gray-600",children:a("blog.no_posts_description")})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("form",{onSubmit:k,className:"max-w-md mx-auto mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:i,onChange:t=>S(t.target.value),placeholder:a("blog.search_placeholder"),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),l.length>0&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx("button",{onClick:()=>b(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${o===null?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:a("blog.all_categories")}),l.slice(0,6).map(t=>e.jsx("button",{onClick:()=>b(t.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${o===t.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t.name},t.id))]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map((t,s)=>D(t,s))})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[e.jsxs(E,{children:[e.jsxs("title",{children:[a("blog.page_title")," | Saraiva Vision"]}),e.jsx("meta",{name:"description",content:a("blog.page_description")})]}),e.jsx(M,{}),e.jsx("main",{className:"py-32 md:py-40 scroll-block-internal mx-[4%] md:mx-[6%] lg:mx-[8%]",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[e.jsxs(f.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900",children:a("blog.page_title")}),e.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:a("blog.page_subtitle")})]}),L()]})}),e.jsx($,{}),null]})};export{oe as default};
