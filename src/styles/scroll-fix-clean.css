/* ==========================================================================
   SCROLL FIX LIMPO E DEFINITIVO
   ========================================================================== */

/* RESET FUNDAMENTAL - Estrutura base simples */
html {
	/* HTML não deve ter scroll próprio */
	overflow-x: hidden;
	overflow-y: visible;
	height: auto;
	scroll-behavior: smooth;
}

body {
	/* Body gerencia o scroll principal */
	margin: 0;
	padding: 0;
	overflow-x: hidden;
	overflow-y: auto;
	position: relative;
	/* Previne bounce em iOS */
	overscroll-behavior-y: none;
	-webkit-overflow-scrolling: touch;
}

/* Container raiz nunca deve ter scroll próprio */
#root {
	min-height: 100vh;
	overflow: visible;
	position: relative;
}

/* CONTAINERS PRINCIPAIS - Nunca criam scroll próprio */
main,
section,
article,
.container,
.max-w-7xl,
.mx-auto {
	overflow: visible;
}

/* ELEMENTOS FIXOS - limitar apenas à utility .fixed (evitar pegar substrings) */
.fixed {
	position: fixed !important;
	z-index: 1000;
}

/* WIDGETS ESPECÍFICOS - remoção de seletor por substring para evitar side-effects.
   Os componentes definem sua posição explicitamente. */

/* Mantém utilitário .floating-widget como opt-in explícito */
.floating-widget {
	position: fixed !important;
	z-index: 1000;
	backface-visibility: hidden;
	transform: translateZ(0);
}

/* CARROSSEL - Scroll horizontal interno bem comportado */
.scroll-container {
	overflow-x: auto;
	overflow-y: visible;
	overscroll-behavior-x: contain;
	-webkit-overflow-scrolling: touch;
	/* Scrollbars invisíveis */
	scrollbar-width: none;
	-ms-overflow-style: none;
}

.scroll-container::-webkit-scrollbar {
	display: none;
}

/* DRAG TO SCROLL - Sem interferir na página */
.dragging {
	cursor: grabbing;
	user-select: none;
	scroll-snap-type: none;
}

/* MODAL OVERLAY - Bloqueia scroll quando necessário */
body.scroll-locked {
	overflow: hidden !important;
	padding-right: var(--scrollbar-width, 0px);
}

/* MOBILE OPTIMIZATIONS */
@media (max-width: 768px) {
	body {
		-webkit-overflow-scrolling: touch;
		overscroll-behavior-y: none;
	}

	.scroll-container {
		-webkit-overflow-scrolling: touch;
	}
}

/* ACCESSIBILITY */
@media (prefers-reduced-motion: reduce) {
	html {
		scroll-behavior: auto;
	}

	* {
		scroll-behavior: auto;
		transition-duration: 0.01ms;
		animation-duration: 0.01ms;
	}
}

/* UTILITY CLASSES */
.no-scroll {
	overflow: hidden;
}

.can-scroll {
	overflow: auto;
}

.no-overflow-x {
	overflow-x: hidden;
	max-width: 100%;
}

.touch-pan-x {
	touch-action: pan-x;
}

.perspective-1000 {
	perspective: 1000px;
}

.preserve-3d {
	transform-style: preserve-3d;
}

.will-change-transform {
	will-change: transform;
}

.transform-gpu {
	transform: translateZ(0);
}
