/**
 * Clean Scroll System - VERSÃO REFORÇADA - Previne Double Scroll e Bloqueia Scroll Interno
 * Este arquivo elimina completamente conflitos de rolagem dupla e bloqueia scroll dentro das views
 */

/* BLOQUEIO TOTAL DE SCROLL-BEHAVIOR - Força auto em todos os elementos */
* {
	scroll-behavior: auto !important;
}

/* ANTI-SCROLL DUPLO - Regras específicas para desktop */
@media (hover: hover) and (pointer: fine) {
	html,
	body {
		scroll-behavior: auto !important;
		overscroll-behavior: auto !important;
	}

	/* BLOQUEIO ADICIONAL - Previne CSS scroll interference */
	html {
		scroll-behavior: auto !important;
	}

	/* FORÇA SCROLL AUTO - Desabilita qualquer smooth scroll restante */
	:root {
		scroll-behavior: auto !important;
	}
}

/* BLOQUEIO DE SCROLL DENTRO DE VIEWS E CONTAINERS */
.view-container,
.page-container,
.route-container,
.container,
main,
section {
	scroll-behavior: auto !important;
	overscroll-behavior: none !important;
	overflow-x: hidden !important;
}

/* PERMITE SCROLL SUAVE APENAS QUANDO EXPLICITAMENTE HABILITADO */
.scroll-smooth-enabled {
	scroll-behavior: smooth !important;
}

/* Prevent overscroll bounce that can interfere with animations */
html,
body {
	overscroll-behavior: auto;
	-webkit-overflow-scrolling: touch;
}

/* Enable smooth scroll only on mobile to avoid conflicts */
@media (hover: none) and (pointer: coarse) {
	html,
	body {
		scroll-behavior: smooth;
		/* Permite scroll suave apenas no mobile */
	}
}

/* Fix for iOS scroll momentum conflicts */
.scroll-container {
	-webkit-overflow-scrolling: touch;
	overscroll-behavior: auto;
}

/* Prevent scroll conflicts in modal/overlay scenarios */
.scroll-lock {
	overflow: hidden !important;
	position: fixed !important;
	width: 100% !important;
}

/* HORIZONTAL SCROLL CONTROLADO - Permite apenas em carrosséis designados */
.horizontal-scroll {
	scroll-behavior: auto !important;
	/* JS controla suavidade */
	-webkit-overflow-scrolling: touch;
	scrollbar-width: none;
	-ms-overflow-style: none;
	overscroll-behavior-x: contain;
	/* Previne bounce horizontal */
	overscroll-behavior-y: none !important;
	/* BLOQUEADO: Scroll vertical da página */
	overflow-y: hidden !important;
	/* IMPORTANTE: Bloqueia scroll vertical dentro do carrossel */
}

.horizontal-scroll::-webkit-scrollbar {
	display: none;
}

/* BLOQUEIO DE SCROLL EM COMPONENTES INTERNOS */
.scroll-blocked {
	overflow: hidden !important;
	overscroll-behavior: none !important;
	scroll-behavior: auto !important;
}

/* BLOQUEIO ESPECÍFICO PARA VIEWS DE PÁGINAS */
.page-view,
.route-view {
	overflow-x: hidden !important;
	overflow-y: visible !important;
	overscroll-behavior: none !important;
	scroll-behavior: auto !important;
	position: relative;
	width: 100% !important;
	max-width: 100vw !important;
}

/* Otimizações específicas para mobile touch */
@media (hover: none) and (pointer: coarse) {
	.horizontal-scroll {
		scroll-snap-type: x proximity;
		/* Força hardware acceleration em iOS */
		transform: translate3d(0, 0, 0);
		will-change: scroll-position;
	}

	/* Melhora performance do snap em mobile */
	.horizontal-scroll>* {
		scroll-snap-align: start;
	}
}

/* Fix for reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
	* {
		scroll-behavior: auto !important;
		transition-duration: 0.01ms !important;
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
	}
}
