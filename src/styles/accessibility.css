/**
 * Accessibility Styles for Enhanced Footer
 * 
 * Provides accessible styling for 3D elements, focus indicators,
 * and high contrast mode compatibility.
 * 
 * Requirements covered: 6.1, 6.2, 6.4, 6.5
 */

/* Screen reader only content */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Focus indicators for 3D elements */
.enhanced-footer .social-icon-3d:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
    border-radius: 8px;
    box-shadow: 0 0 0 2px #3b82f6, 0 4px 12px rgba(59, 130, 246, 0.3);
}

/* Enhanced focus indicator for keyboard navigation */
.enhanced-footer .social-icon-3d:focus-visible.keyboard-focused {
    outline: 3px solid #3b82f6;
    outline-offset: 3px;
    box-shadow:
        0 0 0 3px #3b82f6,
        0 4px 16px rgba(59, 130, 246, 0.4),
        0 8px 24px rgba(59, 130, 246, 0.2);
    transform: translateZ(60px);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .enhanced-footer {
        background: ButtonFace !important;
        color: ButtonText !important;
        border: 1px solid ButtonText !important;
    }

    .enhanced-footer .enhanced-footer-glass-layer {
        background: ButtonFace !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }

    .enhanced-footer .social-icon-3d {
        background: ButtonFace !important;
        color: ButtonText !important;
        border: 2px solid ButtonText !important;
    }

    .enhanced-footer .social-icon-3d:hover,
    .enhanced-footer .social-icon-3d:focus {
        background: Highlight !important;
        color: HighlightText !important;
        border-color: HighlightText !important;
    }

    /* Disable glass effects in high contrast mode */
    .enhanced-footer .glass-bubble,
    .enhanced-footer .glass-overlay,
    .enhanced-footer .depth-shadow {
        display: none !important;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .enhanced-footer * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }

    .enhanced-footer .social-icon-3d {
        transform: none !important;
    }

    .enhanced-footer .glass-bubble {
        display: none !important;
    }

    .enhanced-footer .beam-background {
        display: none !important;
    }
}

/* Keyboard navigation indicators */
.enhanced-footer .keyboard-navigation-active .social-icon-3d {
    transition: all 0.2s ease-in-out;
}

.enhanced-footer .keyboard-navigation-active .social-icon-3d:focus {
    transform: scale(1.05);
    z-index: 10;
}

/* Skip link for keyboard users */
.enhanced-footer .skip-to-social {
    position: absolute;
    top: -40px;
    left: 6px;
    background: #000;
    color: #fff;
    padding: 8px;
    text-decoration: none;
    border-radius: 4px;
    z-index: 1000;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.2s ease-in-out;
}

.enhanced-footer .skip-to-social:focus {
    top: 6px;
    opacity: 1;
    transform: translateY(0);
}

/* Accessible tooltips */
.enhanced-footer .social-tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease-in-out;
    z-index: 1000;
}

.enhanced-footer .social-icon-3d:hover .social-tooltip,
.enhanced-footer .social-icon-3d:focus .social-tooltip {
    opacity: 1;
}

/* Ensure sufficient color contrast */
.enhanced-footer .social-icon-3d .icon-label {
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    font-weight: 500;
}

/* Focus trap container */
.enhanced-footer .focus-trap-container:focus-within {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
    border-radius: 8px;
}

/* Announcement region styling */
.enhanced-footer .announcement-region {
    position: absolute;
    left: -10000px;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* Loading state accessibility */
.enhanced-footer .loading-state {
    position: relative;
}

.enhanced-footer .loading-state::after {
    content: "Loading enhanced footer...";
    position: absolute;
    left: -10000px;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* Error state accessibility */
.enhanced-footer .error-state {
    border: 2px solid #ef4444;
    background: #fef2f2;
    color: #991b1b;
    padding: 1rem;
    border-radius: 8px;
}

.enhanced-footer .error-state::before {
    content: "Error: ";
    font-weight: bold;
}

/* Windows High Contrast Mode */
@media (-ms-high-contrast: active) {
    .enhanced-footer {
        background: Window !important;
        color: WindowText !important;
        border: 1px solid WindowText !important;
    }

    .enhanced-footer .enhanced-footer-glass-layer {
        background: Window !important;
        backdrop-filter: none !important;
    }

    .enhanced-footer .social-icon-3d {
        background: ButtonFace !important;
        color: ButtonText !important;
        border: 2px solid ButtonText !important;
    }

    .enhanced-footer .social-icon-3d:hover,
    .enhanced-footer .social-icon-3d:focus {
        background: Highlight !important;
        color: HighlightText !important;
    }
}

/* Print styles */
@media print {

    .enhanced-footer .glass-bubble,
    .enhanced-footer .beam-background,
    .enhanced-footer .depth-shadow {
        display: none !important;
    }

    .enhanced-footer {
        background: white !important;
        color: black !important;
    }

    .enhanced-footer .social-icon-3d {
        transform: none !important;
        box-shadow: none !important;
    }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
    .enhanced-footer .social-icon-3d {
        min-height: 44px;
        min-width: 44px;
    }

    .enhanced-footer .social-icon-3d:focus {
        outline: 3px solid #3b82f6;
        outline-offset: 2px;
    }
}

/* Voice control support */
.enhanced-footer [data-voice-command] {
    position: relative;
}

.enhanced-footer [data-voice-command]::after {
    content: attr(data-voice-command);
    position: absolute;
    left: -10000px;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* Forced colors mode (Windows) */
@media (forced-colors: active) {
    .enhanced-footer {
        background: Canvas !important;
        color: CanvasText !important;
        border: 1px solid CanvasText !important;
    }

    .enhanced-footer .social-icon-3d {
        background: ButtonFace !important;
        color: ButtonText !important;
        border: 2px solid ButtonText !important;
        forced-color-adjust: none;
    }

    .enhanced-footer .social-icon-3d:hover,
    .enhanced-footer .social-icon-3d:focus {
        background: Highlight !important;
        color: HighlightText !important;
        border-color: HighlightText !important;
    }

    /* Hide decorative elements */
    .enhanced-footer .glass-bubble,
    .enhanced-footer .glass-overlay,
    .enhanced-footer .depth-shadow,
    .enhanced-footer .beam-background {
        display: none !important;
    }
}