## CSP Report-Only snippet for dry-run in production
## Usage: include these lines inside the server block while testing changes.

add_header Content-Security-Policy-Report-Only "\
  default-src 'self'; \
  base-uri 'self'; \
  form-action 'self'; \
  frame-ancestors 'self'; \
  object-src 'none'; \
  script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://www.gstatic.com https://www.google.com https://maps.googleapis.com; \
  style-src  'self' 'unsafe-inline' https://fonts.googleapis.com; \
  img-src    'self' data: https:; \
  font-src   'self' https://fonts.gstatic.com; \
  connect-src 'self' https://www.google-analytics.com https://region1.google-analytics.com https://www.googletagmanager.com https://www.gstatic.com https://www.google.com https://maps.googleapis.com https://places.googleapis.com https://maps.gstatic.com; \
  frame-src  'self' https://www.googletagmanager.com https://open.spotify.com; \
  media-src  'self' https: data:; \
  upgrade-insecure-requests\
" always;

