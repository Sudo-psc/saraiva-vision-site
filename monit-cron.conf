###############################################################################
# MONITORAMENTO DO CRON
# Agendador de tarefas do sistema
# Essencial para backups, limpezas e jobs automáticos
###############################################################################

check process cron with pidfile /var/run/crond.pid
    group system
    start program = "/usr/bin/systemctl start cron"
    stop program = "/usr/bin/systemctl stop cron"
    
    # Verificar se processo está rodando
    if not exist for 2 cycles then restart
    
    # Monitorar uso de CPU
    if cpu > 60% for 5 cycles then alert
    
    # Monitorar uso de memória
    if totalmem > 100 MB for 5 cycles then alert
    
    # Limitar tentativas de restart
    if 3 restarts within 5 cycles then timeout

